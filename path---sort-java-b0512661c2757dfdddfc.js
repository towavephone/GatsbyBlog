webpackJsonp([0x77ecc5d1748f],{1407:function(n,a){n.exports={data:{file:{childImageSharp:{sizes:{base64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsSAAALEgHS3X78AAAHlElEQVRIx12We2xT5xXAbcI2Vmn7o1I1uhVYRxL8tuPn9bXv0+/4/YgdOyYkkATCCEEYsqVNC2wCIYQWShmUBFh4hMAWECot0BUtlI4yAS1oKqJQXimsDBgTU8codnLO7r0uUPpJn87Rp+/8vvOdc75zr8xmZmTieI1NykU5yxOfxDncz3NUjAlyDXMjXGMhys+cG+FzGQ8VU4t7XuV8z8m+GUkrJclSqVReYJ0ZWQ8Tl2AdTPhnq9ns2QKd+crDZiHha8NsYCE21HZiXphpb3sxxTf99Tdsw51ldHqFaLOXXyzvYqOyZ0YPk5soylfouuUbvHOxh56JbiqJfi4/FnE1lxKetrGUZ954nbcdU/752ORpxWVsc6mZjPxctFtApeVtra1lmIPwTxClgeCqvGTsX/WWOEbtyTGWSoGbToOPzUHQ1QghVxOEhRniZ5U8XB4TzvTdgj1ZJdq2OOrkGhVRBnrYFum6TiK0l2fr0emMlVxcBhlnEniqDjlBuqg0CnD0MPWiDrwzhR4u+5B3x3WiLUNHJjxzZYvR8ZKTCP+Xo1JoM/nBYvSB1egHuyUIrCOBPj4LtD0KlD2K4h7SGip62aygxzaK9rHA3Aqt2vw0MRYjnyJtYaQdsXG9hgWFwgmVlXZUKUjUqmm0CgfwhA80Kgr1Wg40Sue4SuFEnZq+YjMbJ0kh0zmfemjQ0j2EJYh2a23RVOODIBvHmCsBUaoWLDoWKIsP50bTApxC5QwH1Ghp0Gk4MBk8aDLQEslooCc88VClsK+zGANI2mqLer0XFuea8PSuN+DM7o3QWyhAR7IBfj+vDbyOICS9aSjkZo8nvSlUKuxXLDUOKdN6LSl/AlRUE+vNAnD50l8XeTIEPiYEzXYG5mlNeGz7BvjPpY/g5snDcHxwE+zs7oCh1zvHCrNm48u/ML8j2muVQblBZ3t6ZY2KXKtQcDiwdk1xx9rV0BlqghEuD4fNUTy1Zwhw7Cbioxu461fdsOgFDa5pbh3zu6NifE9f+XCPlGHS5nuaFI3K8brJ4EUHES4WFiyEP2/dCPc2vYH/3NIHePcywP1LWLp3Ec4tWQa3FvbAu7294yqVA801rju5utYfiQyKDD4DnC8GWEhMafJPtBALxuHjo3+C8bufIn59DfHBFcDiDcQvzyF+/iEsbWuDadNMaDW5H7nY6Iyyh165zfLNtdUqIqLTsEJSQqBVUTD1JQPqdRT8sf9NuH7kMHy0fRg+O3EUzp96H/Zs2SBklxFKxwFmowtdTCIoPQx7oKLzl32PPTRPVSudDwQgCrUGL0+twdzsDjjSdwD2J1fh/q7N0N+1EtykB178qVY4lAahRktWkw95JrG4DAxPvHU3Wwb+rlcsHfK0WNxCoMdUCgdUaxnMBPKw7dVe2LyhDw4MboORA4NQOd2CaiUFaqWjZJGAyQGRUeubP8FqElqZspquEBeUM2zrnEQUa3R8USVcp2qGDZV6ErqXL4PfrlwFhSU9cPL4MejfshOsZq90sCg5KvHZ5MnPfa+cmFrxukRFuRZNcYqIoNngHheeFmiF11ClIDBdPwfqG9qhc1E3rF25GnrX90M204JqBfWItPrP8lTqa7vFpSw3GJ9cZjI4pW5TXaWezpKxh4Q5gEY9LwApVOtZMApxVWhd2DKvC7K5FjTUsFCj45Ah4yXaHuz1MBlgyHCb1HXISIXMTcekOJqN1h/72Mx92h5DwuwHjeChWseBQsNgJJ6H944eB5oNgaLajnaL/07E24wuKr7Cz+XuuenUsMioCxYmyHhnSPLQTYVVYVfjI46Mo80WBLMgLY4E1FhCOENBAsfHQG/0juuNPqGguU8ywXas5XNbg6783wJ8w781GtUPJc+irkap/Ufdje0JXytStnDJbA2D1Z4EKxEHsyUMRmsIdcZaNFpCYBYqwWQLPhD3Btn6t2Pe5uF0cD7Sdr/xmSab8racFaDooOvuk0wDEs40EFQGbVQGbEKXJoTPgZ3JoJGIgULvR6M1jE67rzvpae5ojC7GEJ9rfgILc7lC3NV0T6flTtjoPLK+VuD8rcD65gDtaQInPxOtzoxQRrXgD8/BdW/+YezYByfxvfdHvnxl+ZLKCDfzUMIze60Ey+brJukrqcjA1u3tBw8dfZiZuRQFaNFory/WEPUlE5kFK5WDQKRtbFPfUOnChUvFL27cwKuj/8CBHXv2iQw/k/KGuNwyCYiIkhw+sO/569eu7b1+ffR/H5z4BAcG38X1m/biyjX9ODR8GC9dHsXLV0fx5KlzePDIyFd7ht9ZJZhJrcvLhV/wMuUPljQWtC6Z+FjfuWPHlPMXLq64Onpz3d8/Pf9WX//OW2vWbITBof3n3tqya9fbh/7SvW1gZ9Xj/V1dr8kf614qIZONjBwrezi8Ty54K5d9ZzTmF+xe1LnioaD+4Nvrn4/ermif3yHp8UCDLMCky7Z+n192+/YdST9z5mPZ7t1D8ouXv6gQ4S9WTplks7mut8xZijxbKz2vvi2D39/cPyB/HC5xOm2czPvd35F8rkGCS0+I4WXV1QbJaMq06XqbNXCQJIILpH8hOic3GghZMpl62qG/Nf4PRzaQ862MzO4AAAAASUVORK5CYII=",aspectRatio:.6666666666666666,src:"/static/avatar-dc7bc85837bf005ae32d2a37dfdfa8a2-25c91.png",srcSet:"/static/avatar-dc7bc85837bf005ae32d2a37dfdfa8a2-8a97b.png 200w,\n/static/avatar-dc7bc85837bf005ae32d2a37dfdfa8a2-0fdf3.png 400w,\n/static/avatar-dc7bc85837bf005ae32d2a37dfdfa8a2-25c91.png 600w",srcWebp:"/static/avatar-dc7bc85837bf005ae32d2a37dfdfa8a2-216f6.webp",srcSetWebp:"/static/avatar-dc7bc85837bf005ae32d2a37dfdfa8a2-5d70e.webp 200w,\n/static/avatar-dc7bc85837bf005ae32d2a37dfdfa8a2-d1677.webp 400w,\n/static/avatar-dc7bc85837bf005ae32d2a37dfdfa8a2-216f6.webp 600w",sizes:"(max-width: 600px) 100vw, 600px"}}},site:{siteMetadata:{title:"女王控的博客",description:'前端工程师，黑猫女王控，欢迎勾搭，技术相关<a href="https://github.com/towavephone" target="_blank">@towavephone</a>，QQ闲聊<a href="tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=634407147&website=www.oicqzone.com">@towave</a>，bili关注<a href="https://space.bilibili.com/11507708#/" target="_blank">@towave</a>',siteUrl:"https://blog.towavephone.com"}},mainPost:{html:'<h2 id="选择排序"><a href="#%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>选择排序</h2>\n<h3 id="思路"><a href="#%E6%80%9D%E8%B7%AF" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>思路</h3>\n<blockquote>\n<p>首先，找到数组中最小的那个元素，其次，将它和数组的第一个元素交换位置（如果第一个元素就是最小元素那么它就和自己交换）。再次，在剩下的元素中找到最小的元素，将它与数组的第二个元素交换位置。如此往复，直到将整个数组排序。</p>\n</blockquote>\n<h3 id="特点"><a href="#%E7%89%B9%E7%82%B9" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>特点</h3>\n<blockquote>\n<ul>\n<li>对于长度为 N 的数组，选择排序需要大约 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">N^2/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord">/</span><span class="mord">2</span></span></span></span> 次比较，N 次交换</li>\n</ul>\n</blockquote>\n<ul>\n<li>运行时间和输入无关，其他算法会更善于利用输入的初始状态</li>\n<li>数据移动是最少的，每次交换都会改变两个数组元素的值，因此选择排序用了 N 次交换，其他任何算法都不具备这个特征（大部分的增长数量级都是线性对数或是平方级别）</li>\n</ul>\n<h3 id="实现"><a href="#%E5%AE%9E%E7%8E%B0" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实现</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="35125912809945547000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class Selection\n{\n    public static void sort(Comparable[] a)\n    { // 将a[]按升序排列\n        int N = a.length; // 数组长度\n        for (int i = 0; i < N; i++)\n        {   // 将a[i]和a[i+1..N]中最小的元素交换\n            int min = i; // 最小元素的索引\n            for (int j = i+1; j < N; j++)\n            if (less(a[j], a[min])) min = j;\n            exch(a, i, min);\n        }\n    }\n    // less()、exch()、isSorted()和main()方法见“排序算法类模板”\n}`, `35125912809945547000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Selection</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span> <span class="token comment">// 将a[]按升序排列</span>\n        <span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 数组长度</span>\n        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>\n        <span class="token punctuation">{</span>   <span class="token comment">// 将a[i]和a[i+1..N]中最小的元素交换</span>\n            <span class="token keyword">int</span> min <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token comment">// 最小元素的索引</span>\n            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>\n            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">less</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>min<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> min <span class="token operator">=</span> j<span class="token punctuation">;</span>\n            <span class="token function">exch</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> i<span class="token punctuation">,</span> min<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    <span class="token comment">// less()、exch()、isSorted()和main()方法见“排序算法类模板”</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="插入排序"><a href="#%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>插入排序</h2>\n<h3 id="思路-1"><a href="#%E6%80%9D%E8%B7%AF-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>思路</h3>\n<blockquote>\n<p>在计算机的实现中，为了给要插入的元素腾出空间，我们需要将其余所有元素在插入之前都向右移动一位。这种算法叫做插入排序</p>\n</blockquote>\n<h3 id="特点-1"><a href="#%E7%89%B9%E7%82%B9-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>特点</h3>\n<blockquote>\n<ul>\n<li>和选择排序不同的是，插入排序所需的时间取决于输入中元素初始顺序</li>\n</ul>\n</blockquote>\n<ul>\n<li>对于随机排列的长度为 N 且主键不重复的数组，平均情况下插入排序需要～<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup><mi mathvariant="normal">/</mi><mn>4</mn></mrow><annotation encoding="application/x-tex">N^2 /4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord">/</span><span class="mord">4</span></span></span></span>次比较以及～ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup><mi mathvariant="normal">/</mi><mn>4</mn></mrow><annotation encoding="application/x-tex">N^2 /4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord">/</span><span class="mord">4</span></span></span></span> 次交换，最坏情况下需要 ～<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">N^2 /2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord">/</span><span class="mord">2</span></span></span></span> 次比较和 ～<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">N^2 /2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord">/</span><span class="mord">2</span></span></span></span> 次交换，最好情况下需要 N-1 次比较和 0 次交换</li>\n<li>倒置指的是数组中的两个顺序颠倒的元素。比如 E X A M P L E 中有 11 对倒置：E-A、 X-A、 X-M、 X-P、 X-L、 X-E、 M-L、 M-E、 P-L、 P-E 以及 L-E，如果数组中倒置的数量小于数组大小的某个倍数，那么我们说这个数组是部分有序的。几种典型的部分有序的数组：</li>\n<li>数组中每个元素距离它的最终位置都不远；</li>\n<li>一个有序的大数组接一个小数组；</li>\n<li>数组中只有几个元素的位置不正确。</li>\n<li>插入排序对这样的数组很有效，而选择排序则不然。事实上，当倒置的数量很少时，插入排序很可能比本章中的其他任何算法都要快。</li>\n<li>插入排序需要的交换操作和数组中倒置的数量相同，需要的比较次数大于等于倒置的数量，小于等于倒置的数量加上数组的大小再减一</li>\n</ul>\n<h2 id="实现-1"><a href="#%E5%AE%9E%E7%8E%B0-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实现</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="77282054123446620000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class Insertion\n{\n    public static void sort(Comparable[] a)\n    { // 将a[]按升序排列\n        int N = a.length;\n        for (int i = 1; i < N; i++)\n        {\n            // 将 a[i] 插入到 a[i-1]、a[i-2]、a[i-3]...之中\n            for (int j = i; j > 0 && less(a[j], a[j-1]); j--)\n            exch(a, j, j-1);\n        }\n    }\n    // less()、exch()、isSorted()和main()方法见“排序算法类模板”\n}`, `77282054123446620000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Insertion</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span> <span class="token comment">// 将a[]按升序排列</span>\n        <span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>\n        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>\n        <span class="token punctuation">{</span>\n            <span class="token comment">// 将 a[i] 插入到 a[i-1]、a[i-2]、a[i-3]...之中</span>\n            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token function">less</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span>\n            <span class="token function">exch</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> j<span class="token punctuation">,</span> j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    <span class="token comment">// less()、exch()、isSorted()和main()方法见“排序算法类模板”</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="选择排序与插入排序的比较"><a href="#%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F%E4%B8%8E%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E7%9A%84%E6%AF%94%E8%BE%83" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>选择排序与插入排序的比较</h2>\n<h3 id="特点-2"><a href="#%E7%89%B9%E7%82%B9-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>特点</h3>\n<blockquote>\n<ul>\n<li>对于随机排序的无重复主键的数组，插入排序和选择排序的运行时间是平方级别的，两者之比应该是一个较小的常数</li>\n</ul>\n</blockquote>\n<h2 id="希尔排序"><a href="#%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>希尔排序</h2>\n<h3 id="思路-2"><a href="#%E6%80%9D%E8%B7%AF-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>思路</h3>\n<blockquote>\n<p>希尔排序为了加快速度简单地改进了插入排序，交换不相邻的元素以对数组的局部进行排序，并最终用插入排序将局部有序的数组排序算法 2.3 的实现使用了序列 1/2（3 k -1），从 N /3 开始递减至 1。我们把这个序列称为递增序列。</p>\n</blockquote>\n<h3 id="特点-3"><a href="#%E7%89%B9%E7%82%B9-3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>特点</h3>\n<blockquote>\n<ul>\n<li>透彻理解希尔排序的性能至今仍然是一项挑战</li>\n</ul>\n</blockquote>\n<ul>\n<li>插入排序的增量改进版</li>\n<li>使用递增序列 1, 4, 13, 40, 121, 364…的希尔排序所需的比较次数不会超出 N 的若干倍乘以递增序列的长度。</li>\n<li>对于中等大小的数组它的运行时间是可以接受的。它的代码量很小，且不需要使用额外的内存空间</li>\n</ul>\n<h3 id="实现-2"><a href="#%E5%AE%9E%E7%8E%B0-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实现</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="15017374941584550000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class Shell\n{\n    public static void sort(Comparable[] a)\n    { // 将a[]按升序排列\n        int N = a.length;\n        int h = 1;\n        while (h < N/3) h = 3*h + 1; // 1, 4, 13, 40, 121, 364, 1093, ...\n        while (h >= 1)\n        {   // 将数组变为h有序\n            for (int i = h; i < N; i++)\n            {   // 将a[i]插入到a[i-h], a[i-2*h], a[i-3*h]... 之中\n                for (int j = i; j >= h && less(a[j], a[j-h]); j -= h)\n                exch(a, j, j-h);\n            }\n            h = h/3;\n        }\n    }\n    // less()、exch()、isSorted()和main()方法见“排序算法类模板”\n}`, `15017374941584550000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Shell</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span> <span class="token comment">// 将a[]按升序排列</span>\n        <span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>\n        <span class="token keyword">int</span> h <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>\n        <span class="token keyword">while</span> <span class="token punctuation">(</span>h <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">)</span> h <span class="token operator">=</span> <span class="token number">3</span><span class="token operator">*</span>h <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 1, 4, 13, 40, 121, 364, 1093, ...</span>\n        <span class="token keyword">while</span> <span class="token punctuation">(</span>h <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">)</span>\n        <span class="token punctuation">{</span>   <span class="token comment">// 将数组变为h有序</span>\n            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> h<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">N</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>\n            <span class="token punctuation">{</span>   <span class="token comment">// 将a[i]插入到a[i-h], a[i-2*h], a[i-3*h]... 之中</span>\n                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">>=</span> h <span class="token operator">&amp;&amp;</span> <span class="token function">less</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>j<span class="token operator">-</span>h<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j <span class="token operator">-=</span> h<span class="token punctuation">)</span>\n                <span class="token function">exch</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> j<span class="token punctuation">,</span> j<span class="token operator">-</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n            h <span class="token operator">=</span> h<span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    <span class="token comment">// less()、exch()、isSorted()和main()方法见“排序算法类模板”</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="归并排序"><a href="#%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>归并排序</h2>\n<h3 id="思路-3"><a href="#%E6%80%9D%E8%B7%AF-3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>思路</h3>\n<blockquote>\n<p>将两个有序的数组合并成一个更大的有序数组，递归的将两半排序，然后将结果归并起来。</p>\n</blockquote>\n<h3 id="特点-4"><a href="#%E7%89%B9%E7%82%B9-4" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>特点</h3>\n<blockquote>\n<ul>\n<li>优点：保证将任意长度为 N 的数组排序所需时间和 NlogN 成正比</li>\n</ul>\n</blockquote>\n<ul>\n<li>缺点：所需的额外空间和 N 成正比。</li>\n<li>对于长度为 N 的任意数组，自顶向下的归并排序需要<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn><mi>N</mi><mi>l</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">1/2NlgN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord">1</span><span class="mord">/</span><span class="mord">2</span><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="mord mathit" style="margin-right:0.10903em;">N</span></span></span></span>至 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mi>l</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">NlgN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="mord mathit" style="margin-right:0.10903em;">N</span></span></span></span> 次比较</li>\n<li>对于长度为 N 的任意数组，自顶向下的归并排序最多需要访问数组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><mi>N</mi><mi>l</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">6NlgN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="base"><span class="mord">6</span><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="mord mathit" style="margin-right:0.10903em;">N</span></span></span></span>次</li>\n<li>对于长度为 N 的任意数组，自底向上的归并排序需要 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn><mi>N</mi><mi>l</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">1/2NlgN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord">1</span><span class="mord">/</span><span class="mord">2</span><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="mord mathit" style="margin-right:0.10903em;">N</span></span></span></span> 至 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mi>l</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">NlgN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="mord mathit" style="margin-right:0.10903em;">N</span></span></span></span> 次比较，最多访问数组 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><mi>N</mi><mi>l</mi><mi>g</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">6NlgN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="base"><span class="mord">6</span><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="mord mathit" style="margin-right:0.10903em;">N</span></span></span></span> 次</li>\n</ul>\n<h3 id="原地归并抽象方法"><a href="#%E5%8E%9F%E5%9C%B0%E5%BD%92%E5%B9%B6%E6%8A%BD%E8%B1%A1%E6%96%B9%E6%B3%95" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>原地归并抽象方法</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="74777831032568990000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public static void merge(Comparable[] a,int lo,int mid,int hi){\n    //将a[lo...mid]和a[mid+1...hi]归并\n    int i=lo,j=mid+1;\n    for(int k=lo;k<=hi;k++){\n        aux[k]=a[k];\n    }\n    for(int k=lo;k<=hi;k++){\n        // 左半边用尽（取右半边元素）,右半边用尽（取左半边元素），左半边大于右半边（取右半边元素），右半边大于左半边（取左半边元素）\n        if(i>mid) a[k]=aux[j++];\n        else if(j>hi) a[k]=aux[i++];\n        else if(less(aux[j],aux[i])) a[k]=aux[j++];\n        else a[k]=aux[i++];\n    }\n}`, `74777831032568990000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> lo<span class="token punctuation">,</span><span class="token keyword">int</span> mid<span class="token punctuation">,</span><span class="token keyword">int</span> hi<span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token comment">//将a[lo...mid]和a[mid+1...hi]归并</span>\n    <span class="token keyword">int</span> i<span class="token operator">=</span>lo<span class="token punctuation">,</span>j<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>\n    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token operator">=</span>lo<span class="token punctuation">;</span>k<span class="token operator">&lt;=</span>hi<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        aux<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">=</span>a<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token operator">=</span>lo<span class="token punctuation">;</span>k<span class="token operator">&lt;=</span>hi<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token comment">// 左半边用尽（取右半边元素）,右半边用尽（取左半边元素），左半边大于右半边（取右半边元素），右半边大于左半边（取左半边元素）</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">></span>mid<span class="token punctuation">)</span> a<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">=</span>aux<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">></span>hi<span class="token punctuation">)</span> a<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">=</span>aux<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">less</span><span class="token punctuation">(</span>aux<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>aux<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> a<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">=</span>aux<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token keyword">else</span> a<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">=</span>aux<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="自顶向下实现"><a href="#%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E5%AE%9E%E7%8E%B0" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>自顶向下实现</h3>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/QQ截图20180317123059-f99a81c8c831c00c2ffb8c400c121d28-c61f7.jpg" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 735px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 53.197278911564624%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB26FUf//EABcQAAMBAAAAAAAAAAAAAAAAAAABECH/2gAIAQEAAQUCrwU//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAERIUFx/9oACAEBAAE/IU9fpBCcGm6Q/9oADAMBAAIAAwAAABDgD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAQACAgMAAAAAAAAAAAAAAAEAESFBMYGx/9oACAEBAAE/EFSV0qI2L3AVj2BSoRIMqgDgn//Z\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="QQ  20180317123059" title="" data-src="/static/QQ截图20180317123059-f99a81c8c831c00c2ffb8c400c121d28-c61f7.jpg" data-srcset="/static/QQ截图20180317123059-f99a81c8c831c00c2ffb8c400c121d28-b069f.jpg 200w,\n/static/QQ截图20180317123059-f99a81c8c831c00c2ffb8c400c121d28-815ce.jpg 400w,\n/static/QQ截图20180317123059-f99a81c8c831c00c2ffb8c400c121d28-c61f7.jpg 735w" data-sizes="(max-width: 735px) 100vw, 735px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="89374771495725630000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class Merge\n{\n    private static Comparable[] aux;\n    public static void sort(Comparable[] a){\n        aux=new Comparable[a.length];//一次性分配空间\n        sort(a,0,a.length-1);\n    }\n    private static void sort(Comparable[] a,int lo,int hi){\n        //将数组a[lo...hi]排序\n        if(hi<=lo) return;\n        int mid=lo+(hi-lo)/2;\n        sort(a,lo,mid);\n        sort(a,mid+1,hi);\n        merge(a,lo,mid,hi);\n    }\n}`, `89374771495725630000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Merge</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> aux<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        aux<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Comparable</span><span class="token punctuation">[</span>a<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//一次性分配空间</span>\n        <span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> lo<span class="token punctuation">,</span><span class="token keyword">int</span> hi<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token comment">//将数组a[lo...hi]排序</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>hi<span class="token operator">&lt;=</span>lo<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>\n        <span class="token keyword">int</span> mid<span class="token operator">=</span>lo<span class="token operator">+</span><span class="token punctuation">(</span>hi<span class="token operator">-</span>lo<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>\n        <span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>lo<span class="token punctuation">,</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>mid<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>hi<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token function">merge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>lo<span class="token punctuation">,</span>mid<span class="token punctuation">,</span>hi<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="自底向上实现"><a href="#%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%AE%9E%E7%8E%B0" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>自底向上实现</h3>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/QQ截图20180317123009-cc093f2baa3f3268910109c0db7b1927-1a3db.jpg" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 57.0362473347548%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdlkFjD/xAAYEAACAwAAAAAAAAAAAAAAAAABQQAQEf/aAAgBAQABBQJ0gdM//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGRABAAMBAQAAAAAAAAAAAAAAAQARMRAh/9oACAEBAAE/Ibbg+RCGRKSbGW+f/9oADAMBAAIAAwAAABAjD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQACAgMBAAAAAAAAAAAAAAEAESExQVFhsf/aAAgBAQABPxBTiAqXt/YQwhEq2v2EDsDqGNT/2Q==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="QQ  20180317123009" title="" data-src="/static/QQ截图20180317123009-cc093f2baa3f3268910109c0db7b1927-dfbfc.jpg" data-srcset="/static/QQ截图20180317123009-cc093f2baa3f3268910109c0db7b1927-75a98.jpg 200w,\n/static/QQ截图20180317123009-cc093f2baa3f3268910109c0db7b1927-1f451.jpg 400w,\n/static/QQ截图20180317123009-cc093f2baa3f3268910109c0db7b1927-dfbfc.jpg 800w,\n/static/QQ截图20180317123009-cc093f2baa3f3268910109c0db7b1927-1a3db.jpg 938w" data-sizes="(max-width: 800px) 100vw, 800px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="11328924242442630000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class MergeBU\n{\n    private static Comparable[] aux;\n    public static void sort(Comparable[] a){\n        int N=a.length;\n        aux=new Comparable[N];\n        //sz：子数组大小\n        for(int sz=1;sz<N;sz=sz+sz){\n            //lo：子数组索引\n            for(int lo=0;lo<N-sz;lo+=sz+sz){\n                merge(a,lo,lo+sz-1,Math.min(lo+sz+sz-1,N-1));\n            }\n        }\n    }\n}`, `11328924242442630000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MergeBU</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> aux<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">int</span> <span class="token class-name">N</span><span class="token operator">=</span>a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>\n        aux<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token class-name">N</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token comment">//sz：子数组大小</span>\n        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> sz<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>sz<span class="token operator">&lt;</span><span class="token class-name">N</span><span class="token punctuation">;</span>sz<span class="token operator">=</span>sz<span class="token operator">+</span>sz<span class="token punctuation">)</span><span class="token punctuation">{</span>\n            <span class="token comment">//lo：子数组索引</span>\n            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> lo<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>lo<span class="token operator">&lt;</span><span class="token class-name">N</span><span class="token operator">-</span>sz<span class="token punctuation">;</span>lo<span class="token operator">+=</span>sz<span class="token operator">+</span>sz<span class="token punctuation">)</span><span class="token punctuation">{</span>\n                <span class="token function">merge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>lo<span class="token punctuation">,</span>lo<span class="token operator">+</span>sz<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>lo<span class="token operator">+</span>sz<span class="token operator">+</span>sz<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="改进方法"><a href="#%E6%94%B9%E8%BF%9B%E6%96%B9%E6%B3%95" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>改进方法</h3>\n<blockquote>\n<ul>\n<li>对小规模子数组使用插入排序。</li>\n</ul>\n</blockquote>\n<ul>\n<li>测试数组是否已经有序：如果 a[mid]小于等于 a[mid+1]，我们认为数组已经有序并跳过 merge 方法。</li>\n<li>不将元素复制到辅助数组。</li>\n</ul>\n<h2 id="快速排序"><a href="#%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>快速排序</h2>\n<h3 id="思路-4"><a href="#%E6%80%9D%E8%B7%AF-4" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>思路</h3>\n<blockquote>\n<p>是一种分治的排序算法，将一个数组分成两个子数组，将两部分独立的排序。</p>\n</blockquote>\n<h3 id="特点-5"><a href="#%E7%89%B9%E7%82%B9-5" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>特点</h3>\n<blockquote>\n<ul>\n<li>原地排序，且与长度为 N 的数组排序所需的时间和 NlgN 成正比。</li>\n</ul>\n</blockquote>\n<ul>\n<li>缺点是非常脆弱，实现时要小心避免低劣的性能，可能会降级到平方级别</li>\n<li>快速排序和归并排序是互补的：归并排序将数组分成两个子数组分别排序，递归调用发生在处理整个数组之前；而快速排序是指当数组的两个子数组都有序时整个数组也就自然有序了，递归调用发生在处理整个数组之后。</li>\n<li>归并排序中，一个数组被切分成两半；而对于快速排序，切分的位置取决于数组的内容。</li>\n<li>将长度为 N 的无重复数组排序，快速排序平均需要~2NlgN 次比较（以及 1/6 次交换）。</li>\n<li>快速排序最多需要约<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">N^2/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord">/</span><span class="mord">2</span></span></span></span>次比较，但随机打乱数组能够预防这种情况。</li>\n<li>对于大小为 N 的数组，算法的运行时间在 1.39NlgN 的某个常数因子的范围之内。比归并排序更快，因为它移动数据的次数更少，虽然比较次数多了 39%。</li>\n</ul>\n<h3 id="实现-3"><a href="#%E5%AE%9E%E7%8E%B0-3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实现</h3>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/QQ截图20180317150548-3169203454087a31c75a75caf6dd41dc-d3be2.jpg" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 777px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 37.96653796653796%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdyAsD//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAEFAn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAaEAACAgMAAAAAAAAAAAAAAAAAAREhMVFx/9oACAEBAAE/Ib1Bxiwf/9oADAMBAAIAAwAAABBwD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABkQAQACAwAAAAAAAAAAAAAAAAEAESExcf/aAAgBAQABPxC0qrplquQmif/Z\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="QQ  20180317150548" title="" data-src="/static/QQ截图20180317150548-3169203454087a31c75a75caf6dd41dc-d3be2.jpg" data-srcset="/static/QQ截图20180317150548-3169203454087a31c75a75caf6dd41dc-97672.jpg 200w,\n/static/QQ截图20180317150548-3169203454087a31c75a75caf6dd41dc-6eace.jpg 400w,\n/static/QQ截图20180317150548-3169203454087a31c75a75caf6dd41dc-d3be2.jpg 777w" data-sizes="(max-width: 777px) 100vw, 777px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="26029634956808167000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class Quick\n{\n    public static void sort(Comparable[] a){\n        // 消除对输入的依赖，避免切分不平衡\n        StdRandom.shuffle(a);\n        sort(a,0,a.length-1);\n    }\n    private static void sort(Comparable[] a,int lo,int hi){\n        if(lo>=hi) return;\n        int j=partition(a,lo,hi);\n        sort(a,lo,j-1);\n        sort(a,j+1,hi);\n    }\n    private static int partition(Comparable[] a,int lo,int hi){\n        int i=lo,j=hi+1;\n        Comparable v=a[lo];\n        while(true){\n            while(less(a[++i],v)) if(i==hi) break;\n            while(less(v,a[--j])) if(j==lo) break;\n            // 避免指针错过\n            if(i>=j) break;\n            exch(a,i,j);\n        }\n        //将v=a[j]放入正确的位置\n        exch(a,lo,j);\n        return j;\n    }\n}`, `26029634956808167000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Quick</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token comment">// 消除对输入的依赖，避免切分不平衡</span>\n        <span class="token class-name">StdRandom</span><span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> lo<span class="token punctuation">,</span><span class="token keyword">int</span> hi<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>lo<span class="token operator">>=</span>hi<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>\n        <span class="token keyword">int</span> j<span class="token operator">=</span><span class="token function">partition</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>lo<span class="token punctuation">,</span>hi<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>lo<span class="token punctuation">,</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>hi<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">partition</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> lo<span class="token punctuation">,</span><span class="token keyword">int</span> hi<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">int</span> i<span class="token operator">=</span>lo<span class="token punctuation">,</span>j<span class="token operator">=</span>hi<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>\n        <span class="token class-name">Comparable</span> v<span class="token operator">=</span>a<span class="token punctuation">[</span>lo<span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n            <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">less</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token operator">++</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span>hi<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>\n            <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">less</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span>a<span class="token punctuation">[</span><span class="token operator">--</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">==</span>lo<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>\n            <span class="token comment">// 避免指针错过</span>\n            <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">>=</span>j<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>\n            <span class="token function">exch</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token comment">//将v=a[j]放入正确的位置</span>\n        <span class="token function">exch</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>lo<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">return</span> j<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="算法改进"><a href="#%E7%AE%97%E6%B3%95%E6%94%B9%E8%BF%9B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>算法改进</h3>\n<blockquote>\n<ul>\n<li>切换到插入排序：if(hi&#x3C;=lo) return;替换为 if(hi&#x3C;=lo+M) {Insertion.sort(a,lo,hi); return;}，转换参数 M 的最佳值和系统相关一般取 5~15 之间。</li>\n</ul>\n</blockquote>\n<ul>\n<li>三取样切分：使用子数组的一小部分元素的中位数来切分数组，当取样大小设为 3 并用大小居中的元素切分的效果最好。还可以将取样元素放在数组末尾作为“哨兵”来去掉 partition()中的数组边界测试。</li>\n<li>熵最优排序：将数组切分为 3 部分，分别对应小于，等于和大于切分元素的数组元素。</li>\n</ul>\n<h3 id="三向切分的快速排序"><a href="#%E4%B8%89%E5%90%91%E5%88%87%E5%88%86%E7%9A%84%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>三向切分的快速排序</h3>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180318111808-f4d74961fb1b3865f1c7ad343666e689-ad786.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 457px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 88.40262582056894%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsSAAALEgHS3X78AAAB5ElEQVQ4y0XUx3IiUQwF0P7/b4NylafAmGgTbHI0eTOHd2ewFirlK6mfurpcLvf7Hf/+/t7v9+fzmYwfj8fT6URYLpdvb2+73e5Y6KdQXNVqtaLMZrNutzsYDDqdzsfHx+fnZ/c/tVqt19fXCHij0Xh5ecG322212Wzkz+fzr68v5ZM5Ho+HwyGZ0Ov1BoX6/T5ju91WApdVrddrOYvFQpxmtCBIVUVxLgHi8FjIjJAeyImDrKoxqJPJhGwFSVNuOp3OCy0KEUajkQVVyiRZt5Izvy7wAFoYL/5URRIsr0pj6imm7cPhoCUloAnSSJADmELs8MRU0DM2a76EUEHAgyAtlgiMaeE3GUKSD4WAZ1olsqRsSwkNbgr9azs+VbVNTXKi1bX858LYJWeRj+Rsm269kql6EZRvI8izofJqWJUEw3i8MDj5dKweJlVJQSyq4HLSP2TeGHHBlblNEhOdKlmcWuzrQp5aBuEVGYDb7fZAzpx82ubL08+Q6cgskG17X0iwgOv1+kjWVRYoOfNk+aKzG7KZPe9c3m/bGsgl5hh3hZ4PPm8jsMtCanm/lvLYNnQ+F+vi/hQy3vv7u6Mj12o1B9RsNp1hvV5P2PPsK3+CLPz5hviohHxVgjvRs9sksCQT6l9Q0eCb9Qa08wAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180318111808" title="" data-src="/static/微信截图_20180318111808-f4d74961fb1b3865f1c7ad343666e689-ad786.png" data-srcset="/static/微信截图_20180318111808-f4d74961fb1b3865f1c7ad343666e689-aaeb0.png 200w,\n/static/微信截图_20180318111808-f4d74961fb1b3865f1c7ad343666e689-4d187.png 400w,\n/static/微信截图_20180318111808-f4d74961fb1b3865f1c7ad343666e689-ad786.png 457w" data-sizes="(max-width: 457px) 100vw, 457px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="61675757749326545000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// 适用于多个重复主键的元素，对于此情况，它将排序时间从线性对数降低到了线性级别。\npublic class Quick3way\n{\n    private static void sort(Comparable[] a,int lo,int hi)\n    {\n        if(hi<=lo) return;\n        int lt=lo,i=lo+1,gt=hi;\n        Comparable v=a[lo];\n        while(i<=gt){\n            int cmp=a[i].compareTo(v);\n            if(cmp<0) exch(a,lt++,i++);\n            else if(cmp>0) exch(a,gt--,i);\n            else i++;\n        }\n        sort(a,lo,lt-1);\n        sort(a,gt+1,hi);\n    }\n}`, `61675757749326545000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token comment">// 适用于多个重复主键的元素，对于此情况，它将排序时间从线性对数降低到了线性级别。</span>\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Quick3way</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> lo<span class="token punctuation">,</span><span class="token keyword">int</span> hi<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>hi<span class="token operator">&lt;=</span>lo<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>\n        <span class="token keyword">int</span> lt<span class="token operator">=</span>lo<span class="token punctuation">,</span>i<span class="token operator">=</span>lo<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>gt<span class="token operator">=</span>hi<span class="token punctuation">;</span>\n        <span class="token class-name">Comparable</span> v<span class="token operator">=</span>a<span class="token punctuation">[</span>lo<span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">&lt;=</span>gt<span class="token punctuation">)</span><span class="token punctuation">{</span>\n            <span class="token keyword">int</span> cmp<span class="token operator">=</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token keyword">if</span><span class="token punctuation">(</span>cmp<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token function">exch</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>lt<span class="token operator">++</span><span class="token punctuation">,</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>cmp<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token function">exch</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>gt<span class="token operator">--</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token keyword">else</span> i<span class="token operator">++</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>lo<span class="token punctuation">,</span>lt<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>gt<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>hi<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="优先队列"><a href="#%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>优先队列</h2>\n<h3 id="思路-5"><a href="#%E6%80%9D%E8%B7%AF-5" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>思路</h3>\n<blockquote>\n<p>利用二叉树的最大堆</p>\n</blockquote>\n<h3 id="特点-6"><a href="#%E7%89%B9%E7%82%B9-6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>特点</h3>\n<blockquote>\n<ul>\n<li>插入元素和删除最大元素的操作用时和队列大小成对数关系。</li>\n</ul>\n</blockquote>\n<ul>\n<li>对于一个含有 N 个元素的基于堆的优先队列，插入元素操作只需不超过(lgN+1)次比较，删除最大元素的操作需要不超过 2lgN 次比较。</li>\n<li>在一个大小为 N 的索引优先队列中，插入元素、改变优先级、删除和删除最小元素操作所需比较次数和 logN 成正比。</li>\n</ul>\n<h3 id="基于堆的优先队列"><a href="#%E5%9F%BA%E4%BA%8E%E5%A0%86%E7%9A%84%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>基于堆的优先队列</h3>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180318154628-598802449ac6c25c3af214f0dde988a0-092d7.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 626px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 70.12779552715655%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAABoklEQVQoz2XS185aMRAE4PP+jwUXgASCC3rvvYbe8/E7OiKJLyzbO7s7M+tot9sNBgP7+/1+PB6Hw+H1er2/1vP5rNfrnU5HyHWz2dzv918/K7rdbtfrdb/fr9dr+3w+XywWwnGyWsfjUXQ2m0kYDoeaqTUejyPh0+kkZzKZiIHqs1qtQlrIv1wukgG2261ru90OgEgTaN0EhBVSWPlAMpSAnk6npJXLZTt8oVA4n8+Rqu4IQzsr4bpcLmkLyXR5QQoA81qt1mg0EolEs9mMYoQYhA6B/PvvxUutFC0Wi61WK5lMlkqlT7JXhPv9voO0arUatH1rZgoA5VhUKpVer/dxW0k0lJRAkid8HLgQt6U5WC3feyqVyufzdEW6sS5I4j4QFrlcTsVvq3c/y1ABMpmMzh/DhINaMXeamff+byGoJ7eQkg+M6R/N3W43m82Gf8aJMMbwvYCUo9N4lPbIFNPy+PlhRBKAczqdlo9kPKeQD2340JLhUSAN7KM5oMUCIvgM5P9gqzOr7eh4jIt+3P4eSXyWNhqNwp/DNhD5Z/jM+w0JLBP8LkcBkQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180318154628" title="" data-src="/static/微信截图_20180318154628-598802449ac6c25c3af214f0dde988a0-092d7.png" data-srcset="/static/微信截图_20180318154628-598802449ac6c25c3af214f0dde988a0-52e9c.png 200w,\n/static/微信截图_20180318154628-598802449ac6c25c3af214f0dde988a0-39c77.png 400w,\n/static/微信截图_20180318154628-598802449ac6c25c3af214f0dde988a0-092d7.png 626w" data-sizes="(max-width: 626px) 100vw, 626px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="79412321230065570000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class MaxPQ<Key extends Comparable<Key>>\n{\n\n    private Key[] pq;\n    private int N=0;\n    public MaxPQ(int maxN){\n        pq=(Key[])new Comparable[maxN+1];\n    }\n    public boolean isEmpty(){\n        return N==0;\n    }\n    public int size(){\n        return N;\n    }\n    public void insert(Key v){\n        pq[++N]=v;\n        swim(N);\n    }\n    public Key delMax(){\n        //从根节点得到最大元素\n        Key max=pq[1];\n        //将其和最后一个节点交换\n        exch(1,N--);\n        //防止越界\n        pq[N+1]=null;\n        //恢复堆的有序性\n        sink(1);\n        return max;\n    }\n    private boolean less(int i,int j){\n        return pq[i].compareTo(pq[j])<0;\n    }\n    private void exch(int i,int j){\n        Key t=pq[i];pq[i]=pq[j];pq[j]=t;\n    }\n    private void swim(int k){\n        while(k>1&&less(k/2,k)){\n            exch(k,k/2);\n            k=k/2;\n        }\n    }\n    private void sink(int k){\n        while(2*k<=N){\n            int j=2*k;\n            // 放在右子树\n            if(j<N&&less(j,j+1)) j++;\n            if(!less(k,j)) break;\n            exch(j,k);\n            k=j;\n        }\n    }\n}`, `79412321230065570000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MaxPQ</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Key</span> <span class="token keyword">extends</span> <span class="token class-name">Comparable</span><span class="token punctuation">&lt;</span><span class="token class-name">Key</span><span class="token punctuation">></span><span class="token punctuation">></span></span>\n<span class="token punctuation">{</span>\n\n    <span class="token keyword">private</span> <span class="token class-name">Key</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pq<span class="token punctuation">;</span>\n    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token class-name">N</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token class-name">MaxPQ</span><span class="token punctuation">(</span><span class="token keyword">int</span> maxN<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        pq<span class="token operator">=</span><span class="token punctuation">(</span><span class="token class-name">Key</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">new</span> <span class="token class-name">Comparable</span><span class="token punctuation">[</span>maxN<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token class-name">N</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token class-name">N</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">Key</span> v<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        pq<span class="token punctuation">[</span><span class="token operator">++</span><span class="token class-name">N</span><span class="token punctuation">]</span><span class="token operator">=</span>v<span class="token punctuation">;</span>\n        <span class="token function">swim</span><span class="token punctuation">(</span><span class="token class-name">N</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token class-name">Key</span> <span class="token function">delMax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token comment">//从根节点得到最大元素</span>\n        <span class="token class-name">Key</span> max<span class="token operator">=</span>pq<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token comment">//将其和最后一个节点交换</span>\n        <span class="token function">exch</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token comment">//防止越界</span>\n        pq<span class="token punctuation">[</span><span class="token class-name">N</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>\n        <span class="token comment">//恢复堆的有序性</span>\n        <span class="token function">sink</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">return</span> max<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">less</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span><span class="token keyword">int</span> j<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">return</span> pq<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>pq<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">exch</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span><span class="token keyword">int</span> j<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token class-name">Key</span> t<span class="token operator">=</span>pq<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>pq<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>pq<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>pq<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>t<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">swim</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">while</span><span class="token punctuation">(</span>k<span class="token operator">></span><span class="token number">1</span><span class="token operator">&amp;&amp;</span><span class="token function">less</span><span class="token punctuation">(</span>k<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n            <span class="token function">exch</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span>k<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            k<span class="token operator">=</span>k<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">sink</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>k<span class="token operator">&lt;=</span><span class="token class-name">N</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n            <span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">2</span><span class="token operator">*</span>k<span class="token punctuation">;</span>\n            <span class="token comment">// 放在右子树</span>\n            <span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">&lt;</span><span class="token class-name">N</span><span class="token operator">&amp;&amp;</span><span class="token function">less</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> j<span class="token operator">++</span><span class="token punctuation">;</span>\n            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">less</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>\n            <span class="token function">exch</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            k<span class="token operator">=</span>j<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="算法改进-1"><a href="#%E7%AE%97%E6%B3%95%E6%94%B9%E8%BF%9B-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>算法改进</h3>\n<blockquote>\n<ul>\n<li>多叉堆：三叉树或 N 叉树</li>\n</ul>\n</blockquote>\n<ul>\n<li>调整数组大小：添加一个无参数的构造函数，在 insert()添加将数组长度加倍的代码，在 delMax()中添加将数组长度减半的代码。</li>\n<li>元素的不可变性：假设用例代码不会改变优先队列转换为强制条件，一般不会这么做。</li>\n<li>索引优先队列：允许用例引用已经进入优先队列中的元素，给每个元素一个索引。</li>\n</ul>\n<h3 id="使用优先队列的多向归并"><a href="#%E4%BD%BF%E7%94%A8%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E7%9A%84%E5%A4%9A%E5%90%91%E5%BD%92%E5%B9%B6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>使用优先队列的多向归并</h3>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180318172514-e30623bf4382591bdc105fb69cb4a9ce-01991.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 671px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 23.546944858420265%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAAAx0lEQVQY0yWQS69EQBCF/f8/JbEiuIhYCNczxHtBBj2MzDfdZ1Fdr3OqqrW2bfu+H4ZhmqZ5ntd1fUtc13Xf90dCCEGGEHue53EcLwnNMAzLsv4k8jwfx/GSgPM8j7KKqYQoobXv+48M0/O8IAjiOK6qivmU0RYSagVaGYhPBoeQBbdt03RdN00TiSiKIHMC3Wma2rbNLui6rqsc3/exjuOEYZgkCZdqPGVZ1nXdNE3XdcuyMIGPyLIMLfJYzimKQjn/EoR0fgFXPhCVK7GKfAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180318172514" title="" data-src="/static/微信截图_20180318172514-e30623bf4382591bdc105fb69cb4a9ce-01991.png" data-srcset="/static/微信截图_20180318172514-e30623bf4382591bdc105fb69cb4a9ce-0bc2c.png 200w,\n/static/微信截图_20180318172514-e30623bf4382591bdc105fb69cb4a9ce-6bec7.png 400w,\n/static/微信截图_20180318172514-e30623bf4382591bdc105fb69cb4a9ce-01991.png 671w" data-sizes="(max-width: 671px) 100vw, 671px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<ol>\n<li>streams 大小是 N，对应 N 行有序数据（每一行有多个字符串，而且是有序的）。</li>\n<li>merge 里面，第一个 for 循环，根据每行第一个字符串，建立小根堆（可以找出 N 个字符串中最小的一个。因为每一行也是有序的，所以也是 N 行所有字符串中最小的）。</li>\n<li>while 是每次输出 N 行中最小的字符串。输出后，删掉这个最小的字符串。但是该字符串所在的行可能后面还有其它的字符串（if），所以，把下一个字符串重新参与 N 行首字符串建立的小根堆。</li>\n<li>直观过程：N 行的 N 个首字符串--->划掉最小的，并输出之--->划掉的那一个所在行的下一个字符串加入进来，仍然是 N 个字符串。（当然，没有下一个字符串的行就不用管了）--->划掉最小的，并输出之--->（重复）--->一直到划掉所有的字符串。</li>\n<li>比如，有三个班级要进行体检，每次体检都从每个班来一个人进屋体检，每个班级都按生日排好序（比如从 1 月到 12 月往后排），但是医生只有一个，每个人体检结束之后，叫自己班的人进屋。每次体检需要按照屋里面人的生日顺序进行体检，直到所有人都体检结束</li>\n</ol>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="97187456143943220000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class Multiway\n{\n    public static void merge(In[] streams){\n        int N=streams.length;\n        IndexMinPQ<String> pq=new IndexMinPQ<String>(N);\n        for(int i=0;i<N;i++){\n            if(!streams[i].isEmpty()){\n                pq.insert(i,streams[i].readString());\n            }\n        }\n        while(!pq.isEmpty()){\n            StdOut.println(pq.min());\n            int i=pq.delMin();\n            // 将该输入的下一个字符串添加为一个元素\n            if(!streams[i].isEmpty()){\n                pq.insert(i,streams[i].readString());\n            }\n        }\n    }\n    public static void main(String[] args){\n        int N=args.length;\n        In[] streams=new In[N];\n        for(int i=0;i<N;i++){\n            streams[i]=new In(args[i]);\n        }\n        merge(streams);\n    }\n}`, `97187456143943220000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Multiway</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token class-name">In</span><span class="token punctuation">[</span><span class="token punctuation">]</span> streams<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">int</span> <span class="token class-name">N</span><span class="token operator">=</span>streams<span class="token punctuation">.</span>length<span class="token punctuation">;</span>\n        <span class="token class-name">IndexMinPQ</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> pq<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">IndexMinPQ</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token class-name">N</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token class-name">N</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>streams<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n                pq<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>streams<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">readString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>pq<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n            <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>pq<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token keyword">int</span> i<span class="token operator">=</span>pq<span class="token punctuation">.</span><span class="token function">delMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token comment">// 将该输入的下一个字符串添加为一个元素</span>\n            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>streams<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n                pq<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>streams<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">readString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">int</span> <span class="token class-name">N</span><span class="token operator">=</span>args<span class="token punctuation">.</span>length<span class="token punctuation">;</span>\n        <span class="token class-name">In</span><span class="token punctuation">[</span><span class="token punctuation">]</span> streams<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">In</span><span class="token punctuation">[</span><span class="token class-name">N</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token class-name">N</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n            streams<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">In</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token function">merge</span><span class="token punctuation">(</span>streams<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="堆排序"><a href="#%E5%A0%86%E6%8E%92%E5%BA%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>堆排序</h2>\n<h3 id="思路-6"><a href="#%E6%80%9D%E8%B7%AF-6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>思路</h3>\n<blockquote>\n<p>把任意优先队列变成一种排序方法，将所有元素插入一个查找最小元素的优先队列，然后重复调用删除最小元素的操作来将他们按顺序删去。</p>\n</blockquote>\n<h3 id="特点-7"><a href="#%E7%89%B9%E7%82%B9-7" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>特点</h3>\n<blockquote>\n<ul>\n<li>用下沉操作由 N 个元素构造堆只需少于 2N 次比较以及少于 N 次交换。</li>\n</ul>\n</blockquote>\n<ul>\n<li>将 N 个元素排序，堆排序只需少于(2NlgN+2N)次比较(以及一半次数的交换)。</li>\n<li>同时最优的利用空间和时间的方法，在最坏情况下也能保证使用~2NlgN 次比较和恒定的额外空间。</li>\n<li>空间十分紧张时很适用，但现代系统很少使用，因为缓存未命中次数远远高于在相邻元素间比较的算法，如快速排序，归并排序，甚至是希尔排序。</li>\n</ul>\n<h3 id="实现-4"><a href="#%E5%AE%9E%E7%8E%B0-4" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实现</h3>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180318184857-5ef6f5cf3a43f1b8fb9048c8e2a2b411-70aed.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 425px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 112.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsSAAALEgHS3X78AAACi0lEQVQ4y1XUzTNrQRAF8Pv/b+1sULY2ysJGlcKCQkXEtxAhEZH4LB9PYfF+d45S7/Viqmd6zjndPX1vdXd3NxqNut3uzc1Ns9nsdDrHx8dnZ2fW/f39VqvVaDR2d3dPTk52dnY4Kysrq6urm5ub9/f3FczCwsLy8jKWq6urw8PDVjFXj46O9vb2OI1i6+vrW1tbBBJ1v7q+vibbbrcxPT8/Pz4+csbj8e3t7cPDw+XlJWdUbDgcWgkcHBxcXFzUysAAvV4P059ir6+vTmyVIAowLnZ6ekoDeDAYyBd1nTYOCtaPj4/39/e3tzdIZVuxpAuk+v0+mERAZFGD7f8Ff35+wtBxA75frFdMz7QQF2QkK0zytIHhDIvZpv9yBkNta6WfQn6UnWr19vY2JntqTgBUmCTPz8+lTVbB3WLEVV4rO93Y2NBAysC4wXJJyJq0yXoh74SL70XrpxJTobBVe9wmniYBuxqkNZr/KT89PaUwTPzIui2XdEu2WAwMAMcJRhXVNb+8vMAErGECMgemb7xw8cGcmyrd1gV4UZlWb8WApcHRTAAxmGax1OVQzQ49gTvonFfUKdu4YTx1IiPBUGRLVvIpGxJFp1iVSXSaeXI1T2IVppZPShQYI5kUUisDeHEb4YxanjqNxeVER9O8tJ0DovgfcJSV0C6W13YPbFAsOdMIaRpR1wwf5YBVmNcOL3zq/E04jlD9VeUTlYa0gfl0fmGZMFyZrYy9LafymGZ7aWkp75wk0wXgfAxR03md4+QPVY/n19eXLzGNpWmSVIs1bXebk59R/mFpWDSq7+9v37B/2tTU1Pz8/Nzc3MzMDGLO2tra4uKi7eTk5MTExPT09OzsLK4komF/AZqeg0AUYc8pAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180318184857" title="" data-src="/static/微信截图_20180318184857-5ef6f5cf3a43f1b8fb9048c8e2a2b411-70aed.png" data-srcset="/static/微信截图_20180318184857-5ef6f5cf3a43f1b8fb9048c8e2a2b411-fdbe5.png 200w,\n/static/微信截图_20180318184857-5ef6f5cf3a43f1b8fb9048c8e2a2b411-58694.png 400w,\n/static/微信截图_20180318184857-5ef6f5cf3a43f1b8fb9048c8e2a2b411-70aed.png 425w" data-sizes="(max-width: 425px) 100vw, 425px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180318185323-0efdf2fc055a177eaed4a4b747463cee-aec66.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 700px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 123.28571428571429%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAIAAAC+dZmEAAAACXBIWXMAAAsSAAALEgHS3X78AAACo0lEQVQ4y03U6U5iQRAF4Pv+74WJCWpE1OCG4ACyiKKAsmjm63scMvWj0326llNLd7XZbLbb7Vst39/f21p2u91+v//5+bGnAJ/P56+vr/D1eg1x+/X1VdmBFovF8/MzjU0tMWbz+fnJBs719fX1/f39cDgcj8c2TCq++ZhMJq6hT09P/4cdDAaugKPRyP7u7q7ZbB4fH3c6nX6/Xy2Xy/izCgJCjKXVnkG322X/+Pi4Wq2w+1MLzdlsVoFcOPMqcoggLL6AvV4PThVIU6SPj4/lPym0+ZtOpzScKUGEvbm5gTN+eHhAgS/UgL1abErOtN/f3+0YKxV7euwVifbR0dHt7W2/lpA/OTm5uLhIRpV6ikP1/Px8XQtEzhydnZ3RRkotFQz+8vIiVWGo4V9alSZD0/O0EZd5LXhRhbBhDMeOPrAYRwmayLHHFjHpiXx6esq1LK6urnDGsdVqqW4x1ieVDGEuDtV2jW3GI0m5lS0QnWKMA/cO7DNeMaZKaVVLMuSa8iEMKQXLYIqQqc54p7zJ3BTIWdvlEi4QXqq0h5IDbXMXY3vpmBA546zbzEwb+6TDaTFmloahoDeHVilSGqHOwoaqBJPCb6tSJC5wzqu0AunlDebKUav4YpbWlAlDQ82soZBWGUCtsmoPttSkkNliiWCJDNWJdrstybBKZKv04ONa0E51MjZ5IaVVNAa1OGfI8phD+5AqzSSch1WqnTeYNX9Iqq14eXfCqhz88CST82+rEFZ6jcFfSXAG5t01Go3Ly0t9gqfCNlyov8qVyM6ZE6vyhLapUCce82Z0m40wNrgErDhTxsyDlJKC4PnGrPkuCc3MllJjWlqVbNHgNf08vMr8r5nkJGzNZ5pvp+JMwLSXZYY89EgmGUMBwzYPgzD+CxnedfiZi2D5AAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180318185323" title="" data-src="/static/微信截图_20180318185323-0efdf2fc055a177eaed4a4b747463cee-aec66.png" data-srcset="/static/微信截图_20180318185323-0efdf2fc055a177eaed4a4b747463cee-61805.png 200w,\n/static/微信截图_20180318185323-0efdf2fc055a177eaed4a4b747463cee-6a738.png 400w,\n/static/微信截图_20180318185323-0efdf2fc055a177eaed4a4b747463cee-aec66.png 700w" data-sizes="(max-width: 700px) 100vw, 700px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="47114852740943495000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public static void sort(Comparable[] a){\n    int N=a.length;\n    // 重建堆有序的二叉树，注意都是从非叶子结点处重建二叉树\n    for(int k=N/2;K>=1;k--){\n        sink(a,k,N);\n    }\n    // 最大元素a[1]与a[N]交换并修复堆\n    while(N>1){\n        exch(a,1,N--);\n        sink(a,1,N);\n    }\n}`, `47114852740943495000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token keyword">int</span> <span class="token class-name">N</span><span class="token operator">=</span>a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>\n    <span class="token comment">// 重建堆有序的二叉树，注意都是从非叶子结点处重建二叉树</span>\n    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token operator">=</span><span class="token class-name">N</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token class-name">K</span><span class="token operator">>=</span><span class="token number">1</span><span class="token punctuation">;</span>k<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token function">sink</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>k<span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token comment">// 最大元素a[1]与a[N]交换并修复堆</span>\n    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token class-name">N</span><span class="token operator">></span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token function">exch</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token function">sink</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="算法改进-2"><a href="#%E7%AE%97%E6%B3%95%E6%94%B9%E8%BF%9B-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>算法改进</h3>\n<blockquote>\n<ul>\n<li>先下沉后上浮：免去检查元素是否到达正确位置来节省时间，在下沉中总是直接提升较大的子节点直至堆底，然后再使元素上浮到正确的位置，可以使元素比较减少一半，但需要额外的空间，只有在比较操作代价较高时使用。</li>\n</ul>\n</blockquote>\n<h2 id="算法总结"><a href="#%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>算法总结</h2>\n<h3 id="稳定性"><a href="#%E7%A8%B3%E5%AE%9A%E6%80%A7" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>稳定性</h3>\n<blockquote>\n<ul>\n<li>如果一个排序算法能够保留数组中重复元素的相对位置则可以被称为是稳定的。</li>\n</ul>\n</blockquote>\n<ul>\n<li>冒泡、基数、插入、归并排序是稳定的，其他不是</li>\n<li>可以把任意的排序算法变成稳定的</li>\n</ul>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180319143607-b0017ae9d98da65f1e318e0f23b8e2b4-b9a0b.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 42.733990147783246%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAABH0lEQVQozy2RR26EUBBEuf+FWBIkhBCIIedoTDIDZ/Cb39MLVNTvqk7aMAw/Kn5VzPOcJEnTNL7vu65r27Zpmp7nTdM0jiPJAHL4kqy1bTupeL1eXdehBCAuy9KyLMMw0Ou6HsfxsizwdV33ff8Vh2GI5b7vuKzrCiaDPIqQB0lTeZ4LGFSQQ/Ft2z5i/s/zxOm6LgDsfd94S/ZxHMLjRTtFUaRpCobXmA0KMxFDUR/AMy6nCkj5wtCjgK+YGWQeEYsLduA/FXQhc2VZRmWKSTsa6wmCgPaqqsJCxAhwRA9JI0wIyYDs33Ec8lF9ZuYMZDCe7HxT8TwPS6IaLlSQJnnFkYvIwd7vt4aT7CCKIu4hR+aNDqU4ARABWGoA6OgfeenSzCfFGhoAAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180319143607" title="" data-src="/static/微信截图_20180319143607-b0017ae9d98da65f1e318e0f23b8e2b4-fee1c.png" data-srcset="/static/微信截图_20180319143607-b0017ae9d98da65f1e318e0f23b8e2b4-a67b7.png 200w,\n/static/微信截图_20180319143607-b0017ae9d98da65f1e318e0f23b8e2b4-0b187.png 400w,\n/static/微信截图_20180319143607-b0017ae9d98da65f1e318e0f23b8e2b4-fee1c.png 800w,\n/static/微信截图_20180319143607-b0017ae9d98da65f1e318e0f23b8e2b4-b9a0b.png 812w" data-sizes="(max-width: 800px) 100vw, 800px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<blockquote>\n<ul>\n<li>见上表，快速排序是最快的通用排序算法。</li>\n</ul>\n</blockquote>\n<ul>\n<li>java 系统库选择对原始数据使用三向切分的快速排序，对引用类型使用归并排序。</li>\n<li>应用例子：</li>\n<li>找出重复元素：排序后记录连续出现的重复元素。</li>\n<li>排名：计算 Kendall tau 距离。</li>\n<li>优先队列：TopM 和 Multiway 多路归并问题。</li>\n<li>中位数与顺序统计：直接排序或利用快速排序的切分方法,复杂度为线性。</li>\n<li>平均来说，基于切分的选择算法的运行时间是线性级别的。</li>\n<li>设计一个能够保证最坏情况下也只需要线性比较次数的算法是一个经典问题，现在暂未解决。</li>\n</ul>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="8966121773769875000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`//查找第k小的数\npublic static Comparable select(Comparable[] a,int k){\n    StdRandom.shuffle(a);\n    int lo=0,hi=a.length-1;\n    while(hi>lo){\n        int j=partition(a,lo,hi);\n        if(j==k) return a[k];\n        else if(j>k) hi=j-1;\n        else lo=j+1;\n    }\n    return a[k];\n}`, `8966121773769875000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token comment">//查找第k小的数</span>\n<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Comparable</span> <span class="token function">select</span><span class="token punctuation">(</span><span class="token class-name">Comparable</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> k<span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token class-name">StdRandom</span><span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">int</span> lo<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>hi<span class="token operator">=</span>a<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>\n    <span class="token keyword">while</span><span class="token punctuation">(</span>hi<span class="token operator">></span>lo<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">int</span> j<span class="token operator">=</span><span class="token function">partition</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>lo<span class="token punctuation">,</span>hi<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">==</span>k<span class="token punctuation">)</span> <span class="token keyword">return</span> a<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">></span>k<span class="token punctuation">)</span> hi<span class="token operator">=</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>\n        <span class="token keyword">else</span> lo<span class="token operator">=</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> a<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="排序应用"><a href="#%E6%8E%92%E5%BA%8F%E5%BA%94%E7%94%A8" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>排序应用</h3>\n<blockquote>\n<ul>\n<li>商业计算：处理上百万大小的数组。</li>\n</ul>\n</blockquote>\n<ul>\n<li>信息搜索：排序后二分查找。</li>\n<li>运筹学：负载均衡问题。</li>\n<li>事件驱动模拟：</li>\n<li>数值计算</li>\n<li>组合搜索</li>\n</ul>',
excerpt:"选择排序 思路 首先，找到数组中最小的那个元素，其次，将它和数组的第一个元素交换位置（如果第一个元素就是最小元素那么它就和自己交换）。再次，在剩下的元素中找到最小的元素，将它与数组的第二个元素交换位置。如此往复，直到将整个数组排序。 特点 对于长度为 N…",timeToRead:12,tableOfContents:'<ul>\n<li>\n<p><a href="/sort-java/#%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F">选择排序</a></p>\n<ul>\n<li><a href="/sort-java/#%E6%80%9D%E8%B7%AF">思路</a></li>\n<li><a href="/sort-java/#%E7%89%B9%E7%82%B9">特点</a></li>\n<li><a href="/sort-java/#%E5%AE%9E%E7%8E%B0">实现</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/sort-java/#%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F">插入排序</a></p>\n<ul>\n<li><a href="/sort-java/#%E6%80%9D%E8%B7%AF-1">思路</a></li>\n<li><a href="/sort-java/#%E7%89%B9%E7%82%B9-1">特点</a></li>\n</ul>\n</li>\n<li><a href="/sort-java/#%E5%AE%9E%E7%8E%B0-1">实现</a></li>\n<li>\n<p><a href="/sort-java/#%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F%E4%B8%8E%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E7%9A%84%E6%AF%94%E8%BE%83">选择排序与插入排序的比较</a></p>\n<ul>\n<li><a href="/sort-java/#%E7%89%B9%E7%82%B9-2">特点</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/sort-java/#%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F">希尔排序</a></p>\n<ul>\n<li><a href="/sort-java/#%E6%80%9D%E8%B7%AF-2">思路</a></li>\n<li><a href="/sort-java/#%E7%89%B9%E7%82%B9-3">特点</a></li>\n<li><a href="/sort-java/#%E5%AE%9E%E7%8E%B0-2">实现</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/sort-java/#%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F">归并排序</a></p>\n<ul>\n<li><a href="/sort-java/#%E6%80%9D%E8%B7%AF-3">思路</a></li>\n<li><a href="/sort-java/#%E7%89%B9%E7%82%B9-4">特点</a></li>\n<li><a href="/sort-java/#%E5%8E%9F%E5%9C%B0%E5%BD%92%E5%B9%B6%E6%8A%BD%E8%B1%A1%E6%96%B9%E6%B3%95">原地归并抽象方法</a></li>\n<li><a href="/sort-java/#%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E5%AE%9E%E7%8E%B0">自顶向下实现</a></li>\n<li><a href="/sort-java/#%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%AE%9E%E7%8E%B0">自底向上实现</a></li>\n<li><a href="/sort-java/#%E6%94%B9%E8%BF%9B%E6%96%B9%E6%B3%95">改进方法</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/sort-java/#%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F">快速排序</a></p>\n<ul>\n<li><a href="/sort-java/#%E6%80%9D%E8%B7%AF-4">思路</a></li>\n<li><a href="/sort-java/#%E7%89%B9%E7%82%B9-5">特点</a></li>\n<li><a href="/sort-java/#%E5%AE%9E%E7%8E%B0-3">实现</a></li>\n<li><a href="/sort-java/#%E7%AE%97%E6%B3%95%E6%94%B9%E8%BF%9B">算法改进</a></li>\n<li><a href="/sort-java/#%E4%B8%89%E5%90%91%E5%88%87%E5%88%86%E7%9A%84%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F">三向切分的快速排序</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/sort-java/#%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97">优先队列</a></p>\n<ul>\n<li><a href="/sort-java/#%E6%80%9D%E8%B7%AF-5">思路</a></li>\n<li><a href="/sort-java/#%E7%89%B9%E7%82%B9-6">特点</a></li>\n<li><a href="/sort-java/#%E5%9F%BA%E4%BA%8E%E5%A0%86%E7%9A%84%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97">基于堆的优先队列</a></li>\n<li><a href="/sort-java/#%E7%AE%97%E6%B3%95%E6%94%B9%E8%BF%9B-1">算法改进</a></li>\n<li><a href="/sort-java/#%E4%BD%BF%E7%94%A8%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E7%9A%84%E5%A4%9A%E5%90%91%E5%BD%92%E5%B9%B6">使用优先队列的多向归并</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/sort-java/#%E5%A0%86%E6%8E%92%E5%BA%8F">堆排序</a></p>\n<ul>\n<li><a href="/sort-java/#%E6%80%9D%E8%B7%AF-6">思路</a></li>\n<li><a href="/sort-java/#%E7%89%B9%E7%82%B9-7">特点</a></li>\n<li><a href="/sort-java/#%E5%AE%9E%E7%8E%B0-4">实现</a></li>\n<li><a href="/sort-java/#%E7%AE%97%E6%B3%95%E6%94%B9%E8%BF%9B-2">算法改进</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/sort-java/#%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93">算法总结</a></p>\n<ul>\n<li><a href="/sort-java/#%E7%A8%B3%E5%AE%9A%E6%80%A7">稳定性</a></li>\n<li><a href="/sort-java/#%E6%8E%92%E5%BA%8F%E5%BA%94%E7%94%A8">排序应用</a></li>\n</ul>\n</li>\n</ul>',wordCount:{words:496},frontmatter:{date:"2018-03-16 18:35:03",path:"/sort-java/",tags:"面试, 算法, 读书笔记",title:"排序算法java实现",draft:null,catalog_number:null}},nextPost:{html:'<h2 id="加权-quick-union-算法"><a href="#%E5%8A%A0%E6%9D%83-quick-union-%E7%AE%97%E6%B3%95" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>加权 quick-union 算法</h2>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/QQ截图20180316161228-a392e44c3117b8c71969b490e2de85eb-a4422.jpg" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 794px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 87.78337531486146%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAASABQDASIAAhEBAxEB/8QAGAABAQADAAAAAAAAAAAAAAAAAAIBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHsxUmxkTQUD//EABgQAAMBAQAAAAAAAAAAAAAAAAABMQIQ/9oACAEBAAEFAnTMdMziP//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABQQAQAAAAAAAAAAAAAAAAAAADD/2gAIAQEABj8CH//EABkQAAMAAwAAAAAAAAAAAAAAAAABMRAgIf/aAAgBAQABPyGw326kK4g//9oADAMBAAIAAwAAABBTAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAcEAEAAgMAAwAAAAAAAAAAAAABACERMVFBcZH/2gAIAQEAAT8QTUuKiQ6ObiFp55G8u7hfuWXoiF1NM//Z\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="QQ  20180316161228" title="" data-src="/static/QQ截图20180316161228-a392e44c3117b8c71969b490e2de85eb-a4422.jpg" data-srcset="/static/QQ截图20180316161228-a392e44c3117b8c71969b490e2de85eb-eae7e.jpg 200w,\n/static/QQ截图20180316161228-a392e44c3117b8c71969b490e2de85eb-fc8fc.jpg 400w,\n/static/QQ截图20180316161228-a392e44c3117b8c71969b490e2de85eb-a4422.jpg 794w" data-sizes="(max-width: 794px) 100vw, 794px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/QQ截图20180316161307-6c3c05243a9c6c5fd67912829d739a00-d4a65.jpg" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 675px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 72%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdtXIwD/xAAYEAACAwAAAAAAAAAAAAAAAAAAEAERIf/aAAgBAQABBQJQss//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAaEAACAwEBAAAAAAAAAAAAAAAAAREhMRDB/9oACAEBAAE/Ial2PY9MWMloc//aAAwDAQACAAMAAAAQYM//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAEBAQADAQAAAAAAAAAAAAABEQAhMWFx/9oACAEBAAE/EKiDT3rNJLPNSmEft0HKboDXABDf/9k=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="QQ  20180316161307" title="" data-src="/static/QQ截图20180316161307-6c3c05243a9c6c5fd67912829d739a00-d4a65.jpg" data-srcset="/static/QQ截图20180316161307-6c3c05243a9c6c5fd67912829d739a00-37065.jpg 200w,\n/static/QQ截图20180316161307-6c3c05243a9c6c5fd67912829d739a00-f23ef.jpg 400w,\n/static/QQ截图20180316161307-6c3c05243a9c6c5fd67912829d739a00-d4a65.jpg 675w" data-sizes="(max-width: 675px) 100vw, 675px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/QQ截图20180316161143-064bc49b5b94dbd44b6f66bd125edac1-8aa6c.jpg" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 715px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 79.58041958041959%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe1ENA//xAAXEAADAQAAAAAAAAAAAAAAAAAAARAR/9oACAEBAAEFAjZglP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAAMAAAAAAAAAAAAAAAAAABAgIf/aAAgBAQAGPwJIP//EABsQAAIDAQEBAAAAAAAAAAAAAAABESExQWFx/9oACAEBAAE/IXtdEz419QsHDKIKl6LD/9oADAMBAAIAAwAAABAjz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQEAAgIDAAAAAAAAAAAAAAERACFBsTFhcf/aAAgBAQABPxChU6bm8DJwHU5YLb7bhplrkvn5gMYXlXvBAPdz/9k=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="QQ  20180316161143" title="" data-src="/static/QQ截图20180316161143-064bc49b5b94dbd44b6f66bd125edac1-8aa6c.jpg" data-srcset="/static/QQ截图20180316161143-064bc49b5b94dbd44b6f66bd125edac1-30917.jpg 200w,\n/static/QQ截图20180316161143-064bc49b5b94dbd44b6f66bd125edac1-85cee.jpg 400w,\n/static/QQ截图20180316161143-064bc49b5b94dbd44b6f66bd125edac1-8aa6c.jpg 715w" data-sizes="(max-width: 715px) 100vw, 715px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<h3 id="特点"><a href="#%E7%89%B9%E7%82%B9" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>特点</h3>\n<ul>\n<li>对于 N 个触点，加权 quick-union 算法构造的森林中的任意节点的深度最多为 lgN。</li>\n<li>对于加权 quick-union 算法和 N 个触点，在最坏情况下 find()、connected()和 union()的成本的增长数量级为 logN。</li>\n</ul>\n<h3 id="实现"><a href="#%E5%AE%9E%E7%8E%B0" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实现</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="16938190937573515000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`package edu.princeton.cs.algs4;\n\npublic class WeightedQuickUnionUF {\n    private int[] parent;   // parent[i] = parent of i\n    private int[] size;     // size[i] = number of sites in subtree rooted at i\n    private int count;      // number of components\n\n    /**\n     * Initializes an empty union–find data structure with {@code n} sites\n     * {@code 0} through {@code n-1}. Each site is initially in its own\n     * component.\n     *\n     * @param  n the number of sites\n     * @throws IllegalArgumentException if {@code n < 0}\n     */\n    public WeightedQuickUnionUF(int n) {\n        count = n;\n        parent = new int[n];\n        size = new int[n];\n        for (int i = 0; i < n; i++) {\n            parent[i] = i;\n            size[i] = 1;\n        }\n    }\n\n    /**\n     * Returns the number of components.\n     *\n     * @return the number of components (between {@code 1} and {@code n})\n     */\n    public int count() {\n        return count;\n    }\n\n    /**\n     * Returns the component identifier for the component containing site {@code p}.\n     *\n     * @param  p the integer representing one object\n     * @return the component identifier for the component containing site {@code p}\n     * @throws IllegalArgumentException unless {@code 0 <= p < n}\n     */\n    public int find(int p) {\n        validate(p);\n        int tmp = p;\n        while(parent[tmp] != tmp){\n            tmp = parent[tmp];\n        }\n        // 在检查结点的同时将他们直接链接到根结点\n        // 这就是带路径压缩的加权quick-union算法\n        while (p != parent[p]){\n            p = parent[p];\n            parent[p] = tmp;\n        }\n        return p;\n    }\n\n    // validate that p is a valid index\n    private void validate(int p) {\n        int n = parent.length;\n        if (p < 0 || p >= n) {\n            throw new IllegalArgumentException(&quot;index &quot; + p + &quot; is not between 0 and &quot; + (n-1));\n        }\n    }\n\n    /**\n     * Returns true if the the two sites are in the same component.\n     *\n     * @param  p the integer representing one site\n     * @param  q the integer representing the other site\n     * @return {@code true} if the two sites {@code p} and {@code q} are in the same component;\n     *         {@code false} otherwise\n     * @throws IllegalArgumentException unless\n     *         both {@code 0 <= p < n} and {@code 0 <= q < n}\n     */\n    public boolean connected(int p, int q) {\n        return find(p) == find(q);\n    }\n\n    /**\n     * Merges the component containing site {@code p} with the\n     * the component containing site {@code q}.\n     *\n     * @param  p the integer representing one site\n     * @param  q the integer representing the other site\n     * @throws IllegalArgumentException unless\n     *         both {@code 0 <= p < n} and {@code 0 <= q < n}\n     */\n    public void union(int p, int q) {\n        int rootP = find(p);\n        int rootQ = find(q);\n        if (rootP == rootQ) return;\n\n        // make smaller root point to larger one\n        if (size[rootP] < size[rootQ]) {\n            parent[rootP] = rootQ;\n            size[rootQ] += size[rootP];\n        }\n        else {\n            parent[rootQ] = rootP;\n            size[rootP] += size[rootQ];\n        }\n        count--;\n    }\n\n\n    /**\n     * Reads in a sequence of pairs of integers (between 0 and n-1) from standard input,\n     * where each integer represents some object;\n     * if the sites are in different components, merge the two components\n     * and print the pair to standard output.\n     *\n     * @param args the command-line arguments\n     */\n    public static void main(String[] args) {\n        int n = StdIn.readInt();\n        WeightedQuickUnionUF uf = new WeightedQuickUnionUF(n);\n        while (!StdIn.isEmpty()) {\n            int p = StdIn.readInt();\n            int q = StdIn.readInt();\n            if (uf.connected(p, q)) continue;\n            uf.union(p, q);\n            StdOut.println(p + &quot; &quot; + q);\n        }\n        StdOut.println(uf.count() + &quot; components&quot;);\n    }\n\n}`, `16938190937573515000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">edu<span class="token punctuation">.</span>princeton<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>algs4</span><span class="token punctuation">;</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WeightedQuickUnionUF</span> <span class="token punctuation">{</span>\n    <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> parent<span class="token punctuation">;</span>   <span class="token comment">// parent[i] = parent of i</span>\n    <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> size<span class="token punctuation">;</span>     <span class="token comment">// size[i] = number of sites in subtree rooted at i</span>\n    <span class="token keyword">private</span> <span class="token keyword">int</span> count<span class="token punctuation">;</span>      <span class="token comment">// number of components</span>\n\n    <span class="token comment">/**\n     * Initializes an empty union–find data structure with {@code n} sites\n     * {@code 0} through {@code n-1}. Each site is initially in its own\n     * component.\n     *\n     * @param  n the number of sites\n     * @throws IllegalArgumentException if {@code n &lt; 0}\n     */</span>\n    <span class="token keyword">public</span> <span class="token class-name">WeightedQuickUnionUF</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        count <span class="token operator">=</span> n<span class="token punctuation">;</span>\n        parent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n        size <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>\n            size<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">/**\n     * Returns the number of components.\n     *\n     * @return the number of components (between {@code 1} and {@code n})\n     */</span>\n    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> count<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">/**\n     * Returns the component identifier for the component containing site {@code p}.\n     *\n     * @param  p the integer representing one object\n     * @return the component identifier for the component containing site {@code p}\n     * @throws IllegalArgumentException unless {@code 0 &lt;= p &lt; n}\n     */</span>\n    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">validate</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">int</span> tmp <span class="token operator">=</span> p<span class="token punctuation">;</span>\n        <span class="token keyword">while</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>tmp<span class="token punctuation">]</span> <span class="token operator">!=</span> tmp<span class="token punctuation">)</span><span class="token punctuation">{</span>\n            tmp <span class="token operator">=</span> parent<span class="token punctuation">[</span>tmp<span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token comment">// 在检查结点的同时将他们直接链接到根结点</span>\n        <span class="token comment">// 这就是带路径压缩的加权quick-union算法</span>\n        <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> parent<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n            p <span class="token operator">=</span> parent<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">;</span>\n            parent<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">return</span> p<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">// validate that p is a valid index</span>\n    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">validate</span><span class="token punctuation">(</span><span class="token keyword">int</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">int</span> n <span class="token operator">=</span> parent<span class="token punctuation">.</span>length<span class="token punctuation">;</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> p <span class="token operator">>=</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">"index "</span> <span class="token operator">+</span> p <span class="token operator">+</span> <span class="token string">" is not between 0 and "</span> <span class="token operator">+</span> <span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">/**\n     * Returns true if the the two sites are in the same component.\n     *\n     * @param  p the integer representing one site\n     * @param  q the integer representing the other site\n     * @return {@code true} if the two sites {@code p} and {@code q} are in the same component;\n     *         {@code false} otherwise\n     * @throws IllegalArgumentException unless\n     *         both {@code 0 &lt;= p &lt; n} and {@code 0 &lt;= q &lt; n}\n     */</span>\n    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">connected</span><span class="token punctuation">(</span><span class="token keyword">int</span> p<span class="token punctuation">,</span> <span class="token keyword">int</span> q<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token function">find</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">find</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">/**\n     * Merges the component containing site {@code p} with the\n     * the component containing site {@code q}.\n     *\n     * @param  p the integer representing one site\n     * @param  q the integer representing the other site\n     * @throws IllegalArgumentException unless\n     *         both {@code 0 &lt;= p &lt; n} and {@code 0 &lt;= q &lt; n}\n     */</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">union</span><span class="token punctuation">(</span><span class="token keyword">int</span> p<span class="token punctuation">,</span> <span class="token keyword">int</span> q<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">int</span> rootP <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">int</span> rootQ <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>rootP <span class="token operator">==</span> rootQ<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>\n\n        <span class="token comment">// make smaller root point to larger one</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>size<span class="token punctuation">[</span>rootP<span class="token punctuation">]</span> <span class="token operator">&lt;</span> size<span class="token punctuation">[</span>rootQ<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            parent<span class="token punctuation">[</span>rootP<span class="token punctuation">]</span> <span class="token operator">=</span> rootQ<span class="token punctuation">;</span>\n            size<span class="token punctuation">[</span>rootQ<span class="token punctuation">]</span> <span class="token operator">+=</span> size<span class="token punctuation">[</span>rootP<span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">else</span> <span class="token punctuation">{</span>\n            parent<span class="token punctuation">[</span>rootQ<span class="token punctuation">]</span> <span class="token operator">=</span> rootP<span class="token punctuation">;</span>\n            size<span class="token punctuation">[</span>rootP<span class="token punctuation">]</span> <span class="token operator">+=</span> size<span class="token punctuation">[</span>rootQ<span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        count<span class="token operator">--</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n\n    <span class="token comment">/**\n     * Reads in a sequence of pairs of integers (between 0 and n-1) from standard input,\n     * where each integer represents some object;\n     * if the sites are in different components, merge the two components\n     * and print the pair to standard output.\n     *\n     * @param args the command-line arguments\n     */</span>\n    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token class-name">StdIn</span><span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token class-name">WeightedQuickUnionUF</span> uf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeightedQuickUnionUF</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StdIn</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">int</span> p <span class="token operator">=</span> <span class="token class-name">StdIn</span><span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token keyword">int</span> q <span class="token operator">=</span> <span class="token class-name">StdIn</span><span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token keyword">if</span> <span class="token punctuation">(</span>uf<span class="token punctuation">.</span><span class="token function">connected</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> q<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>\n            uf<span class="token punctuation">.</span><span class="token function">union</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> q<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> q<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token class-name">StdOut</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>uf<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" components"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>',
excerpt:"加权 quick-union 算法 特点 对于 N 个触点，加权 quick-union 算法构造的森林中的任意节点的深度最多为 lgN。 对于加权 quick-union 算法和 N 个触点，在最坏情况下 find()、connected()和 union…",frontmatter:{date:"2018-03-16 18:32:46",path:"/offer-connexity/",tags:"面试, 算法",title:"动态连通性（网络连通、等价性）",draft:null}},prePost:{html:'<h2 id="无序链表的顺序查找"><a href="#%E6%97%A0%E5%BA%8F%E9%93%BE%E8%A1%A8%E7%9A%84%E9%A1%BA%E5%BA%8F%E6%9F%A5%E6%89%BE" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>无序链表的顺序查找</h2>\n<h3 id="特点"><a href="#%E7%89%B9%E7%82%B9" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>特点</h3>\n<blockquote>\n<ul>\n<li>在含有 N 对键值的基于（无序）链表的符号表中，未命中的查找和插入操作都需要 N 次比较。命中的查找在最坏情况下需要 N 次比较。特别的，向一个空表中插入 N 个不同的键需要<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext> </mtext><msup><mi>N</mi><mn>2</mn></msup><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">~N^2/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="base"><span class="mspace"> </span><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord">/</span><span class="mord">2</span></span></span></span>次比较</li>\n</ul>\n</blockquote>\n<h3 id="实现"><a href="#%E5%AE%9E%E7%8E%B0" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实现</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="61594061913897440000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class SequentialSearchST<Key,Value>{\n    private Node first;\n    private class Node{\n        Key key;\n        Value val;\n        Node next;\n        public Node(Key key,Value val,Node next){\n            this.key=key;\n            this.val=val;\n            this.next=next;\n        }\n    }\n    public Value get(Key key){\n        for(Node x=first;x!=null;x=x.next){\n            if(key.equals(x.key)){\n                return x.val;\n            }\n        }\n        return null;\n    }\n    public void put(Key key,Value val){\n        for(Node x=first;x!=null;x=x.next){\n            if(key.equals(x.key)){\n                x.val=val;\n                return;\n            }\n        }\n        first=new Node(key,val,first);\n    }\n}`, `61594061913897440000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SequentialSearchST</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Key</span><span class="token punctuation">,</span><span class="token class-name">Value</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>\n    <span class="token keyword">private</span> <span class="token class-name">Node</span> first<span class="token punctuation">;</span>\n    <span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">Node</span><span class="token punctuation">{</span>\n        <span class="token class-name">Key</span> key<span class="token punctuation">;</span>\n        <span class="token class-name">Value</span> val<span class="token punctuation">;</span>\n        <span class="token class-name">Node</span> next<span class="token punctuation">;</span>\n        <span class="token keyword">public</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token class-name">Key</span> key<span class="token punctuation">,</span><span class="token class-name">Value</span> val<span class="token punctuation">,</span><span class="token class-name">Node</span> next<span class="token punctuation">)</span><span class="token punctuation">{</span>\n            <span class="token keyword">this</span><span class="token punctuation">.</span>key<span class="token operator">=</span>key<span class="token punctuation">;</span>\n            <span class="token keyword">this</span><span class="token punctuation">.</span>val<span class="token operator">=</span>val<span class="token punctuation">;</span>\n            <span class="token keyword">this</span><span class="token punctuation">.</span>next<span class="token operator">=</span>next<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token class-name">Value</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Key</span> key<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Node</span> x<span class="token operator">=</span>first<span class="token punctuation">;</span>x<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">;</span>x<span class="token operator">=</span>x<span class="token punctuation">.</span>next<span class="token punctuation">)</span><span class="token punctuation">{</span>\n            <span class="token keyword">if</span><span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n                <span class="token keyword">return</span> x<span class="token punctuation">.</span>val<span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Key</span> key<span class="token punctuation">,</span><span class="token class-name">Value</span> val<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Node</span> x<span class="token operator">=</span>first<span class="token punctuation">;</span>x<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">;</span>x<span class="token operator">=</span>x<span class="token punctuation">.</span>next<span class="token punctuation">)</span><span class="token punctuation">{</span>\n            <span class="token keyword">if</span><span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n                x<span class="token punctuation">.</span>val<span class="token operator">=</span>val<span class="token punctuation">;</span>\n                <span class="token keyword">return</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n        first<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>val<span class="token punctuation">,</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="有序数组的二分查找"><a href="#%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>有序数组的二分查找</h2>\n<h3 id="特点-1"><a href="#%E7%89%B9%E7%82%B9-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>特点</h3>\n<blockquote>\n<ul>\n<li>在 N 个键的有序数组中进行二分查找最多需要(lgN+1)次比较（无论是否成功）。</li>\n</ul>\n</blockquote>\n<ul>\n<li>向大小为 N 的有序数组中插入一个新的元素在最坏情况下需要访问~2N 次数组，因此向一个空符号表中插入 N 个元素在最坏情况下需要访问<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext> </mtext><msup><mi>N</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">~N^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="base"><span class="mspace"> </span><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>次数组</li>\n</ul>\n<h3 id="实现-1"><a href="#%E5%AE%9E%E7%8E%B0-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实现</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="63248148871965420000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class BinarySearchST<Key extends Comparable<Key>, Value>{\n    private Key[] keys;\n    private Value[] vals;\n    private int N;\n    public BinarySearchST(int capacity){\n        keys=(Key[])new Comparable[capacity];\n        vals=(Value[])new Object[capacity];\n    }\n    public int size(){\n        return N;\n    }\n    public Value get(Key key){\n        if(isEmpty()) return null;\n        int i=rank(key);\n        if(i<N&&keys[i].compareTo(key)==0) return vals[i];\n        else return null;\n    }\n    public int rank(Key key){\n        int lo=0,hi=N-1;\n        while(lo<=hi){\n            int mid=lo+(hi-lo)/2;\n            int cmp=key.compareTo(keys[mid]);\n            if(cmp<0) hi=mid-1;\n            else if(cmp>0) lo=mid+1;\n            else return mid;\n        }\n        return lo;\n    }\n    public void put(Key key,Value val){\n        int i=rank(key);\n        if(i<N&&keys[i].compareTo(key)==0){\n            vals[i]=val; return;\n        }\n        for(int j=N;j>i;j--){\n            keys[j]=keys[j-1];\n            vals[j]=vals[j-1];\n        }\n        keys[i]=key; vals[i]=val;\n        N++;\n    }\n    public Iterable<Key> keys(Key lo,Key hi){\n        Queue<Key> q=new Queue<Key>();\n        for(int i=rank(lo);i<rank(hi);i++){\n            q.enqueue(keys[i])\n        }\n        if(contains(hi)){\n            q.enqueue(keys[rank(hi)]);\n        }\n    }\n}`, `63248148871965420000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BinarySearchST</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Key</span> <span class="token keyword">extends</span> <span class="token class-name">Comparable</span><span class="token punctuation">&lt;</span><span class="token class-name">Key</span><span class="token punctuation">></span><span class="token punctuation">,</span> <span class="token class-name">Value</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>\n    <span class="token keyword">private</span> <span class="token class-name">Key</span><span class="token punctuation">[</span><span class="token punctuation">]</span> keys<span class="token punctuation">;</span>\n    <span class="token keyword">private</span> <span class="token class-name">Value</span><span class="token punctuation">[</span><span class="token punctuation">]</span> vals<span class="token punctuation">;</span>\n    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token class-name">N</span><span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token class-name">BinarySearchST</span><span class="token punctuation">(</span><span class="token keyword">int</span> capacity<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        keys<span class="token operator">=</span><span class="token punctuation">(</span><span class="token class-name">Key</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">new</span> <span class="token class-name">Comparable</span><span class="token punctuation">[</span>capacity<span class="token punctuation">]</span><span class="token punctuation">;</span>\n        vals<span class="token operator">=</span><span class="token punctuation">(</span><span class="token class-name">Value</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span>capacity<span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token class-name">N</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token class-name">Value</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Key</span> key<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n        <span class="token keyword">int</span> i<span class="token operator">=</span><span class="token function">rank</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span><span class="token class-name">N</span><span class="token operator">&amp;&amp;</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> vals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">rank</span><span class="token punctuation">(</span><span class="token class-name">Key</span> key<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">int</span> lo<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>hi<span class="token operator">=</span><span class="token class-name">N</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>\n        <span class="token keyword">while</span><span class="token punctuation">(</span>lo<span class="token operator">&lt;=</span>hi<span class="token punctuation">)</span><span class="token punctuation">{</span>\n            <span class="token keyword">int</span> mid<span class="token operator">=</span>lo<span class="token operator">+</span><span class="token punctuation">(</span>hi<span class="token operator">-</span>lo<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>\n            <span class="token keyword">int</span> cmp<span class="token operator">=</span>key<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>keys<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token keyword">if</span><span class="token punctuation">(</span>cmp<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> hi<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>\n            <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>cmp<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span> lo<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>\n            <span class="token keyword">else</span> <span class="token keyword">return</span> mid<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">return</span> lo<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Key</span> key<span class="token punctuation">,</span><span class="token class-name">Value</span> val<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">int</span> i<span class="token operator">=</span><span class="token function">rank</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span><span class="token class-name">N</span><span class="token operator">&amp;&amp;</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n            vals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>val<span class="token punctuation">;</span> <span class="token keyword">return</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token class-name">N</span><span class="token punctuation">;</span>j<span class="token operator">></span>i<span class="token punctuation">;</span>j<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n            keys<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>keys<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n            vals<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>vals<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>key<span class="token punctuation">;</span> vals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>val<span class="token punctuation">;</span>\n        <span class="token class-name">N</span><span class="token operator">++</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Key</span><span class="token punctuation">></span></span> <span class="token function">keys</span><span class="token punctuation">(</span><span class="token class-name">Key</span> lo<span class="token punctuation">,</span><span class="token class-name">Key</span> hi<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Key</span><span class="token punctuation">></span></span> q<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Key</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token function">rank</span><span class="token punctuation">(</span>lo<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">rank</span><span class="token punctuation">(</span>hi<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n            q<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">contains</span><span class="token punctuation">(</span>hi<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n            q<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>keys<span class="token punctuation">[</span><span class="token function">rank</span><span class="token punctuation">(</span>hi<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="预览"><a href="#%E9%A2%84%E8%A7%88" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>预览</h2>\n<h3 id="比较"><a href="#%E6%AF%94%E8%BE%83" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>比较</h3>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180320172415-9ebdd0782560899ff37a446cbe177292-3c344.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 41.569086651053865%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsSAAALEgHS3X78AAABI0lEQVQY00WR2Y6CQBBF+f9P4QXMhCUGZAsCIqtRwybLQPyNOdIzmXog1X3rLtVI27YNw/B6vZZl+d6rqqq6rsuyDMPQcRzXdU+n0/P5nOdZTIovR2maJsMwZFm2bRtaFEWMJkkC+Xq9ep7HTVEUWZZxtCyLG6Db7QZRwtD3fZjAl8sl3AuMiePxqKoq5kAcicAYun3fd133Ia/rihjTJHk8HgTGn/BMkwihIAjO5zMD0IDg/Md+v99cARABMloCy/PcNE10abinURTlcDjQYNu27a9zmqbI80WCDe/3O85s+LUX/nEcY07DzuwvXu5DZo5ITdOM44hJvJd4IZx1XWdzocvR+Cs8IErIgIk/gbx4PIKws7MX0qA08l6appGcXKz5A1IcgCt73Y97AAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180320172415" title="" data-src="/static/微信截图_20180320172415-9ebdd0782560899ff37a446cbe177292-fee1c.png" data-srcset="/static/微信截图_20180320172415-9ebdd0782560899ff37a446cbe177292-a67b7.png 200w,\n/static/微信截图_20180320172415-9ebdd0782560899ff37a446cbe177292-0b187.png 400w,\n/static/微信截图_20180320172415-9ebdd0782560899ff37a446cbe177292-fee1c.png 800w,\n/static/微信截图_20180320172415-9ebdd0782560899ff37a446cbe177292-3c344.png 854w" data-sizes="(max-width: 800px) 100vw, 800px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<h2 id="二叉查找树"><a href="#%E4%BA%8C%E5%8F%89%E6%9F%A5%E6%89%BE%E6%A0%91" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>二叉查找树</h2>\n<h3 id="思路"><a href="#%E6%80%9D%E8%B7%AF" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>思路</h3>\n<blockquote>\n<p>使用每个结点含有两个链接的二叉查找树高效实现符号表。</p>\n</blockquote>\n<h3 id="特点-2"><a href="#%E7%89%B9%E7%82%B9-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>特点</h3>\n<p>![](./微信截图_20180320182015.png %}{% qnimg 微信截图_20180321182858.png)</p>\n<blockquote>\n<ul>\n<li>在由 N 个随机键构造的二叉查找树中，查找命中平均所需的比较次数为~2lnN（约 1.39lgN）。</li>\n</ul>\n</blockquote>\n<ul>\n<li>在由 N 个随机键构造的二叉查找树中插入和查找未命中平均所需的比较次数为~2lnN（约 1.39lgN）。</li>\n<li>虽然查找命中比二分查找高约 39%，但是插入操作访问数组的次数是线性级别的。</li>\n<li>在一颗二叉查找树中，所有操作在最坏情况下所需的时间都和树的高度成正比。</li>\n</ul>\n<h3 id="实现-2"><a href="#%E5%AE%9E%E7%8E%B0-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实现</h3>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180321174624-c3264e5cdc92b7b49b24463192dfdad0-9e167.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 538px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 121.18959107806691%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAIAAAB1KUohAAAACXBIWXMAAAsSAAALEgHS3X78AAACK0lEQVQ4y22U2a6CQBBE5/+/TaMPGuO+IeKGCyouoPdA3bQTtB8IzHR3VfWCWy6XURQ9Ho8kSd6evV4vnsfjcbFY6IqTLMviOMZZPi5N0+v1er/fcXp/Gee32w3vy+Uym8222+1ms+H9P9iHElrFQHs+n+12+3Q6AUMicyuQSc9bGIb7/d4Im3W7XTB1nue5j+GM3mg0+maBt2WH7fl8PhwOCNStgxLEFAACCn9qxhA8Ho/xgTxRRTDXXIAAPa5V4WazicggCIwhbgQMBgNaY6mdVWW325GCTtCY9XpNpN88ZeEcN/t0cBBV9PR6Pe5WqxUv6sfP+hNCIYpgXfPEezgc0g/q0Wq1DCEvTbDz+TwqjVuuXFaaUigSCoaJTsinpXEbloYiZXSqJE60ajqd0gmyQsHXpixg9Pt9xvmj2ZSAqWrDql6vk/5bM2jEWzmcPzEQ5oLprXTbN2hCAQlwKcYTV745JYxOUhjD1CZpimDEhOADQd5B+vSZLMR3Oh064W+FqsUhpKg26vAhRYGsYtRqNUrFGOFEqdTGilrcGM9Go8EgxKU5BSSlaWPZLfE08ugSHZApGIJB4qTosxZNu4qfRsIPBpBRVxZ4aUN4Op+YEsFZS2NsVd7JZIJU2IEflFasJCYErRdjQM1tNvSTUs1Apmy0A9qFZo0XMZzqX4Ufd98/I0xZNIWfVglWmn9ukqUQ+H/BKrsGJfhoVJl2aotUdOpdPzkMfMD/AHqnZ6DXI38TAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180321174624" title="" data-src="/static/微信截图_20180321174624-c3264e5cdc92b7b49b24463192dfdad0-9e167.png" data-srcset="/static/微信截图_20180321174624-c3264e5cdc92b7b49b24463192dfdad0-bd273.png 200w,\n/static/微信截图_20180321174624-c3264e5cdc92b7b49b24463192dfdad0-7e34d.png 400w,\n/static/微信截图_20180321174624-c3264e5cdc92b7b49b24463192dfdad0-9e167.png 538w" data-sizes="(max-width: 538px) 100vw, 538px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180321174731-74faa5f59dc8ab19fb4224f8ccdfc075-4e69e.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 401px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 192.51870324189528%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAnCAIAAACABf9ZAAAACXBIWXMAAAsSAAALEgHS3X78AAAEIklEQVRIx23V104sSwwF0P7/P+AFhEQSUQiECBI5ipxzzuEcwiXHu7o9pxlG1ENNTXdte9vedievr6+fn59fX1/Pz8/39/f//Vt/f64/2Sp5mDw+Pl5dXa2trc3NzU1NTTksLCzMz88HwCv79fU1u/EkR3qYPD09HR4e9vf3j46O2nt6eux9fX2c397eunFzc3NwcNDV1QXpSTE+eXh4wBztl5cXLPx1OD4+Xl9f393dXVlZGR4enp6ebm5uxuv8/Jy5bzBj4cRC8uLiYmdnp729vbGxkf+lpSV/Nzc3WaypqRkZGcHftQL47e2N57u7Oz75qa2t3djYODs7iwwtLi6ywi0WTOzt7Ykid568v79/fHwwLHiwiYkJMQMfHR2JH1j+xsfHwba2tgBQOz09jchTcOCVCv/Ly8uWlpbwg8Xk5KSHwmYIZ0kdGhpqaGiQY2GmtCHtnCMPLCt2gdnLyso4Zwj5pqYmubAPDg5+xwzMuQPn19kKVqwo+8nJiVx0d3fzOTY2hldvb2/kLOEQ5jFbPEeebrLldVRB/JwHI+lwKHgOV/ltSzGUJxLL7f7+vrL7K08hrO9sx0+AQ4/utba21tfXy9b29rb0xgXOUYhrP8Aw6IlNSKurqxEtkRE8KwMDAyLColRhwYQ9r+mJqmSFN2JUG0WemZlR55ztD22HtuTMLlow9VCe2dnZuro6YHXO81/aklEqjaHuqGIO6UBqBFdZWbm8vBxV+AXMoWjVCaCjo0N4NADZ2dkJrLEj7X9/W0lkGDfSlRucwaRN/NjyGWqR5+JUfScMHlgldLzysMIESR1ni2cReSjbJeSTkBFiMbqiq+VcM8AAUFXUlnW2ipOXBDfLwVWqoCQko6Ud+GQl3v5S5xgmuRjtzvxDOhtgwCGH4mGagt0L9YcM2OYc0i5n/OeyLZnEha5Sai1pGCmYp0IwDIC5Va0SqsUiS0cvGLx80IMIpUqdHdgSfzRGDvgRc7AlTOWprq42McrLy9VZzWlGk4Bxjj9Ddrbkv7QludVDJKWZtIRZzT/+MfQd1EnmnCUyPiOFUrkRjWFFhVj0hCsAswEFnqUtWFiFbAs7/xRFPREWubJBuo0qt8TPaExIdxhKG+MpW/yHhmEoDG1If8mTn/gABcY1f71Ksx3VohPxSLLvQ1VVlWYmb3i5EDDnZ//WSba8Sr9VfIbC0PYO3lUAjR1DjyuHw2yF5vazVRhD+ddUSMENMToxG0LknkSp4MFw9jeRqlCY4GPihAxYAZYkfk6zFbKzIm0spp5jjLES7ZaLKVwFhgmM9rLFc2g2iWaOUodaIoQIJ7IghNBWBB+0/U0HoGUAkpfaCtIw0Q9U0dbW5rPkEyXtZpvnZFtRUeFt9GmiK5TKAA2eocGQEbaRHgNY29BZSDhS7eb/eyghxTnOyrUAAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180321174731" title="" data-src="/static/微信截图_20180321174731-74faa5f59dc8ab19fb4224f8ccdfc075-4e69e.png" data-srcset="/static/微信截图_20180321174731-74faa5f59dc8ab19fb4224f8ccdfc075-c99eb.png 200w,\n/static/微信截图_20180321174731-74faa5f59dc8ab19fb4224f8ccdfc075-66047.png 400w,\n/static/微信截图_20180321174731-74faa5f59dc8ab19fb4224f8ccdfc075-4e69e.png 401w" data-sizes="(max-width: 401px) 100vw, 401px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180321174841-95ce8c73b705c82325afcf4dbd3a6df2-7320c.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 367px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 187.19346049046322%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAlCAIAAADNzV5SAAAACXBIWXMAAAsSAAALEgHS3X78AAADfElEQVRIx13V51LcQBAEYL3/I0FRBRQ552zSkeNhGzCpyp/UYk/2/NhbnbYndM+sqvf397e3N+ufxuw/Pj5sXl9fn5+ffzf2qzGbl5eXHPPWySo7Nj8/PzIysrCwsLi4aF1dXQ3mZ2MFz16/rUpYLyYmJqanp8fHx0dHR+GHh4dt/C/af8gSr478+fl5enq6tbXV6/UeHx9zTrR+vw95e3v79PTkqH2QAXusI399fUHKeXt7G5KLk5MT+Lu7u729vc3NzaurK6dLzf+kzWC4x5D90dERX8fHxzAy4uLm5ubh4SEUJn4LDrfKtrm/v+83xpE4Sri4uLi+vlZCMg/Jg7QjVVwIAp8M7YGtSuAij1w4EEeyqKItF3GWd85dXl5m3d3dpeLc3BwtZmdnV1ZWENGCg4yl/niRvIAqd3ptbQ2dQ0NDU1NTVFxfXyeBqHXNsYBTGPBzYwre2NgQCh7th4eHOzs78DY1ODGBU3n4CCXyF18hfBXv5XAbuXCWc+Q5ODggT//bxLeWDik2qNmDlIgsyfPz87Ozsx+NoY0ja6komwFYWBWK6RxVnJCzgKj2mIYt4IKvkvBXY7xEUkgbqWakMhK8J9vS5DXYv+FGbrIlg/i9xvwTF92uHEyVf/f394mpAcywSTYe1qWlJb2dgFmDL17qJvFAt7GxscnJyZmZme3GzLbBRp4gwgbZtba3/VBccD2MMNFQ7VE/ol3O/kFYTpeRyL5l230QwQRBmAHMJGVOo3mq/Yftcu95yKXhtG6hE8KloOBMaPfqa5ukTIUH7sX0Tv7Ly8vSVgvCIxgXuQ+TcztVxTLSgqjTPMlWk5AAeSaJIm4YXPAbF1WZxO5IMK9pnvvUMNrwYrasRFFUfW93wYXJzCM8tR01jMLS0sA4XzirujOcv9IVuRJR4DKxCc+5wAfgCJCcc43eNIZwyLQt2tHW7fBWqtKuXkTPCCPnq8a4I6H/y3ejtHdVes2L3J5eEEnbAXCX9ux2qH07VfkORPqIhEnXJZG4cy7RCr5sanD3OyqIOsVPk/JSwIkRcPnQVk7nclxuTEzCUFVkh/JxLZhoMUgbGcQEJmO+r8C0dZ8F3K05vA7AZCS9S4MLVzQv2C4NU3gqI1Ease4wrwUvd5VzCvFPmGP4Dx3Rj2vroGZNL375sqMgXyZr5kEJMsKCmzg3FLzIfwFL0whX5ZLghwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180321174841" title="" data-src="/static/微信截图_20180321174841-95ce8c73b705c82325afcf4dbd3a6df2-7320c.png" data-srcset="/static/微信截图_20180321174841-95ce8c73b705c82325afcf4dbd3a6df2-3f7ac.png 200w,\n/static/微信截图_20180321174841-95ce8c73b705c82325afcf4dbd3a6df2-7320c.png 367w" data-sizes="(max-width: 367px) 100vw, 367px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180321174958-ae14f2dc3cfee5debfd91ba109d39e17-6f695.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 717px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 91.91073919107393%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsSAAALEgHS3X78AAAB5UlEQVQ4y02U6ZLBUBCF7/u/kQeQX0qpoiiFCWJNgsgiY0aYT5/MLf0j7tLLOaf7cvf7/ffDfsy00PfL7PF4fJvdbreqqvjWde3Yy89Hkk4nBLAuimK/38/n8+VymSRJHMcKxhwJ5O2/WiieNQ74RVEUhuF2u93tdmVZ1mbvylRQWVzZKl6IhDPP8+v1mmXZ6XQiBfUF/h18uVw4ZdM0DQEsJIRPh1EH/MRvNhuQK6nDtd/vB0HAKSnICkPqeBUUT1hhxhWwRdsJAEwOh0NuhgeHXjBpw+16vSYvBYgXFsd1YyZ4XHjxCRZtsnO+Wq1ms9lwOJxMJhRrOfNDG2AiwmmaSsXn80kdmiSdkeZ8Pkdm+AP+DRuceIxGI/LhDT0uSPR6vYhBkW63S1kwiqp62fZZrSIGwoRRVlLBhROEFC4QwdyPCldOXUUM+JBMAyDC4gwuyoJ8sVgMBgO+wGELC6c6YO71ehzBSt3WeKmfapI4S2cp1U4YMEg/nU6J1/QKObfCQjA4Y7Py35zYIywb+ByPR67hz6FekkSCMCJrkMhVmbWvCiOxxghX/zD8bGdmZKcvCIRbG/z5njmlILQlmCZHTaIg49HpdMbjsaR1GrfUjNyJGcJwJ+X0nvDmUJX5b4ACZf4A1oz5WLrb1mgAAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180321174958" title="" data-src="/static/微信截图_20180321174958-ae14f2dc3cfee5debfd91ba109d39e17-6f695.png" data-srcset="/static/微信截图_20180321174958-ae14f2dc3cfee5debfd91ba109d39e17-8f412.png 200w,\n/static/微信截图_20180321174958-ae14f2dc3cfee5debfd91ba109d39e17-576a5.png 400w,\n/static/微信截图_20180321174958-ae14f2dc3cfee5debfd91ba109d39e17-6f695.png 717w" data-sizes="(max-width: 717px) 100vw, 717px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="67814959301808456000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class BST<Key extends Compareable<Key>,Value>{\n    private Node root;\n    private class Node{\n        private Key key;\n        private Value val;\n        private Node left,right;\n        int N;\n        public Node(Key key,Value val,int N){\n            this.key=key;\n            this.val=val;\n            this.N=N;\n        }\n    }\n    public int size(){\n        return size(root);\n    }\n    private int size(Node x){\n        if(x==null) return 0;\n        else return x.N;\n    }\n    public Value get(Key key){\n        return get(root,key);\n    }\n    private Value get(Node x,Key key){\n        if(x==null) return null;\n        int cmp=key.compareTo(x.key);\n        if(cmp>0) return get(x.right,key);\n        else return get(x.left,key);\n        else return x.val;\n    }\n    public void put(Key key,Value val){\n        // 查找key，找到并更新它的值，否则创建一个新结点。\n        root=put(root,key,val);\n    }\n    private Node put(Node x,Key key,Value val){\n        //如果key存在以x为根结点的子树中则更新它的值；\n        //否则将以key和val为键值对的新结点插入到该子树中。\n        if(x==null) return new Node(key,val,1);\n        int cmp=key.compareTo(x.key);\n        if(cmp<0) x.left=put(x.left,key,val);\n        else if(cmp>0) x.right=put(x.right,key,val);\n        else x.val=val;\n        x.N=size(x.left)+size(x.right)+1;\n        return x;\n    }\n    public Key min(){\n        return min(root).key;\n    }\n    private Node min(Node x){\n        if(x.left==null) return x;\n        return min(x.left);\n    }\n    public Key floor(Key key){\n        Node x=floor(root,key);\n        if(x==null) return null;\n        return x.key;\n    }\n    private Node floor(Node x,Key key){\n        /**\n        如果 key 小于根节点的 key，那么小于等于 key 的最大键节点一定在左子树中；如果 key 大于根节点的 key，只有当根节点右子树中存在小于等于 key 的节点，小于等于 key 的最大键节点才在右子树中，否则根节点就是小于等于 key 的最大键节点。\n        **/\n        if(x==null) return null;\n        int cmp=key.compareTo(x.key);\n        if(cmp==0) return x;\n        if(cmp<0) return floor(x.left,key);\n        Node t=floor(x.right,key);\n        if(t!=null) return t;\n        else return x;\n    }\n    public Key select(int k){\n        return select(root,k).key;\n    }\n    private Node select(Node x,int k){\n        // 返回排名为k的结点\n        if(x==null) return null;\n        int t=size(x.left);\n        if(t>k) return select(x.left,k);\n        if(t==k) return x;\n        if(t<k) return select(x.right,k-t-1);\n    }\n    public int rank(Key key){\n        return rank(key,root);\n    }\n    private int rank(Key key,Node x){\n        // 返回以x为根结点的子树中小于x的key的数量\n        if(x==null) return 0;\n        int cmp=key.compareTo(x.key);\n        if(cmp==0) return size(x.left);\n        else if(cmp<0) return rank(key,x.left);\n        else return rank(key,x.right)+size(x.left)+1;\n    }\n    public void deleteMin(){\n        root=deleteMin(root);\n    }\n    private Node deleteMin(Node x){\n        // 令指向最小节点的链接指向最小节点的右子树。\n        if(x.left==null) return x.right;\n        x.left=deleteMin(x.left);\n        x.N=size(x.left)+size(x.right)+1;\n        return x;\n    }\n    public delete(Key key){\n        root=delete(root,key);\n    }\n    private Node delete(Node x,Key key){\n        // 如果待删除的节点只有一个子树，那么只需要让指向待// 删除节点的链接指向唯一的子树即可；否则，让右子树// 的最小节点替换该节点。\n        if(x==null) return null;\n        int cmp=key.compareTo(x.key);\n        if(cmp<0) x.left=delete(x.left,key);\n        else if(cmp>0) x.right=delete(x.right,key);\n        else {\n            if(x.right==null) return x.left;\n            if(x.left==null) return x.right;\n            Node t=x;\n            x=min(t.right);\n            x.right=deleteMin(t.right);\n            x.left=t.left;\n        }\n        x.N=size(x.left)+size(x.right)+1;\n        return x;\n    }\n    public Iterable<Key> keys(){\n        return keys(min(),max());\n    }\n    public Iterable<Key> keys(Key lo,Key hi){\n        Queue<Key> queue=new Queue<Key>();\n        keys(root,queue,lo,hi);\n        return queue;\n    }\n    private void keys(Node x,Queue<Key> queue,Key lo,Key hi){\n        // 利用二叉查找树中序遍历的结果为有序序列的特点。\n        if(x==null) return;\n        int cmplo=lo.compareTo(x.key);\n        int cmphi=hi.compareTo(x.key);\n        // 查找左子树\n        if(cmplo<0) keys(x.left,queue,lo,hi);\n        // 查找根结点\n        if(cmplo<=0&&cmphi>=0) queue.enqueue(x.key);\n        // 查找右子树\n        if(cmphi>0) keys(x.right,queue,lo,hi);\n    }\n}`, `67814959301808456000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> BST<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Key</span> <span class="token keyword">extends</span> <span class="token class-name">Compareable</span><span class="token punctuation">&lt;</span><span class="token class-name">Key</span><span class="token punctuation">></span><span class="token punctuation">,</span><span class="token class-name">Value</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>\n    <span class="token keyword">private</span> <span class="token class-name">Node</span> root<span class="token punctuation">;</span>\n    <span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">Node</span><span class="token punctuation">{</span>\n        <span class="token keyword">private</span> <span class="token class-name">Key</span> key<span class="token punctuation">;</span>\n        <span class="token keyword">private</span> <span class="token class-name">Value</span> val<span class="token punctuation">;</span>\n        <span class="token keyword">private</span> <span class="token class-name">Node</span> left<span class="token punctuation">,</span>right<span class="token punctuation">;</span>\n        <span class="token keyword">int</span> <span class="token class-name">N</span><span class="token punctuation">;</span>\n        <span class="token keyword">public</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token class-name">Key</span> key<span class="token punctuation">,</span><span class="token class-name">Value</span> val<span class="token punctuation">,</span><span class="token keyword">int</span> <span class="token class-name">N</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n            <span class="token keyword">this</span><span class="token punctuation">.</span>key<span class="token operator">=</span>key<span class="token punctuation">;</span>\n            <span class="token keyword">this</span><span class="token punctuation">.</span>val<span class="token operator">=</span>val<span class="token punctuation">;</span>\n            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token class-name">N</span><span class="token operator">=</span><span class="token class-name">N</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token function">size</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token class-name">Node</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>\n        <span class="token keyword">else</span> <span class="token keyword">return</span> x<span class="token punctuation">.</span><span class="token class-name">N</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token class-name">Value</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Key</span> key<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token function">get</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">private</span> <span class="token class-name">Value</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Node</span> x<span class="token punctuation">,</span><span class="token class-name">Key</span> key<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n        <span class="token keyword">int</span> cmp<span class="token operator">=</span>key<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>cmp<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">get</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>right<span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token function">get</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>left<span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">else</span> <span class="token keyword">return</span> x<span class="token punctuation">.</span>val<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Key</span> key<span class="token punctuation">,</span><span class="token class-name">Value</span> val<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token comment">// 查找key，找到并更新它的值，否则创建一个新结点。</span>\n        root<span class="token operator">=</span><span class="token function">put</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>key<span class="token punctuation">,</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">private</span> <span class="token class-name">Node</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Node</span> x<span class="token punctuation">,</span><span class="token class-name">Key</span> key<span class="token punctuation">,</span><span class="token class-name">Value</span> val<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token comment">//如果key存在以x为根结点的子树中则更新它的值；</span>\n        <span class="token comment">//否则将以key和val为键值对的新结点插入到该子树中。</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>val<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">int</span> cmp<span class="token operator">=</span>key<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>cmp<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> x<span class="token punctuation">.</span>left<span class="token operator">=</span><span class="token function">put</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>left<span class="token punctuation">,</span>key<span class="token punctuation">,</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>cmp<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span> x<span class="token punctuation">.</span>right<span class="token operator">=</span><span class="token function">put</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>right<span class="token punctuation">,</span>key<span class="token punctuation">,</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">else</span> x<span class="token punctuation">.</span>val<span class="token operator">=</span>val<span class="token punctuation">;</span>\n        x<span class="token punctuation">.</span><span class="token class-name">N</span><span class="token operator">=</span><span class="token function">size</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">size</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>\n        <span class="token keyword">return</span> x<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token class-name">Key</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token function">min</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">private</span> <span class="token class-name">Node</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token class-name">Node</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>left<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> x<span class="token punctuation">;</span>\n        <span class="token keyword">return</span> <span class="token function">min</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token class-name">Key</span> <span class="token function">floor</span><span class="token punctuation">(</span><span class="token class-name">Key</span> key<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token class-name">Node</span> x<span class="token operator">=</span><span class="token function">floor</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n        <span class="token keyword">return</span> x<span class="token punctuation">.</span>key<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">private</span> <span class="token class-name">Node</span> <span class="token function">floor</span><span class="token punctuation">(</span><span class="token class-name">Node</span> x<span class="token punctuation">,</span><span class="token class-name">Key</span> key<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token comment">/**\n        如果 key 小于根节点的 key，那么小于等于 key 的最大键节点一定在左子树中；如果 key 大于根节点的 key，只有当根节点右子树中存在小于等于 key 的节点，小于等于 key 的最大键节点才在右子树中，否则根节点就是小于等于 key 的最大键节点。\n        **/</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n        <span class="token keyword">int</span> cmp<span class="token operator">=</span>key<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>cmp<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> x<span class="token punctuation">;</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>cmp<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">floor</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>left<span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token class-name">Node</span> t<span class="token operator">=</span><span class="token function">floor</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>right<span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> t<span class="token punctuation">;</span>\n        <span class="token keyword">else</span> <span class="token keyword">return</span> x<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token class-name">Key</span> <span class="token function">select</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token function">select</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">private</span> <span class="token class-name">Node</span> <span class="token function">select</span><span class="token punctuation">(</span><span class="token class-name">Node</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> k<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token comment">// 返回排名为k的结点</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n        <span class="token keyword">int</span> t<span class="token operator">=</span><span class="token function">size</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token operator">></span>k<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">select</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>left<span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token operator">==</span>k<span class="token punctuation">)</span> <span class="token keyword">return</span> x<span class="token punctuation">;</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token operator">&lt;</span>k<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">select</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>right<span class="token punctuation">,</span>k<span class="token operator">-</span>t<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">rank</span><span class="token punctuation">(</span><span class="token class-name">Key</span> key<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token function">rank</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">rank</span><span class="token punctuation">(</span><span class="token class-name">Key</span> key<span class="token punctuation">,</span><span class="token class-name">Node</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token comment">// 返回以x为根结点的子树中小于x的key的数量</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>\n        <span class="token keyword">int</span> cmp<span class="token operator">=</span>key<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>cmp<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">size</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>cmp<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">rank</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>x<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token function">rank</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>x<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">size</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        root<span class="token operator">=</span><span class="token function">deleteMin</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">private</span> <span class="token class-name">Node</span> <span class="token function">deleteMin</span><span class="token punctuation">(</span><span class="token class-name">Node</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token comment">// 令指向最小节点的链接指向最小节点的右子树。</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>left<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> x<span class="token punctuation">.</span>right<span class="token punctuation">;</span>\n        x<span class="token punctuation">.</span>left<span class="token operator">=</span><span class="token function">deleteMin</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        x<span class="token punctuation">.</span><span class="token class-name">N</span><span class="token operator">=</span><span class="token function">size</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">size</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>\n        <span class="token keyword">return</span> x<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Key</span> key<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        root<span class="token operator">=</span><span class="token function">delete</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">private</span> <span class="token class-name">Node</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Node</span> x<span class="token punctuation">,</span><span class="token class-name">Key</span> key<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token comment">// 如果待删除的节点只有一个子树，那么只需要让指向待// 删除节点的链接指向唯一的子树即可；否则，让右子树// 的最小节点替换该节点。</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n        <span class="token keyword">int</span> cmp<span class="token operator">=</span>key<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>cmp<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> x<span class="token punctuation">.</span>left<span class="token operator">=</span><span class="token function">delete</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>left<span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>cmp<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span> x<span class="token punctuation">.</span>right<span class="token operator">=</span><span class="token function">delete</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>right<span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">else</span> <span class="token punctuation">{</span>\n            <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>right<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> x<span class="token punctuation">.</span>left<span class="token punctuation">;</span>\n            <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>left<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> x<span class="token punctuation">.</span>right<span class="token punctuation">;</span>\n            <span class="token class-name">Node</span> t<span class="token operator">=</span>x<span class="token punctuation">;</span>\n            x<span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            x<span class="token punctuation">.</span>right<span class="token operator">=</span><span class="token function">deleteMin</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            x<span class="token punctuation">.</span>left<span class="token operator">=</span>t<span class="token punctuation">.</span>left<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        x<span class="token punctuation">.</span><span class="token class-name">N</span><span class="token operator">=</span><span class="token function">size</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">size</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>\n        <span class="token keyword">return</span> x<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Key</span><span class="token punctuation">></span></span> <span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token function">keys</span><span class="token punctuation">(</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Key</span><span class="token punctuation">></span></span> <span class="token function">keys</span><span class="token punctuation">(</span><span class="token class-name">Key</span> lo<span class="token punctuation">,</span><span class="token class-name">Key</span> hi<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Key</span><span class="token punctuation">></span></span> queue<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Key</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token function">keys</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>queue<span class="token punctuation">,</span>lo<span class="token punctuation">,</span>hi<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">return</span> queue<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">keys</span><span class="token punctuation">(</span><span class="token class-name">Node</span> x<span class="token punctuation">,</span><span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Key</span><span class="token punctuation">></span></span> queue<span class="token punctuation">,</span><span class="token class-name">Key</span> lo<span class="token punctuation">,</span><span class="token class-name">Key</span> hi<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token comment">// 利用二叉查找树中序遍历的结果为有序序列的特点。</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>\n        <span class="token keyword">int</span> cmplo<span class="token operator">=</span>lo<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">int</span> cmphi<span class="token operator">=</span>hi<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token comment">// 查找左子树</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>cmplo<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token function">keys</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>left<span class="token punctuation">,</span>queue<span class="token punctuation">,</span>lo<span class="token punctuation">,</span>hi<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token comment">// 查找根结点</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>cmplo<span class="token operator">&lt;=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>cmphi<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span> queue<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token comment">// 查找右子树</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>cmphi<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token function">keys</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>right<span class="token punctuation">,</span>queue<span class="token punctuation">,</span>lo<span class="token punctuation">,</span>hi<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="平衡查找树"><a href="#%E5%B9%B3%E8%A1%A1%E6%9F%A5%E6%89%BE%E6%A0%91" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>平衡查找树</h2>\n<h3 id="思路-1"><a href="#%E6%80%9D%E8%B7%AF-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>思路</h3>\n<blockquote>\n<p>保证所有查找都能在~lgN 次比较内结束，为了保证树的平衡性，我们允许树中的一个结点保存多个键。</p>\n</blockquote>\n<h3 id="特点-3"><a href="#%E7%89%B9%E7%82%B9-3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>特点</h3>\n<blockquote>\n<ul>\n<li>一颗完美平衡的 2-3 查找树的所有空链接到根节点的距离应该是相同的。</li>\n</ul>\n</blockquote>\n<ul>\n<li>2-3 查找树插入操作的变换都是局部的，除了相关的节点和链接之外不必修改或者检查树的其它部分，而这些局部变换不会影响树的全局有序性和平衡性。</li>\n<li>2-3 查找树的查找和插入操作复杂度和插入顺序 无关 ，在最坏的情况下查找和插入操作访问的节点必然不超过 logN 个，含有 10 亿个节点的 2-3 查找树最多只需要访问 30 个节点就能进行任意的查找和插入操作。</li>\n<li>在一颗大小为 N 的 2-3 树中，查找和插入操作访问的结点必然不超过 lgN 个。</li>\n</ul>\n<h3 id="实现-3"><a href="#%E5%AE%9E%E7%8E%B0-3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实现</h3>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180322152831-3d2fdd5bd1c9a7270ed2c6ab6ff079a2-283a0.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 704px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 70.0284090909091%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAABbElEQVQoz22Si46CUAxE+f+vI8GEl5GAPBQRRHmjsmcpe1XcJpLYzkyn7dWmaSqKIo7jJEnGcZy+guRhDjACeD6fUtL4nU6n/X4POU3T3W53PB7v97uUizlgep7nOA78rus+yI/Hg/+3242a67poKflxDgGUZRlFEW2yLHuRKZzP581mQw2EZVl0W5lHGt3tdgvANM0wDGH9kjEJDc/0TOcIgoCG5IdhAIBVGoIBwHRI86WkiTAyYo8vTWzb1nWdOdu2pQpTMpRkzJdtAjPUMNY0DX1Q7fte2kpcLhfDMACgjqKUFtv4ZAw6VFWFC7Vt5UtWBQbP/EV6mfk9oKlL/Bsy3ce24VyvVzxTeL+kulld1wxMQ5DYlteiqTLXk31Q/n5qGGYvsi0Ai21w7J19MBKXyPNcNiyK5KGRZFROCMb3fQXQUMItSmKMr+xZHPJ4eDPw/b/gqa5PpQ7G5PBBsF5OQIY+OGIo8qsr/AAbNSKu9Q2lDgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180322152831" title="" data-src="/static/微信截图_20180322152831-3d2fdd5bd1c9a7270ed2c6ab6ff079a2-283a0.png" data-srcset="/static/微信截图_20180322152831-3d2fdd5bd1c9a7270ed2c6ab6ff079a2-491a1.png 200w,\n/static/微信截图_20180322152831-3d2fdd5bd1c9a7270ed2c6ab6ff079a2-19d07.png 400w,\n/static/微信截图_20180322152831-3d2fdd5bd1c9a7270ed2c6ab6ff079a2-283a0.png 704w" data-sizes="(max-width: 704px) 100vw, 704px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180322153304-9c74a605193a26dc750e1ceb4ea4a472-8d9bd.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 308px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 109.09090909090911%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6klEQVQ4y42U127CQBBF+f+/QeKNJoqE6U0U0QUGBAhTjHEwEHKyE4xJIHAfVuPdvTN3ytp3Pp8Nw9jv94fD4XK5fCpc3oPPsiy/318oFHRd95JzuVwwGHxBdi0kfCgsFotOp9NoNJrNJnLY/48soebzuaZp1Wq1XC6fTic5hrzZbI7H44vI2+1WVyCmaZriFBpabNt+WIhvsuM4HItCrlIFEu73+8QnLKulwNHnFTcyNFsBg5i4yGQyxBe/fDoKf8X73Aq7LllxNJ1OZ7OZobBcLpFAXqvVCoMdfN3l7EJc0Hntilgsxkou6XQ6m80mk0n8Pia7WqRzb/VZWg2okFSYEmAgQTL/ld0dWThUZbfbeRuDTRVleJ8OCccSYTgcUi18SVXEKbY7OXdkuSdMURsOhyuVSr1ex0aI+JUSeEX99Nn1LWSmOp/P12o1mTBWGSRs76j7vC9JVjmmmUy76JIqisEdMZ62ChA2FAq1Wi1U8FQSiUQgECgWiwzMZDKhBU8nDDAJkEulErPBYEBut9upVIpauJV/GpkI6/XaVCAONmqZUD7v+sy4jsdjdhldklkp8IzImcyxe70eBiPZ7XaxeXA3MjkgBj4/EAo7GAxQOBqNyJB9bkciEX4SPLVoNIr+eDz+QvY7+AKX/+x8ezovAwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180322153304" title="" data-src="/static/微信截图_20180322153304-9c74a605193a26dc750e1ceb4ea4a472-8d9bd.png" data-srcset="/static/微信截图_20180322153304-9c74a605193a26dc750e1ceb4ea4a472-b87a4.png 200w,\n/static/微信截图_20180322153304-9c74a605193a26dc750e1ceb4ea4a472-8d9bd.png 308w" data-sizes="(max-width: 308px) 100vw, 308px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180322153609-813e9ec2993be72fab1b20c4b75d0930-212ec.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 731px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 61.96990424076607%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABU0lEQVQoz02S6Y6DMAyEef/HQ4AKBXW5t4K23LCUYz/iNsI/LId4PDMOxjzPf9+QelYxTVNd1xT3+71t22VZns/nMAx933ddR6Y23u+3ICk0eBxHwGSO67pS0M2UMAzLsnRd1zTNKIo+YABnsCCZTU1GQlVVFICv1ysFbQezXNOt9Qu4V3G2g3gmJknyo4Jxxhmj60mFyMYtNT4Bv16vOI4hv91uB5hrVKGZJsnCzHeYRVfTNPRwxKfjOEzZ951Og76iKFgG1ywjyzJaxRJsWo6Qg/d937Is27bzPD8WxgUjH48HeISh5wwWLVjgO6+FZ9ZGpv/wLM/A4fcbQghAcqOCWdDiln5kw/pZGNtjqrwEU3hbwYsuGkDiDqkIpo1ZDD3AXPAVzdu2yWsLQN5TPxVSTRWXy0X4DQQzhgw5zqUm9A/DbjliGDtBEHieB3OaplD+A6pwp8mHhsmyAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180322153609" title="" data-src="/static/微信截图_20180322153609-813e9ec2993be72fab1b20c4b75d0930-212ec.png" data-srcset="/static/微信截图_20180322153609-813e9ec2993be72fab1b20c4b75d0930-8e534.png 200w,\n/static/微信截图_20180322153609-813e9ec2993be72fab1b20c4b75d0930-fd412.png 400w,\n/static/微信截图_20180322153609-813e9ec2993be72fab1b20c4b75d0930-212ec.png 731w" data-sizes="(max-width: 731px) 100vw, 731px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180322160823-cc7681258ebef4b78b86aa8622ea3147-a2e9a.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 687px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 95.0509461426492%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsSAAALEgHS3X78AAACCklEQVQ4y1XT61JaQRAE4PP+j2b5B5QSJAoBuQmIEu6I5jvbJJVMFVt7dqZ7ei5Up9Pp7e1tuVx+fX19fn4eDofz+Xw8Hne7HZfTy/F/2+/3ea/8Pj4+fhQbjUZ8PieTyXw+B/4bdyq2L7bdbjebjfcazIRCDgaDn8V+FcMiLgERwty3xbDU4NBTu1gsUMS3KYYisvFKsCsWyBUs4vb2ttVqdbtdxWMJ8t/iFXJ/f99oNGazmftwOKzBqWRWTOdWq9X7+7uX4F3SJGFOmcDkIFBYDT4X4+v3+3wwUZ7KvV8uF9n0gvfx8VFYlFdh9d3pdJxPT0/ikiQnA9aO19fX5+dnMVjW6zVUFVWrYgqO2yXDCJguK/D9/S0bL82C4avTH0Ohn/FFOXe6DezEq9p2u91sNsfjcb0kcYhDxg0JoBleMiqkYtJw4rFbpys4aX2YxN3dncqVbT2ihc5k9ml/XagTo3Ok1ZmF6mGv1+sXi9SsQcoWk600S8rFkFCPKisxnU59vLy8kMCHKIuZOWeWlky1Nzc3NEp+nTPTTKpIQomIluw23sxML5RjCz0aFQnXf1Vqc2oScFqdNXbJLHEp7eHhgbRsy7VmO6DVHFThptmqZgoisoJR58WqIHKCVBmJIAB802JUkWdVCHHPPxFGmHclZIuqcGSN899I2dxOcUSm4SIhnfaEeLX8BpZuKjC+S+cAAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180322160823" title="" data-src="/static/微信截图_20180322160823-cc7681258ebef4b78b86aa8622ea3147-a2e9a.png" data-srcset="/static/微信截图_20180322160823-cc7681258ebef4b78b86aa8622ea3147-b5b37.png 200w,\n/static/微信截图_20180322160823-cc7681258ebef4b78b86aa8622ea3147-68786.png 400w,\n/static/微信截图_20180322160823-cc7681258ebef4b78b86aa8622ea3147-a2e9a.png 687w" data-sizes="(max-width: 687px) 100vw, 687px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180322161403-b49941336ce895e4904967ec8149d2fe-180cb.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 780px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 91.15384615384616%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsSAAALEgHS3X78AAABsElEQVQ4y33U6Y4aQQwE4Hn/FwQJBIgr3PcNy+RLV4LYlYh/DD3driq72kM1m83m83ld18/n0/OrRP0v9vv9ZDKRY5GdpCWqx+Ox2Ww6nc56vd7tdvJ6vV7wnuPx2M7lchkMBsfj8Xa7AR8Oh+Vyeb1eq5BZ5WBT4n6/BwxAczgcjkYj1NvtFle32+33+44qNTcajRRGIZovEYDz+UwHLKV6tXk6nf6U7QeS2rCE4tG1Wi1P4H0JTTWbTYyr1Up+u92mh66iQHCxWKCPLOK0FMMkwEQZnZxlCYtK9zGcq/QpK4yUTV5m81cJLDGVo3r+a1gokaG4lyDlVXaOxLgEurid+6tyFgowGF2p1kIvMrySJTWdToHrt6heq3eWa4lcmwWMDt/HI8lV/T3o5HrAuMp2C4UwjNs/kr+B0dNRfOZhVWJbQv+PEh/BZOUxRpPTEgaLixq2Ezs+gtObDGW7FUgjjc6OWYjVH8EZTHn6NMCZHwtd2Mf4v55ln0usS+SroKxyLE7zwXzsGcAAaM8Nc0vlblvzcS5j8xOsVceZjXyAFnyiCWxaNc9Ig4n09ZfwGz0mCSQISytfAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180322161403" title="" data-src="/static/微信截图_20180322161403-b49941336ce895e4904967ec8149d2fe-180cb.png" data-srcset="/static/微信截图_20180322161403-b49941336ce895e4904967ec8149d2fe-b84dc.png 200w,\n/static/微信截图_20180322161403-b49941336ce895e4904967ec8149d2fe-8d9eb.png 400w,\n/static/微信截图_20180322161403-b49941336ce895e4904967ec8149d2fe-180cb.png 780w" data-sizes="(max-width: 780px) 100vw, 780px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180322162044-2e9f66e666391070a42acd8a788e5e23-73362.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 609px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 132.01970443349754%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAIAAAA44esqAAAACXBIWXMAAAsSAAALEgHS3X78AAACJ0lEQVQ4y3WU17LCMAxE/f+fBzMw9BJ6DzWUhHviBREcrh4yjqWV1tLabjabxXH89LZcLg+Hw/PbYm9an8/n8XhsLne9XtM0ZZVlWRRFi8UiAD8ej9vtpvV6ve71eop/gXHrZ7vdkjsAgyRGa3h9VcanTHzr9TqJAzD7ln0ymRBzOp3E1OEQmMVqtdrv9+z+B97tdrD7VCaNHWk4HNI/C5XB+XK5qBTBrVZLzPPKFiRfu9220GfJcMHcijn+7/e76M3n83LD8Kphys5ERqPRC2xB/X4fR5IkljgwwFQiuxqWg+/eVGGz2Zjj56im02m322Xa6nE+Z9xkBdzpdKrV6vF4LJ6ZfXFhAYbs9FU7zmSEMQm6rWP/bBg6pdVfDRMrwHQCYiyKSLxKhwToCwVgp51PZf4hxt2o1Wq0rVyWLARwYKZF2EueRmPvjbImfTXMckGbc30uhoEpjnqazSa+Im27VaSgOBJuNBohbWmbK2lqD4Ys2lIxisjByieFLb0FSNM2Rmq0YLxc5o0VMyAl/eT7U2GJN/CVSkVvi7OuoI3IG+cpKxQ61OdE4Lk8HJsj5PK0O8hDUX6GrNuEwY519jaXesM3GAzwgadysdvp2xAmxYlhIpKws04yffDUgYvSy6WFrofGxmPCY4QinE2CPvOAoR57aIM3lOyU5YuKGerXfYYVuoUPbr4UZ4fngaQ0QleAQ7FgX9N1gRKkQeEhNvPG/Mr3HPsDt6HnYouKYlcAAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180322162044" title="" data-src="/static/微信截图_20180322162044-2e9f66e666391070a42acd8a788e5e23-73362.png" data-srcset="/static/微信截图_20180322162044-2e9f66e666391070a42acd8a788e5e23-06e0b.png 200w,\n/static/微信截图_20180322162044-2e9f66e666391070a42acd8a788e5e23-70531.png 400w,\n/static/微信截图_20180322162044-2e9f66e666391070a42acd8a788e5e23-73362.png 609w" data-sizes="(max-width: 609px) 100vw, 609px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<h2 id="红黑二叉查找树"><a href="#%E7%BA%A2%E9%BB%91%E4%BA%8C%E5%8F%89%E6%9F%A5%E6%89%BE%E6%A0%91" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>红黑二叉查找树</h2>\n<h3 id="思路-2"><a href="#%E6%80%9D%E8%B7%AF-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>思路</h3>\n<blockquote>\n<p>2-3 查找树需要用到 2- 节点和 3- 节点，红黑树使用红链接来实现 3- 节点。指向一个节点的链接颜色如果为红色，那么这个节点和上层节点表示的是一个 3- 节点，而黑色则是普通链接。</p>\n</blockquote>\n<h3 id="特点-4"><a href="#%E7%89%B9%E7%82%B9-4" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>特点</h3>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180322181626-b53255fd2f68d5a7ac1ad921d1da5a36-c84fc.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 685px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 25.547445255474454%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAAAyUlEQVQY0yWQ16qFMBRE/f//8skHxd7F7rUXBDtnXR1ImGynxAj7vh/HcZ7nfd/XdcG3bauqKsuyuq7btu267u8Fc8Tbi48ILAwokiRBHUVR0zTzPLP7vm+apud50zSt6+o4jqqqlmXleT6O47+573td19EhCoLAtm1Zlpdl4ei8YMjXoiggiqJIkkSBKIpMBNd1vzxAz9cGJwU/HL9hGN+EGk3Tvp0ggds/z9O8GIYhDEP8cRxz1bIsKSGdJ6CHY5qmZPEQ35//AL9DC6AaL3vIAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180322181626" title="" data-src="/static/微信截图_20180322181626-b53255fd2f68d5a7ac1ad921d1da5a36-c84fc.png" data-srcset="/static/微信截图_20180322181626-b53255fd2f68d5a7ac1ad921d1da5a36-18514.png 200w,\n/static/微信截图_20180322181626-b53255fd2f68d5a7ac1ad921d1da5a36-82fbc.png 400w,\n/static/微信截图_20180322181626-b53255fd2f68d5a7ac1ad921d1da5a36-c84fc.png 685w" data-sizes="(max-width: 685px) 100vw, 685px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180323173023-9187be04050ffe82438503b4aae96794-6ec11.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 42.43542435424354%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsSAAALEgHS3X78AAAA/ElEQVQY0y2QxxKDMAxE/f8/xw0GhpKhBULvHfJiZQ8aWdJqV1bHcWRZVtd1GIZxHL81yrKkSJLnOXUpRlH00nBdl4HnedQ8z1VVQU7TVJKiKGzbJrZtyxAbpe44jmEYkMmpoKoejfu+2dL3/TAMcIg8kdq2jWQcx2ma4LBrWRb4xJ/yrbHvO5wkSXALx/d9dDzPC4Lgo4ERnGPYsizTNOmu66oQwTAZ5KZpmEOn6zqmiVRwKHWUJUGf4nmeijeC0sAbBBbhdte4rmvUkIs4gVMZIP5sy3qhyXnSFpDDETJggCLD/5uxwSV4xidt/DBNWyKQP5cPZ0BkiPzUF10Rv+t2H0McAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180323173023" title="" data-src="/static/微信截图_20180323173023-9187be04050ffe82438503b4aae96794-fee1c.png" data-srcset="/static/微信截图_20180323173023-9187be04050ffe82438503b4aae96794-a67b7.png 200w,\n/static/微信截图_20180323173023-9187be04050ffe82438503b4aae96794-0b187.png 400w,\n/static/微信截图_20180323173023-9187be04050ffe82438503b4aae96794-fee1c.png 800w,\n/static/微信截图_20180323173023-9187be04050ffe82438503b4aae96794-6ec11.png 813w" data-sizes="(max-width: 800px) 100vw, 800px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<blockquote>\n<ul>\n<li>红链接都为左链接；</li>\n</ul>\n</blockquote>\n<ul>\n<li>完美黑色平衡，即任意空链接到根节点的路径上的黑链接数量相同。</li>\n<li>没有任何一个结点同时和两条红链接相连。</li>\n<li>画红黑树时可以将红链接画平。</li>\n<li>所有基于红黑树的符号表的实现都能保证操作的运行时间为对数级别（范围查找除外，它所需的时间和返回的键的数量成正比）。</li>\n<li>一颗大小为 N 的红黑树的高度不会超过 2lgN；</li>\n<li>一颗大小为 N 的红黑树中，根结点到任意结点的平均路径长度为~1.00lgN。</li>\n</ul>\n<h3 id="红黑树的结点表示"><a href="#%E7%BA%A2%E9%BB%91%E6%A0%91%E7%9A%84%E7%BB%93%E7%82%B9%E8%A1%A8%E7%A4%BA" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>红黑树的结点表示</h3>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180323133312-df21032d8f69ea0cc55677c76b3c8a1e-230f0.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 408px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 26.96078431372549%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAAA00lEQVQY0z2P5wqEQAyEff9XEgQbiIKi2LAgKliwYd31VLjRw5sfIRn2S2aZfd+naeq6ru/7cRzrup7n+TgO+DCLoljXFQ+WZSGEwET9vGK2bbMsSxRFlmUlSTJNE1vatjUMI4qipmkopQDSNPU8j+d5VVVt29Y0rSxLBkewPkkS3/fRDMMATFGUOI4xVlUVvpJlmeM4QRDQgMTVGz7PExmu60Jgx3GCIHBdF2nhZ1kGAM4/PBpg9NENg8SMmuc57sPVdR03ASMhIuCrYMgjvET9jV8PVw9RC2ddfwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180323133312" title="" data-src="/static/微信截图_20180323133312-df21032d8f69ea0cc55677c76b3c8a1e-230f0.png" data-srcset="/static/微信截图_20180323133312-df21032d8f69ea0cc55677c76b3c8a1e-132f8.png 200w,\n/static/微信截图_20180323133312-df21032d8f69ea0cc55677c76b3c8a1e-274bb.png 400w,\n/static/微信截图_20180323133312-df21032d8f69ea0cc55677c76b3c8a1e-230f0.png 408w" data-sizes="(max-width: 408px) 100vw, 408px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="2282126840356268800"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class RedBlackBST<Key extends Comparable<Key>,Value>{\n    private Node root;\n    private static final boolean RED = true;\n    private static final boolean BLACK = false;\n\n    private class Node{\n        Key key;\n        Value val;\n        int N;\n        boolean color;\n        Node left,right;\n    }\n\n    private boolean isRed(Node x){\n        if(x==null) return false;\n        return x.color == RED;\n    }\n}`, `2282126840356268800`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RedBlackBST</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Key</span> <span class="token keyword">extends</span> <span class="token class-name">Comparable</span><span class="token punctuation">&lt;</span><span class="token class-name">Key</span><span class="token punctuation">></span><span class="token punctuation">,</span><span class="token class-name">Value</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>\n    <span class="token keyword">private</span> <span class="token class-name">Node</span> root<span class="token punctuation">;</span>\n    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">boolean</span> RED <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">boolean</span> BLACK <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">Node</span><span class="token punctuation">{</span>\n        <span class="token class-name">Key</span> key<span class="token punctuation">;</span>\n        <span class="token class-name">Value</span> val<span class="token punctuation">;</span>\n        <span class="token keyword">int</span> <span class="token class-name">N</span><span class="token punctuation">;</span>\n        <span class="token keyword">boolean</span> color<span class="token punctuation">;</span>\n        <span class="token class-name">Node</span> left<span class="token punctuation">,</span>right<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">isRed</span><span class="token punctuation">(</span><span class="token class-name">Node</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n        <span class="token keyword">return</span> x<span class="token punctuation">.</span>color <span class="token operator">==</span> RED<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="左旋转"><a href="#%E5%B7%A6%E6%97%8B%E8%BD%AC" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>左旋转</h3>\n<blockquote>\n<p>因为合法的红链接都为左链接，如果出现右链接为红链接，那么就需要进行左旋转操作。</p>\n</blockquote>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180323151041-219a9a1c72065540d35554530cad5978-a3cb3.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 336px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 164.28571428571428%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAhCAIAAABWXBxEAAAACXBIWXMAAAsSAAALEgHS3X78AAADh0lEQVQ4y33V504jSxAFYL//SyAEkpEQIgqhBUywSCLnJUeTWcKSwWY/T3nHYa9u/7B6uiucc6q6nLm/v394ePj6+ioWi9/f335jXyqVfNp/fn5+fHzYOCkmy3ncZn4nKz7iNL0+Pz8fHh4eGRmZm5sbGhrq6+ubn5+fnp4eHBy8vLysOD89PYXz3d3d2dmZjburq6vt7e1sNtvU1LSystLc3NzR0dHf3z86Otra2rq+vl52fn19TZ0fHx85bGxs7O7uBubr6+v9/X2BDg8PRby4uLC/ubnhUnZ+SlYpWeEwPj4uSUtLy9TU1O3tLWjCcU6ppqvs7DoUos3Ozs7JyYkQR0dHvb29YKONPLNUxTRE5uXlhbPd29ubPfFpG3f2S0tLq6urGLoq/V3VzHwCNlP8fyXL5/Pzc6FQUEVGW1tbVCDn+/t7rX8ZNn+AYdvc3FxYWKAH5YDHE2cOZHOiEIGxmllCR0iGcvYQUhhV9VxcXOQjM/zLy8ti1TmDxzr9DkgiEmxvb09+aEEAW8TojWqHBWwhFIbUeGqJn8lSIWo5t1d/oJjVZZYWK5TYQSXW6empEPErG6nto34Npc4ESYL5WFtby+VyTMEDlefs7Ozk5CQJyV7Lrq7OEY8wFGpvb/eLMPz5fJ5ywjFT/8YOQyPtbcJyGBgYkFPZ8OSjmZUqnmSjc23mg4MDzpDzFGg8Wd7j8fHxV7L+LzNnJMmrpNJyEyVaqLZCdYIRI07VZmJiglQePdp6Tn4VVnNEFLxRsKheOIOgZoiwUyeYu7u7SQBOW1ubkaLt65xZc47Ro0KqDWohWXSis1+xsICoIXmZc9DWkrpFSbWKiKimJGGJ0fEfsMM0nnucUijcZKaitDrMbYjnKiZsJkavl6wH9LY2jqmmYYxLk0SfiO4E5uizmDn8K7DT+cJubGwsm6yZmRlXiuw9xjDzWdtnlSZJ5xMjPvpZlJQzzPrsX9qVARizHjDI4aEcnmGNRbxE4dLxVp0kFg4RghtrwpDdlA62HonxRIUgWIUdE48pbiqpzqrNLp8sUiMSz1OfsQRQ/iBfdoZWWndRFfQ8bLSR1zAx5OJfKR4mdKCVS8WTf9TNbzRMNHxUMZY9y2DhVoiyMz5dXV1mjcdALY/Bv5m/MjNA5h/J0tgmKVC5ZPX09HR2dqKTiQamjWa+TZZnFC0FfzrG5GCDV4xRBoD8AWU+G0XERQcGAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180323151041" title="" data-src="/static/微信截图_20180323151041-219a9a1c72065540d35554530cad5978-a3cb3.png" data-srcset="/static/微信截图_20180323151041-219a9a1c72065540d35554530cad5978-d9b8e.png 200w,\n/static/微信截图_20180323151041-219a9a1c72065540d35554530cad5978-a3cb3.png 336w" data-sizes="(max-width: 336px) 100vw, 336px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="774255779440458100"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`Node rotateLeft(Node h){\n    Node x=h.right;\n    h.right=x.left;\n    x.left=h;\n    x.color=h.color;\n    h.color=RED;\n    x.N=h.N;\n    h.N=1+size(h.left)+size(h.right);\n    return x;\n}`, `774255779440458100`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token class-name">Node</span> <span class="token function">rotateLeft</span><span class="token punctuation">(</span><span class="token class-name">Node</span> h<span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token class-name">Node</span> x<span class="token operator">=</span>h<span class="token punctuation">.</span>right<span class="token punctuation">;</span>\n    h<span class="token punctuation">.</span>right<span class="token operator">=</span>x<span class="token punctuation">.</span>left<span class="token punctuation">;</span>\n    x<span class="token punctuation">.</span>left<span class="token operator">=</span>h<span class="token punctuation">;</span>\n    x<span class="token punctuation">.</span>color<span class="token operator">=</span>h<span class="token punctuation">.</span>color<span class="token punctuation">;</span>\n    h<span class="token punctuation">.</span>color<span class="token operator">=</span>RED<span class="token punctuation">;</span>\n    x<span class="token punctuation">.</span><span class="token class-name">N</span><span class="token operator">=</span>h<span class="token punctuation">.</span><span class="token class-name">N</span><span class="token punctuation">;</span>\n    h<span class="token punctuation">.</span><span class="token class-name">N</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">+</span><span class="token function">size</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">size</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> x<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="右旋转"><a href="#%E5%8F%B3%E6%97%8B%E8%BD%AC" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>右旋转</h3>\n<blockquote>\n<p>进行右旋转是为了转换两个连续的左红链接，这会在之后的插入过程中探讨。</p>\n</blockquote>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180323151112-9ba349f6a88a0c4fb0f0fd2fa974fd4f-16a51.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 324px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 157.40740740740742%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAIAAABoLHqZAAAACXBIWXMAAAsSAAALEgHS3X78AAADiUlEQVQ4y1XV104sSRAE0Pn/H4AXEAIBEggPQoDwcPHee+9hhsXby57p7G1m66FUU12RERmZVZP7+vr6/v7+m4yfn5/Pz8/X19e3t7dCofD8/Ozr6enp+Pj47u7u6urq3d1dPp/36f7+/vHxMfedDEgzsN3Z2dmrq6ubm5uVlZXGxsbKysrW1lbI9/f3fDKAY5H7+//x8fHh2+joaFVVVU1NjcXZ2ZlAU1NTm5ubGSxC/DIbND89PR0dHTk6PT29t7eH7Z9kXF5e7uzsnJ+fU05dIRkpODRL9eLigsLb29uXlxeyDw8P75JxcnKCzVf4yLkIZgnCcAsD2diur6/hnTs+PiaEbLS8mJmZ2d/f9yllhkQoBIzAvjnEYTAmDw4O+kmzn1Tgz5RjKjIbmM12Hdra2sKMkFt/kuHnw8MDqqxUkNwpMkfCfhwcHCDBr6rcMm9sbFjQbC2uEhb+GykzwcCkDg0N0SYEqycnJ8125ufnR5OxvLwsEMH4IYtNAswksmUuCrUhOwyTpPL6qdsAos5mWShHUXZ0KHK/h4eH29vbBwYGhFhaWuJWU1NTV1eXQGBhFSRaXZyWKvoEM7cXFhacVuTt7e25uTlZyJwRWWM9JKNoWMgOZsHW19cBOjs7gSMQpB1zaW+mFyNjDrD2Ut7+/n6nOdzS0tLT08NFdpaCU8PiPmXtKU8+M8msn2AIBuNf5JyBkedoDmZDzgjX1tZQRamFYCEhExMTvb29/MuXjF/Z4Zktd5C3Znil5vzIyAgL+vr6GKlhcKZgGPjQHMwA+kHyah4tEYK1V9yw3/scbgPbtXCCZpVwkyRmlq1PUaHSlyS9VVF3PWRtS2HHxsakyqrnZIhiTXCp4UXZ1Gqsj2TE9cIG2d3dXVZWVltbKwvhFhcXFSLL4tew7AE1+8wbJxBaw8A3NzeLaCe7kik4no7gJI8KfacBIk/XkIWY1Zz/WbZpzvEaES/teCgB9AawPJXaDRdLwjrXgdJWScEIwdyk6WTAw+gWADBXEowiC/u/sqPL467Cx+yQDu3o6NAYnBdLCIYRb51VPhdIzLSJbRE7ngFC3EqzhrOQvBCReZDnfKBEmGgGM+bYCRV2rpNxkww/48/ITs7jqqokubQkqVNdXV11dXXch4aGBi9JeXm52Zm2tjaXtL6+vqKiQv/mIkZEJdjManKExx8PtYYVl/nxnttUPPO/SSyEVf5ZkusAAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180323151112" title="" data-src="/static/微信截图_20180323151112-9ba349f6a88a0c4fb0f0fd2fa974fd4f-16a51.png" data-srcset="/static/微信截图_20180323151112-9ba349f6a88a0c4fb0f0fd2fa974fd4f-6752f.png 200w,\n/static/微信截图_20180323151112-9ba349f6a88a0c4fb0f0fd2fa974fd4f-16a51.png 324w" data-sizes="(max-width: 324px) 100vw, 324px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="2141320334918051000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`Node rotateRight(Node h){\n    Node x=h.left;\n    h.left=x.right;\n    x.right=h;\n    x.color=h.color;\n    h.color=RED;\n    x.N=h.N;\n    h.N=size(h.left)+size(h.right)+1;\n    return x;\n}`, `2141320334918051000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token class-name">Node</span> <span class="token function">rotateRight</span><span class="token punctuation">(</span><span class="token class-name">Node</span> h<span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token class-name">Node</span> x<span class="token operator">=</span>h<span class="token punctuation">.</span>left<span class="token punctuation">;</span>\n    h<span class="token punctuation">.</span>left<span class="token operator">=</span>x<span class="token punctuation">.</span>right<span class="token punctuation">;</span>\n    x<span class="token punctuation">.</span>right<span class="token operator">=</span>h<span class="token punctuation">;</span>\n    x<span class="token punctuation">.</span>color<span class="token operator">=</span>h<span class="token punctuation">.</span>color<span class="token punctuation">;</span>\n    h<span class="token punctuation">.</span>color<span class="token operator">=</span>RED<span class="token punctuation">;</span>\n    x<span class="token punctuation">.</span><span class="token class-name">N</span><span class="token operator">=</span>h<span class="token punctuation">.</span><span class="token class-name">N</span><span class="token punctuation">;</span>\n    h<span class="token punctuation">.</span><span class="token class-name">N</span><span class="token operator">=</span><span class="token function">size</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">size</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> x<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="颜色转换"><a href="#%E9%A2%9C%E8%89%B2%E8%BD%AC%E6%8D%A2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>颜色转换</h3>\n<blockquote>\n<p>一个 4-节点在红黑树中表现为一个结点的左右子节点都是红色的。分裂 4-节点除了需要将子节点的颜色由红变黑之外，同时需要将父节点的颜色由黑变红，从 2-3 树的角度来看就是讲中间结点上移到上层结点。</p>\n</blockquote>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180323161940-d78ddd1a36428d80e6e3f5c5934608a7-d7cef.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 329px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 152.27963525835867%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAIAAACjcKk8AAAACXBIWXMAAAsSAAALEgHS3X78AAADQElEQVQ4y13V504jQRAE4H3/Z0FC/EEiCYl05ByPnOHIPhN8ttF93lr2QkuMxjNd3dXVPUvRarV+lfZRms3z8/PR0dH7+/vFxcXj46N1bm5uYmJifX39W2kvLy9uORf+WqX5/fb25qfN5eXlycnJ5OTk2dkZ8Nra2tTU1PT09NLS0vj4uJUntwpsze9Go3FwcAA2PDw8Ozs7MjIyNja2s7Nzd3d3c3Nzf3//o7T/we12e29vb2hoSIbDw8OfpfGGdCLE8fHx5+cnTGhai3ZpnU5HPKWCqbnb7aYKZu/qe2lPT08wOe9lhpQWQJ0p/vT01M94qOLh4UHZQry+vpLAVbPZzG0hAPWiNld7eQS6urriZL2+vra6AuPs0D68CvEUJjbCkvBbWFjY3Nzc3t4Whc4bGxtW+7ip3AYSsCcYjPCyKYmq1OYhFnnVub+/T8iAz8/PufGv+qzmqMcEEzI6o2dtlGbjvPllkbqndt0nIbElCc1xttckmY0E5g4JyVmCpO1lTk6C3d7eIkYw5JE0mOGpECdhkfzvX1bUs23DScERScHKNmQYiajOjHQ9wr3MNVIngdHzAOCJND8/jzlGy8vLBhZ/+T/+sj8TFp0Q1g8Ymemc/jnEyFPBnGdk+gdsBqIcItZImn4KhBQKSrAK57ACI9wpLfzzwiQhNT+aqXxxcdFj9KqN0MrKCnbVw6iR9SfBT1L39/dbqa1tVNjd3dXCra0tooilHRXtsA2SqgaO4DyUCuwkjNKhelO0vgyYPJLgGbXhKXdemr2C8wSD79HOd0vZGEKiRDmvf2BgoK+vb3R01FQQLLTpFArVeGYHoBNC6pYxxNaHjkI0g9R8CRSJWt5j1SpIv1Nwnriu8KOziDpso2w5VZ4Hwz/5e7PN1TX1M9VbpSHCW+UUNi2JmO+ETVUzMGRU4eFjAJnZMg8kSIfsIfPObfKWqvccq5WsW4Jt/YZVVM9CUIVI+qGxeKZU8yQbIii40gJ9Wi/NeK2urlqJL2JBlTw3SOFJPTg4mJr9l/GwZmZmTCXBVeQwzO17Q4KGT7l5zJBpDKQ7bfdV0SptQ4TOfLqlfZZW1VyXnbfiOl+MSOo2H4BYZjG6/AY08W/o/lDXAAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180323161940" title="" data-src="/static/微信截图_20180323161940-d78ddd1a36428d80e6e3f5c5934608a7-d7cef.png" data-srcset="/static/微信截图_20180323161940-d78ddd1a36428d80e6e3f5c5934608a7-00827.png 200w,\n/static/微信截图_20180323161940-d78ddd1a36428d80e6e3f5c5934608a7-d7cef.png 329w" data-sizes="(max-width: 329px) 100vw, 329px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="27946648169354970000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`void filpColors(Node h){\n    h.color=RED;\n    h.left.color=BLACK;\n    h.right.color=BlACK;\n}`, `27946648169354970000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">void</span> <span class="token function">filpColors</span><span class="token punctuation">(</span><span class="token class-name">Node</span> h<span class="token punctuation">)</span><span class="token punctuation">{</span>\n    h<span class="token punctuation">.</span>color<span class="token operator">=</span>RED<span class="token punctuation">;</span>\n    h<span class="token punctuation">.</span>left<span class="token punctuation">.</span>color<span class="token operator">=</span>BLACK<span class="token punctuation">;</span>\n    h<span class="token punctuation">.</span>right<span class="token punctuation">.</span>color<span class="token operator">=</span><span class="token class-name">BlACK</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="插入"><a href="#%E6%8F%92%E5%85%A5" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>插入</h3>\n<blockquote>\n<p>先将一个节点按二叉查找树的方法插入到正确位置，然后再进行如下的颜色操作：</p>\n</blockquote>\n<ol>\n<li>如果右子节点是红色的而左子节点是黑色的，进行左旋转；</li>\n<li>如果左子节点是红色的且它的左子节点也是红色的，进行右旋转；</li>\n<li>如果左右子节点都是红色的，进行颜色转换。</li>\n</ol>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180323162936-1fdfdf499793346524a2649d6587d0c3-5c070.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 389px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 85.08997429305913%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsSAAALEgHS3X78AAAB7ElEQVQ4y12T53LCQAyE/f4vBfyDoffeOwZssKlxTD7fkgsTzeC500naXUk4X8aez6c9PB6PKIoul8v5fOZ6u93w8IQzjuNvY5Exh5NN5q4HzqPRaL1ev14vW5en2Nj3rzmEUvizPIf5fN7pdPb7/f1+V/S/ZH0dEbter8SJcBiGYB6PR/xBEJxOJ/yCsplv2vyk06o6HA5WM5lcfd/njPNl7C9ZlGR4iQaNh8lk0u12S6USLLjiVAld38lgQli0QSNCsM1mM5VKEbparVqtVq1WC431ej0AwAfMgdV2u93tdsVicTwebzYbosHBWalUUE4QgJ7nUZ1aOMvlMkqh6RBHV6fTaTqdpsOqBQK18VOLsxWPEA4EL5dLApJuA5XJZHK5HDqhwJwWi4X/YagAX7LVYI0wQc7n80hyXRdWUGo0GuQDq9lqc2gKyDj5EklyMmcIkCmpeAFBHvh4OMO5Xq8DxRNjp3PtdrtarUIhoe0aUz1MmWoh+VBAJ20jX1ugUYuOIyaBMYLEDUDhYHSr3+/zatdehZI5A0WOZ4w0vtpHIsCnC9oNRAoN05IlyMwWDTQJesjmnM1mESZ/oVDATwnAeUUFE4EOApNug8Z4+QMyPZ6HwyEdYr3YJHaTzSF5MBhw1bbNZjPOJIP/A9iJt4hetL9OAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180323162936" title="" data-src="/static/微信截图_20180323162936-1fdfdf499793346524a2649d6587d0c3-5c070.png" data-srcset="/static/微信截图_20180323162936-1fdfdf499793346524a2649d6587d0c3-fd26e.png 200w,\n/static/微信截图_20180323162936-1fdfdf499793346524a2649d6587d0c3-5c070.png 389w" data-sizes="(max-width: 389px) 100vw, 389px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="62055583686532170000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class RedBlackBST<Key extends Comparable<Key>,Value>{\n    private Node root;\n    private class Node;\n    private boolean isRed(Node h);\n    private Node rotateLeft(Node h);\n    private Node rotateRight(Node h);\n    private Node filpColors(Node h);\n\n    // 见二叉查找树中的方法\n    private int size();\n    public void put(Key key,Value val){\n        root=put(root,key,val);\n        root.color=BLACK;\n    }\n    private Node put(Node h,Key key,Value val){\n        if(h==null) return new Node(key,val,1,RED);\n        int cmp=key.compareTo(h.key);\n        if(cmp<0) h.left=put(h.left,key,val);\n        else if(cmp>0) h.right=put(h.right,key,val);\n        else h.val=val;\n        if(isRed(h.right)&&!isRed(h.left)) h=rotateLeft(h);\n        if(isRed(h.left)&&isRed(h.left.left)) h=rotateRight(h);\n        if(isRed(h.right)&&isRed(h.left)) h=filpColors(h);\n        h.N=size(h.left)+size(h.right)+1;\n        return h;\n    }\n}`, `62055583686532170000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RedBlackBST</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Key</span> <span class="token keyword">extends</span> <span class="token class-name">Comparable</span><span class="token punctuation">&lt;</span><span class="token class-name">Key</span><span class="token punctuation">></span><span class="token punctuation">,</span><span class="token class-name">Value</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>\n    <span class="token keyword">private</span> <span class="token class-name">Node</span> root<span class="token punctuation">;</span>\n    <span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">Node</span><span class="token punctuation">;</span>\n    <span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">isRed</span><span class="token punctuation">(</span><span class="token class-name">Node</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">private</span> <span class="token class-name">Node</span> <span class="token function">rotateLeft</span><span class="token punctuation">(</span><span class="token class-name">Node</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">private</span> <span class="token class-name">Node</span> <span class="token function">rotateRight</span><span class="token punctuation">(</span><span class="token class-name">Node</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">private</span> <span class="token class-name">Node</span> <span class="token function">filpColors</span><span class="token punctuation">(</span><span class="token class-name">Node</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token comment">// 见二叉查找树中的方法</span>\n    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Key</span> key<span class="token punctuation">,</span><span class="token class-name">Value</span> val<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        root<span class="token operator">=</span><span class="token function">put</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>key<span class="token punctuation">,</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        root<span class="token punctuation">.</span>color<span class="token operator">=</span>BLACK<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">private</span> <span class="token class-name">Node</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Node</span> h<span class="token punctuation">,</span><span class="token class-name">Key</span> key<span class="token punctuation">,</span><span class="token class-name">Value</span> val<span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>h<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>val<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>RED<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">int</span> cmp<span class="token operator">=</span>key<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>cmp<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> h<span class="token punctuation">.</span>left<span class="token operator">=</span><span class="token function">put</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span>left<span class="token punctuation">,</span>key<span class="token punctuation">,</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>cmp<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span> h<span class="token punctuation">.</span>right<span class="token operator">=</span><span class="token function">put</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span>right<span class="token punctuation">,</span>key<span class="token punctuation">,</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">else</span> h<span class="token punctuation">.</span>val<span class="token operator">=</span>val<span class="token punctuation">;</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isRed</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span><span class="token function">isRed</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">)</span> h<span class="token operator">=</span><span class="token function">rotateLeft</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isRed</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token function">isRed</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span>left<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">)</span> h<span class="token operator">=</span><span class="token function">rotateRight</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isRed</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token function">isRed</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">)</span> h<span class="token operator">=</span><span class="token function">filpColors</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        h<span class="token punctuation">.</span><span class="token class-name">N</span><span class="token operator">=</span><span class="token function">size</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">size</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>\n        <span class="token keyword">return</span> h<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="删除最小键"><a href="#%E5%88%A0%E9%99%A4%E6%9C%80%E5%B0%8F%E9%94%AE" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>删除最小键</h3>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180323172334-9cbc5a78f26232cdc46942700af5e4ea-a3cb3.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 336px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 158.03571428571428%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAgCAIAAACdAM/hAAAACXBIWXMAAAsSAAALEgHS3X78AAADMklEQVQ4y13V51IjMRAE4H3/l6KAgiKaZILJGUzGNjjAwX27bdbczQ9ZK02PenpGcjEajYbDYb/fN358fAwrG1Vm8f39fTAY1CvDf624vr6enZ2dnp5eXFx8eHhIoLe3N7Ber9fpdIw+E4hlkrHw06uMn0NeX1+vrq7iV4PjzQaV9X+s+Pz8/FOZyff39+npKSLdbjexnZkQz8/PLy8v1gNO9KJOQErtdrvVal1eXhph1tbW5ubmwNbX1yVl3NjY8BkKZc5+wEhlXF5ebjabmM/MzNzc3DgnBx4eHop4cXGB1+PjYziPwTnWGG8kUYDBuVtZSMYzufxD++vrS+z9/X2Zh0stEv7B2727uws+u0UEhNnd3V1ZWXl6evKZ8GRHNeKhIyla9H/Z+GQw+Zyfn6+urvI4OzvDf3t7u9Fo4G8F8uTkZG9vj4PWiGwlGDFL9g4ODggGg8Xt7a0tLHCh89bWFtrABDchiq2i1j1tlPZKeWvBopCJQmQluwW2KKGnN6amphyyubkpC4sKhmHdrf/1ZklbsHZl5JEqtiQ1EVQiqhrxgjd2KpuUqr4xcpYtGDAPJQhbJO1iweH4+JiurlCZc0oFrKV2dnaAj46OyAPPW/GTPwo0JxXBiKrnypPTD4FxpacN5UW+WRm1nUYUo7ipi5NKwdKVqXNoM/j7+/s0fKJksVUZNxHHdXZyzo8Y6ccUxmfmJj6jWV2/MmcnACAcPciegtdOqapjENZC6bDyVjmTB0wyhLedq+cOkyencZUIB7TTgpgXCru0tBQ8MSPsa2XC87CVVCOyTyrY5VZQWFelyDzyymQMW3hSazun8QTLbklbwi5zrnH65vfTGavbK5pN3jCNmQKmjeq+TUv/fkaMuWdxKDuMgOoubVFzt+qnI+9+GjsrCToB80Db04u/xtKYaqZ7Cen1JERETs/VN2zykqS9TcAAaM6bkOoJYKJguTDcfl/P8evp8Pr1TrjM67+IPKajH4sK5T8GPV0MvS5/bHXY/Py88mgGXBYWFtAhqiLvVaaieXaK9CYY2aVqTLZMRK4CeVUCRr5R2TjnMIxgxtDOX1cIm+R6ZWRWMvkLg7bozwj7Fj4AAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180323172334" title="" data-src="/static/微信截图_20180323172334-9cbc5a78f26232cdc46942700af5e4ea-a3cb3.png" data-srcset="/static/微信截图_20180323172334-9cbc5a78f26232cdc46942700af5e4ea-d9b8e.png 200w,\n/static/微信截图_20180323172334-9cbc5a78f26232cdc46942700af5e4ea-a3cb3.png 336w" data-sizes="(max-width: 336px) 100vw, 336px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<blockquote>\n<p>如果最小键在一个 2- 节点中，那么删除该键会留下一个空链接，就破坏了平衡性，因此要确保最小键不在 2- 节点中。将 2- 节点转换成 3- 节点或者 4- 节点有两种方法，一种是向上层节点拿一个 key，一种是向兄弟节点拿一个 key。如果上层节点是 2- 节点，那么就没办法从上层节点拿 key 了，因此要保证删除路径上的所有节点都不是 2- 节点。在向下删除的过程中，保证以下情况之一成立：</p>\n</blockquote>\n<ol>\n<li>如果当前节点的左子节点不是 2- 节点，完成；</li>\n<li>如果当前节点的左子节点是 2- 节点而它的兄弟节点不是 2- 节点，向兄弟节点拿一个 key 过来；</li>\n<li>如果当前节点的左子节点和它的兄弟节点都是 2- 节点，将左子节点、父节点中的最小键和最近的兄弟节点合并为一个 4- 节点。</li>\n</ol>\n<h2 id="总结"><a href="#%E6%80%BB%E7%BB%93" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>总结</h2>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/微信截图_20180323174959-56cb4c0a8bbab0efaac7f9c1d0fb6e5c-d55d3.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 40.322580645161295%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsSAAALEgHS3X78AAABM0lEQVQY0yWQS4+CQBCE+f9/x6jsyQtGggnEFyAPWUEDuIIC8goc9nOow2R6qqqnuqW6rl+v1zAMTdO0bTuO4/1+v16v5/NZ07TNZsO5Xq9t2348HlBJkvwJUEp5nnueF4YhRBzHy+VyPp/LsrxYLHA6jjObzX4EoFRVtSxrv98bhhFFkdT3fRAEiHByPx6PcBC8pGnKD7quHw4HgmDwBFarlaIoz+dTyrKMkO/3Gx13wnD5fD65ACXsFOpXgL6JALJvbL5yXXe323FncpxlWXZdRxDaIaqqalKTJRagKZv6xibh5XIhPB78vOJneVBkwzYl4v/b7UY5jfM1I2KThIHmW5bfCeDkpKQdtqIo0DAw7VDSjheJNtvtln2wGDhLYNJNQ1Kapkmu0+nEgL7vI+YkxT8Lqaiu0WjJ3wAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="     20180323174959" title="" data-src="/static/微信截图_20180323174959-56cb4c0a8bbab0efaac7f9c1d0fb6e5c-fee1c.png" data-srcset="/static/微信截图_20180323174959-56cb4c0a8bbab0efaac7f9c1d0fb6e5c-a67b7.png 200w,\n/static/微信截图_20180323174959-56cb4c0a8bbab0efaac7f9c1d0fb6e5c-0b187.png 400w,\n/static/微信截图_20180323174959-56cb4c0a8bbab0efaac7f9c1d0fb6e5c-fee1c.png 800w,\n/static/微信截图_20180323174959-56cb4c0a8bbab0efaac7f9c1d0fb6e5c-d55d3.png 806w" data-sizes="(max-width: 800px) 100vw, 800px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<h2 id="散列表"><a href="#%E6%95%A3%E5%88%97%E8%A1%A8" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>散列表</h2>\n<h3 id="特点-5"><a href="#%E7%89%B9%E7%82%B9-5" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>特点</h3>\n<blockquote>\n<p>散列表类似于数组，可以把散列表的散列值看成数组的索引值。访问散列表和访问数组元素一样快速，它可以在常数时间内实现查找和插入的符号表。由于无法通过散列值知道键的大小关系，因此散列表无法实现有序性操作。</p>\n</blockquote>\n<h3 id="散列函数"><a href="#%E6%95%A3%E5%88%97%E5%87%BD%E6%95%B0" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>散列函数</h3>\n<blockquote>\n<ul>\n<li>对于一个大小为 M 的散列表，散列函数能够把任意键转换为 [0, M-1] 内的正整数，该正整数即为 hash 值。</li>\n</ul>\n</blockquote>\n<ul>\n<li>\n<p>散列表有冲突的存在，也就是两个不同的键可能有相同的 hash 值。</p>\n</li>\n<li>\n<p>散列函数应该满足以下三个条件：</p>\n</li>\n<li>\n<p>一致性：相等的键应当有相等的 hash 值，两个键相等表示调用 equals() 返回的值相等。</p>\n</li>\n<li>\n<p>高效性：计算应当简便，有必要的话可以把 hash 值缓存起来，在调用 hash 函数时直接返回。</p>\n</li>\n<li>\n<p>均匀性：所有键的 hash 值应当均匀地分布到 [0, M-1] 之间，这个条件至关重要，直接影响到散列表的性能。</p>\n</li>\n</ul>\n<blockquote>\n<ul>\n<li>可以将整数散列到 [0, M-1] 之间，例如一个正整数 k，计算 k%M 既可得到一个 [0, M-1] 之间的 hash 值。注意 M 必须是一个素数，否则无法利用键包含的所有信息。例如 M 为 10k，那么只能利用键的后 k 位。</li>\n</ul>\n</blockquote>\n<ul>\n<li>\n<p>对于其它数，可以将其转换成整数的形式，然后利用除留余数法。例如对于浮点数，可以将其表示成二进制形式，然后使用二进制形式的整数值进行除留余数法。</p>\n</li>\n<li>\n<p>对于有多部分组合的键，每部分都需要计算 hash 值，并且最后合并时需要让每部分 hash 值都具有同等重要的地位。可以将该键看成 R 进制的整数，键中每部分都具有不同的权值。</p>\n</li>\n<li>\n<p>例如，字符串的散列函数实现如下:</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="11412391016460677000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`int hash = 0;\nfor(int i = 0; i < s.length(); i++)\n  hash = (R * hash + s.charAt(i)) % M;`, `11412391016460677000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">int</span> hash <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>\n  hash <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">R</span> <span class="token operator">*</span> hash <span class="token operator">+</span> s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token class-name">M</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p>再比如，拥有多个成员的自定义类的哈希函数如下,R 的值不是很重要，通常取 31。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="51466500794030260000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`int hash = (((day * R + month) % M) * R + year) % M;`, `51466500794030260000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">int</span> hash <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>day <span class="token operator">*</span> <span class="token class-name">R</span> <span class="token operator">+</span> month<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token class-name">M</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">R</span> <span class="token operator">+</span> year<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token class-name">M</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n</li>\n<li>\n<p>Java 中的 hashCode() 实现了 hash 函数，但是默认使用对象的内存地址值。在使用 hashCode() 函数时，应当结合除留余数法来使用。因为内存地址是 32 位整数，我们只需要 31 位的非负整数，因此应当屏蔽符号位之后再使用除留余数法。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="27683700637299814000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`int hash = (x.hashCode() & 0x7fffffff) % M;`, `27683700637299814000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">int</span> hash <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0x7fffffff</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token class-name">M</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n</li>\n<li>\n<p>使用 Java 自带的 HashMap 等自带的哈希表实现时，只需要去实现 Key 类型的 hashCode() 函数即可。Java 规定 hashCode() 能够将键均匀分布于所有的 32 位整数，Java 中的 String、Integer 等对象的 hashCode() 都能实现这一点。以下展示了自定义类型如何实现 hashCode()。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="36989460578179060000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class Transaction{\n  private final String who;\n  private final Date when;\n  private final double amount;\n\n  public int hashCode(){\n      int hash = 17;\n      hash = 31 * hash + who.hashCode();\n      hash = 31 * hash + when.hashCode();\n      hash = 31 * hash + ((Double) amount).hashCode();\n      return hash;\n  }\n}`, `36989460578179060000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="java"\n              >\n                <span class="gatsby-code-button-language">java</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Transaction</span><span class="token punctuation">{</span>\n  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> who<span class="token punctuation">;</span>\n  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Date</span> when<span class="token punctuation">;</span>\n  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">double</span> amount<span class="token punctuation">;</span>\n\n  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n      <span class="token keyword">int</span> hash <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span>\n      hash <span class="token operator">=</span> <span class="token number">31</span> <span class="token operator">*</span> hash <span class="token operator">+</span> who<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      hash <span class="token operator">=</span> <span class="token number">31</span> <span class="token operator">*</span> hash <span class="token operator">+</span> when<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      hash <span class="token operator">=</span> <span class="token number">31</span> <span class="token operator">*</span> hash <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Double</span><span class="token punctuation">)</span> amount<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">return</span> hash<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n</ul>\n<h3 id="基于拉链法的散列表"><a href="#%E5%9F%BA%E4%BA%8E%E6%8B%89%E9%93%BE%E6%B3%95%E7%9A%84%E6%95%A3%E5%88%97%E8%A1%A8" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>基于拉链法的散列表</h3>',
excerpt:"无序链表的顺序查找 特点 在含有 N 对键值的基于（无序）链表的符号表中，未命中的查找和插入操作都需要 N 次比较。命中的查找在最坏情况下需要 N 次比较。特别的，向一个空表中插入 N 个不同的键需要 次比较 实现 有序数组的二分查找 特点 在 N…",frontmatter:{date:"2018-03-20 13:58:04",path:"/find-java/",tags:"面试, 算法, 读书笔记",title:"查找算法java实现",draft:null}}},pathContext:{mainPostPath:"/sort-java/",nextPostPath:"/offer-connexity/",prePostPath:"/find-java/"}}}});