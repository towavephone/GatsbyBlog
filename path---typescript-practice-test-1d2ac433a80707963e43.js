webpackJsonp([0xdad5500dfe7],{1646:function(n,s){n.exports={data:{file:{childImageSharp:{sizes:{base64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsSAAALEgHS3X78AAAHlElEQVRIx12We2xT5xXAbcI2Vmn7o1I1uhVYRxL8tuPn9bXv0+/4/YgdOyYkkATCCEEYsqVNC2wCIYQWShmUBFh4hMAWECot0BUtlI4yAS1oKqJQXimsDBgTU8codnLO7r0uUPpJn87Rp+/8vvOdc75zr8xmZmTieI1NykU5yxOfxDncz3NUjAlyDXMjXGMhys+cG+FzGQ8VU4t7XuV8z8m+GUkrJclSqVReYJ0ZWQ8Tl2AdTPhnq9ns2QKd+crDZiHha8NsYCE21HZiXphpb3sxxTf99Tdsw51ldHqFaLOXXyzvYqOyZ0YPk5soylfouuUbvHOxh56JbiqJfi4/FnE1lxKetrGUZ954nbcdU/752ORpxWVsc6mZjPxctFtApeVtra1lmIPwTxClgeCqvGTsX/WWOEbtyTGWSoGbToOPzUHQ1QghVxOEhRniZ5U8XB4TzvTdgj1ZJdq2OOrkGhVRBnrYFum6TiK0l2fr0emMlVxcBhlnEniqDjlBuqg0CnD0MPWiDrwzhR4u+5B3x3WiLUNHJjxzZYvR8ZKTCP+Xo1JoM/nBYvSB1egHuyUIrCOBPj4LtD0KlD2K4h7SGip62aygxzaK9rHA3Aqt2vw0MRYjnyJtYaQdsXG9hgWFwgmVlXZUKUjUqmm0CgfwhA80Kgr1Wg40Sue4SuFEnZq+YjMbJ0kh0zmfemjQ0j2EJYh2a23RVOODIBvHmCsBUaoWLDoWKIsP50bTApxC5QwH1Ghp0Gk4MBk8aDLQEslooCc88VClsK+zGANI2mqLer0XFuea8PSuN+DM7o3QWyhAR7IBfj+vDbyOICS9aSjkZo8nvSlUKuxXLDUOKdN6LSl/AlRUE+vNAnD50l8XeTIEPiYEzXYG5mlNeGz7BvjPpY/g5snDcHxwE+zs7oCh1zvHCrNm48u/ML8j2muVQblBZ3t6ZY2KXKtQcDiwdk1xx9rV0BlqghEuD4fNUTy1Zwhw7Cbioxu461fdsOgFDa5pbh3zu6NifE9f+XCPlGHS5nuaFI3K8brJ4EUHES4WFiyEP2/dCPc2vYH/3NIHePcywP1LWLp3Ec4tWQa3FvbAu7294yqVA801rju5utYfiQyKDD4DnC8GWEhMafJPtBALxuHjo3+C8bufIn59DfHBFcDiDcQvzyF+/iEsbWuDadNMaDW5H7nY6Iyyh165zfLNtdUqIqLTsEJSQqBVUTD1JQPqdRT8sf9NuH7kMHy0fRg+O3EUzp96H/Zs2SBklxFKxwFmowtdTCIoPQx7oKLzl32PPTRPVSudDwQgCrUGL0+twdzsDjjSdwD2J1fh/q7N0N+1EtykB178qVY4lAahRktWkw95JrG4DAxPvHU3Wwb+rlcsHfK0WNxCoMdUCgdUaxnMBPKw7dVe2LyhDw4MboORA4NQOd2CaiUFaqWjZJGAyQGRUeubP8FqElqZspquEBeUM2zrnEQUa3R8USVcp2qGDZV6ErqXL4PfrlwFhSU9cPL4MejfshOsZq90sCg5KvHZ5MnPfa+cmFrxukRFuRZNcYqIoNngHheeFmiF11ClIDBdPwfqG9qhc1E3rF25GnrX90M204JqBfWItPrP8lTqa7vFpSw3GJ9cZjI4pW5TXaWezpKxh4Q5gEY9LwApVOtZMApxVWhd2DKvC7K5FjTUsFCj45Ah4yXaHuz1MBlgyHCb1HXISIXMTcekOJqN1h/72Mx92h5DwuwHjeChWseBQsNgJJ6H944eB5oNgaLajnaL/07E24wuKr7Cz+XuuenUsMioCxYmyHhnSPLQTYVVYVfjI46Mo80WBLMgLY4E1FhCOENBAsfHQG/0juuNPqGguU8ywXas5XNbg6783wJ8w781GtUPJc+irkap/Ufdje0JXytStnDJbA2D1Z4EKxEHsyUMRmsIdcZaNFpCYBYqwWQLPhD3Btn6t2Pe5uF0cD7Sdr/xmSab8racFaDooOvuk0wDEs40EFQGbVQGbEKXJoTPgZ3JoJGIgULvR6M1jE67rzvpae5ojC7GEJ9rfgILc7lC3NV0T6flTtjoPLK+VuD8rcD65gDtaQInPxOtzoxQRrXgD8/BdW/+YezYByfxvfdHvnxl+ZLKCDfzUMIze60Ey+brJukrqcjA1u3tBw8dfZiZuRQFaNFory/WEPUlE5kFK5WDQKRtbFPfUOnChUvFL27cwKuj/8CBHXv2iQw/k/KGuNwyCYiIkhw+sO/569eu7b1+ffR/H5z4BAcG38X1m/biyjX9ODR8GC9dHsXLV0fx5KlzePDIyFd7ht9ZJZhJrcvLhV/wMuUPljQWtC6Z+FjfuWPHlPMXLq64Onpz3d8/Pf9WX//OW2vWbITBof3n3tqya9fbh/7SvW1gZ9Xj/V1dr8kf614qIZONjBwrezi8Ty54K5d9ZzTmF+xe1LnioaD+4Nvrn4/ermif3yHp8UCDLMCky7Z+n192+/YdST9z5mPZ7t1D8ouXv6gQ4S9WTplks7mut8xZijxbKz2vvi2D39/cPyB/HC5xOm2czPvd35F8rkGCS0+I4WXV1QbJaMq06XqbNXCQJIILpH8hOic3GghZMpl62qG/Nf4PRzaQ862MzO4AAAAASUVORK5CYII=",aspectRatio:.6666666666666666,src:"/static/avatar-dc7bc85837bf005ae32d2a37dfdfa8a2-25c91.png",srcSet:"/static/avatar-dc7bc85837bf005ae32d2a37dfdfa8a2-8a97b.png 200w,\n/static/avatar-dc7bc85837bf005ae32d2a37dfdfa8a2-0fdf3.png 400w,\n/static/avatar-dc7bc85837bf005ae32d2a37dfdfa8a2-25c91.png 600w",srcWebp:"/static/avatar-dc7bc85837bf005ae32d2a37dfdfa8a2-216f6.webp",srcSetWebp:"/static/avatar-dc7bc85837bf005ae32d2a37dfdfa8a2-5d70e.webp 200w,\n/static/avatar-dc7bc85837bf005ae32d2a37dfdfa8a2-d1677.webp 400w,\n/static/avatar-dc7bc85837bf005ae32d2a37dfdfa8a2-216f6.webp 600w",sizes:"(max-width: 600px) 100vw, 600px"}}},site:{siteMetadata:{title:"女王控的博客",description:'前端工程师，黑猫女王控，欢迎勾搭，技术相关<a href="https://github.com/towavephone" target="_blank">@towavephone</a>，QQ闲聊<a href="tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=634407147&website=www.oicqzone.com">@towave</a>，bili关注<a href="https://space.bilibili.com/11507708#/" target="_blank">@towave</a>',siteUrl:"https://blog.towavephone.com"}},mainPost:{html:'<h1 id="测试一"><a href="#%E6%B5%8B%E8%AF%95%E4%B8%80" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试一</h1>\n<p>代码为什么会提示错误，应该如何解决这个问题？</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="93677467497390360000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type User = {\n  id: number;\n  kind: string;\n};\n\nfunction makeCustomer<T extends User>(u: T): T {\n  // Error（TS 编译器版本：v4.4.2）\n  // Type \'{ id: number; kind: string; }\' is not assignable to type \'T\'.\n  // \'{ id: number; kind: string; }\' is assignable to the constraint of type \'T\',\n  // but \'T\' could be instantiated with a different subtype of constraint \'User\'.\n  return {\n    id: u.id,\n    kind: \'customer\'\n  };\n}`, `93677467497390360000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>\n  id<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  kind<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> makeCustomer<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">User</span><span class="token operator">></span><span class="token punctuation">(</span>u<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>\n  <span class="token comment">// Error（TS 编译器版本：v4.4.2）</span>\n  <span class="token comment">// Type \'{ id: number; kind: string; }\' is not assignable to type \'T\'.</span>\n  <span class="token comment">// \'{ id: number; kind: string; }\' is assignable to the constraint of type \'T\',</span>\n  <span class="token comment">// but \'T\' could be instantiated with a different subtype of constraint \'User\'.</span>\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    id<span class="token punctuation">:</span> u<span class="token punctuation">.</span>id<span class="token punctuation">,</span>\n    kind<span class="token punctuation">:</span> <span class="token string">\'customer\'</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<p>直接利用自动推导</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="93067894745409160000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type User = {\n  id: number;\n  kind: string;\n};\n\nfunction makeCustomer<T extends User>(u: T) {\n  // Error（TS 编译器版本：v4.4.2）\n  // Type \'{ id: number; kind: string; }\' is not assignable to type \'T\'.\n  // \'{ id: number; kind: string; }\' is assignable to the constraint of type \'T\',\n  // but \'T\' could be instantiated with a different subtype of constraint \'User\'.\n  return {\n    id: u.id,\n    kind: \'customer\'\n  };\n}`, `93067894745409160000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>\n  id<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  kind<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> makeCustomer<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">User</span><span class="token operator">></span><span class="token punctuation">(</span>u<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// Error（TS 编译器版本：v4.4.2）</span>\n  <span class="token comment">// Type \'{ id: number; kind: string; }\' is not assignable to type \'T\'.</span>\n  <span class="token comment">// \'{ id: number; kind: string; }\' is assignable to the constraint of type \'T\',</span>\n  <span class="token comment">// but \'T\' could be instantiated with a different subtype of constraint \'User\'.</span>\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    id<span class="token punctuation">:</span> u<span class="token punctuation">.</span>id<span class="token punctuation">,</span>\n    kind<span class="token punctuation">:</span> <span class="token string">\'customer\'</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答一"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%80" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答一</h2>\n<p>T 类型兼容 User 类型</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="9979233528308074000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type User = {\n  id: number;\n  kind: string;\n};\n\nfunction makeCustomer<T extends User>(u: T): T {\n  // Error（TS 编译器版本：v4.4.2）\n  // Type \'{ id: number; kind: string; }\' is not assignable to type \'T\'.\n  // \'{ id: number; kind: string; }\' is assignable to the constraint of type \'T\',\n  // but \'T\' could be instantiated with a different subtype of constraint \'User\'.\n  return {\n    ...u, // 返回的类型是 User，而非 T，T 是 User 的子类型，约束条件更多，子类可以赋值给父类，反过来不行\n    id: u.id,\n    kind: \'customer\'\n  };\n}`, `9979233528308074000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>\n  id<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  kind<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> makeCustomer<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">User</span><span class="token operator">></span><span class="token punctuation">(</span>u<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>\n  <span class="token comment">// Error（TS 编译器版本：v4.4.2）</span>\n  <span class="token comment">// Type \'{ id: number; kind: string; }\' is not assignable to type \'T\'.</span>\n  <span class="token comment">// \'{ id: number; kind: string; }\' is assignable to the constraint of type \'T\',</span>\n  <span class="token comment">// but \'T\' could be instantiated with a different subtype of constraint \'User\'.</span>\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    <span class="token operator">...</span>u<span class="token punctuation">,</span> <span class="token comment">// 返回的类型是 User，而非 T，T 是 User 的子类型，约束条件更多，子类可以赋值给父类，反过来不行</span>\n    id<span class="token punctuation">:</span> u<span class="token punctuation">.</span>id<span class="token punctuation">,</span>\n    kind<span class="token punctuation">:</span> <span class="token string">\'customer\'</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答二"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%BA%8C" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答二</h2>\n<p>返回值限制为 User 类型</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="68858528348208890000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type User = {\n  id: number;\n  kind: string;\n};\n\nfunction makeCustomer<T extends User>(u: T): ReturnMake<T, User> {\n  // Error（TS 编译器版本：v4.4.2）\n  // Type \'{ id: number; kind: string; }\' is not assignable to type \'T\'.\n  // \'{ id: number; kind: string; }\' is assignable to the constraint of type \'T\',\n  // but \'T\' could be instantiated with a different subtype of constraint \'User\'.\n  return {\n    id: u.id,\n    kind: &quot;customer&quot;,\n  };\n}\n\ntype ReturnMake<T extends User, U> = {\n  [K in keyof U as K extends keyof T ? K : never]: U[K];\n};`, `68858528348208890000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>\n  id<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  kind<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> makeCustomer<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">User</span><span class="token operator">></span><span class="token punctuation">(</span>u<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> ReturnMake<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> User<span class="token operator">></span> <span class="token punctuation">{</span>\n  <span class="token comment">// Error（TS 编译器版本：v4.4.2）</span>\n  <span class="token comment">// Type \'{ id: number; kind: string; }\' is not assignable to type \'T\'.</span>\n  <span class="token comment">// \'{ id: number; kind: string; }\' is assignable to the constraint of type \'T\',</span>\n  <span class="token comment">// but \'T\' could be instantiated with a different subtype of constraint \'User\'.</span>\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    id<span class="token punctuation">:</span> u<span class="token punctuation">.</span>id<span class="token punctuation">,</span>\n    kind<span class="token punctuation">:</span> <span class="token string">"customer"</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">type</span> ReturnMake<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">User</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">U</span> <span class="token keyword">as</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token constant">T</span> <span class="token operator">?</span> <span class="token constant">K</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">U</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答三"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%89" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答三</h2>\n<p>断言处理</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="4239039548802070500"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type User = {\n  id: number;\n  kind: string;\n};\n\nfunction makeCustomer<T extends User>(u: T): T {\n  // Error（TS 编译器版本：v4.4.2）\n  // Type \'{ id: number; kind: string; }\' is not assignable to type \'T\'.\n  // \'{ id: number; kind: string; }\' is assignable to the constraint of type \'T\',\n  // but \'T\' could be instantiated with a different subtype of constraint \'User\'.\n  return {\n    id: u.id,\n    kind: \'customer\'\n  } as T;\n}`, `4239039548802070500`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>\n  id<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  kind<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> makeCustomer<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">User</span><span class="token operator">></span><span class="token punctuation">(</span>u<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>\n  <span class="token comment">// Error（TS 编译器版本：v4.4.2）</span>\n  <span class="token comment">// Type \'{ id: number; kind: string; }\' is not assignable to type \'T\'.</span>\n  <span class="token comment">// \'{ id: number; kind: string; }\' is assignable to the constraint of type \'T\',</span>\n  <span class="token comment">// but \'T\' could be instantiated with a different subtype of constraint \'User\'.</span>\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    id<span class="token punctuation">:</span> u<span class="token punctuation">.</span>id<span class="token punctuation">,</span>\n    kind<span class="token punctuation">:</span> <span class="token string">\'customer\'</span>\n  <span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token constant">T</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答四"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E5%9B%9B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答四</h2>\n<p>重定义类型</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="30597578561643246000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type User = {\n  id: number;\n  kind: string;\n};\n\nfunction makeCustomer<T extends User>(u: T): User {\n  // Error（TS 编译器版本：v4.4.2）\n  // Type \'{ id: number; kind: string; }\' is not assignable to type \'T\'.\n  // \'{ id: number; kind: string; }\' is assignable to the constraint of type \'T\',\n  // but \'T\' could be instantiated with a different subtype of constraint \'User\'.\n  return {\n    id: u.id,\n    kind: \'customer\'\n  };\n}`, `30597578561643246000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>\n  id<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  kind<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> makeCustomer<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">User</span><span class="token operator">></span><span class="token punctuation">(</span>u<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> User <span class="token punctuation">{</span>\n  <span class="token comment">// Error（TS 编译器版本：v4.4.2）</span>\n  <span class="token comment">// Type \'{ id: number; kind: string; }\' is not assignable to type \'T\'.</span>\n  <span class="token comment">// \'{ id: number; kind: string; }\' is assignable to the constraint of type \'T\',</span>\n  <span class="token comment">// but \'T\' could be instantiated with a different subtype of constraint \'User\'.</span>\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    id<span class="token punctuation">:</span> u<span class="token punctuation">.</span>id<span class="token punctuation">,</span>\n    kind<span class="token punctuation">:</span> <span class="token string">\'customer\'</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="实现要点"><a href="#%E5%AE%9E%E7%8E%B0%E8%A6%81%E7%82%B9" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实现要点</h2>\n<p>T 只是约束于 User 类型，而不局限于 User 类型，所以返回为 T 类型不仅仅只有 id 和 kind，所以需要限制类型</p>\n<h1 id="测试二"><a href="#%E6%B5%8B%E8%AF%95%E4%BA%8C" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试二</h1>\n<p>本道题我们希望参数 a 和 b 的类型都是一致的，即 a 和 b 同时为 number 或 string 类型。当它们的类型不一致的值，TS 类型检查器能自动提示对应的错误信息。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="44304280650988930000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function f(a: string | number, b: string | number) {\n  if (typeof a === \'string\') {\n    return a + \':\' + b; // no error but b can be number!\n  } else {\n    return a + b; // error as b can be number | string\n  }\n}\n\nf(2, 3); // Ok\nf(1, \'a\'); // Error\nf(\'a\', 2); // Error\nf(\'a\', \'b\'); // Ok`, `44304280650988930000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">\'string\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> a <span class="token operator">+</span> <span class="token string">\':\'</span> <span class="token operator">+</span> b<span class="token punctuation">;</span> <span class="token comment">// no error but b can be number!</span>\n  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span> <span class="token comment">// error as b can be number | string</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ok</span>\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">\'a\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token string">\'a\'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token string">\'a\'</span><span class="token punctuation">,</span> <span class="token string">\'b\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ok</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-1"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<p>函数重载</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="3300942247686955500"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function f(a: string, b: string): string;\nfunction f(a: number, b: number): number;\n\nfunction f(a, b) {\n  if (typeof a === \'string\') {\n    return a + \':\' + b; // no error but b can be number!\n  } else {\n    return a + b; // error as b can be number | string\n  }\n}\n\nf(2, 3); // Ok\nf(1, \'a\'); // Error\nf(\'a\', 2); // Error\nf(\'a\', \'b\'); // Ok`, `3300942247686955500`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">\'string\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> a <span class="token operator">+</span> <span class="token string">\':\'</span> <span class="token operator">+</span> b<span class="token punctuation">;</span> <span class="token comment">// no error but b can be number!</span>\n  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span> <span class="token comment">// error as b can be number | string</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ok</span>\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">\'a\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token string">\'a\'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token string">\'a\'</span><span class="token punctuation">,</span> <span class="token string">\'b\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ok</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答一-1"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%80-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答一</h2>\n<p>泛型实现</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="94356734676171960000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function f<T extends string | number>(a: T, b: T) {\n  if (typeof a === \'string\') {\n    return a + \':\' + b; // no error but b can be number!\n  } else {\n    return +a + +b; // error as b can be number | string\n  }\n}\n\nf(2, 3); // Ok\nf(1, \'a\'); // Error\nf(\'a\', 2); // Error\nf(\'a\', \'b\'); // Ok`, `94356734676171960000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> f<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">></span><span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">\'string\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> a <span class="token operator">+</span> <span class="token string">\':\'</span> <span class="token operator">+</span> b<span class="token punctuation">;</span> <span class="token comment">// no error but b can be number!</span>\n  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token operator">+</span>a <span class="token operator">+</span> <span class="token operator">+</span>b<span class="token punctuation">;</span> <span class="token comment">// error as b can be number | string</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ok</span>\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">\'a\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token string">\'a\'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token string">\'a\'</span><span class="token punctuation">,</span> <span class="token string">\'b\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ok</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答二-1"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%BA%8C-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答二</h2>\n<p>元祖固定类型</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="99378133093087130000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type F = <T extends string | number>(...args: [T, T]) => string | number;\n\nconst f: F = (a, b) => {\n  if (typeof a === \'string\') {\n    return a + \':\' + b; // no error but b can be number!\n  } else {\n    return +a + +b; // error as b can be number | string\n  }\n};\n\nf(2, 3); // Ok\nf(1, \'a\'); // Error\nf(\'a\', 2); // Error\nf(\'a\', \'b\'); // Ok`, `99378133093087130000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> <span class="token constant">F</span> <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> f<span class="token punctuation">:</span> <span class="token function-variable function">F</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">\'string\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> a <span class="token operator">+</span> <span class="token string">\':\'</span> <span class="token operator">+</span> b<span class="token punctuation">;</span> <span class="token comment">// no error but b can be number!</span>\n  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token operator">+</span>a <span class="token operator">+</span> <span class="token operator">+</span>b<span class="token punctuation">;</span> <span class="token comment">// error as b can be number | string</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ok</span>\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">\'a\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token string">\'a\'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token string">\'a\'</span><span class="token punctuation">,</span> <span class="token string">\'b\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ok</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答三-1"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%89-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答三</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="99075890422089100000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type F = (...args: [string, string] | [number, number]) => string | number;\n\nconst f: F = (a, b) => {\n  if (typeof a === \'string\') {\n    return a + \':\' + b; // no error but b can be number!\n  } else {\n    return +a + +b; // error as b can be number | string\n  }\n};\n\nf(2, 3); // Ok\nf(1, \'a\'); // Error\nf(\'a\', 2); // Error\nf(\'a\', \'b\'); // Ok`, `99075890422089100000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> <span class="token function-variable function">F</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> f<span class="token punctuation">:</span> <span class="token function-variable function">F</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">\'string\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> a <span class="token operator">+</span> <span class="token string">\':\'</span> <span class="token operator">+</span> b<span class="token punctuation">;</span> <span class="token comment">// no error but b can be number!</span>\n  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token operator">+</span>a <span class="token operator">+</span> <span class="token operator">+</span>b<span class="token punctuation">;</span> <span class="token comment">// error as b can be number | string</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ok</span>\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">\'a\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token string">\'a\'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token string">\'a\'</span><span class="token punctuation">,</span> <span class="token string">\'b\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ok</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试三"><a href="#%E6%B5%8B%E8%AF%95%E4%B8%89" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试三</h1>\n<p>如何定义一个 SetOptional 工具类型，支持把给定的 keys 对应的属性变成可选的？对应的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="42131800685523804000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Foo = {\n  a: number;\n  b?: string;\n  c: boolean;\n};\n\n// 测试用例\ntype SomeOptional = SetOptional<Foo, \'a\' | \'b\'>;\n\n// type SomeOptional = {\n//   a?: number; // 该属性已变成可选的\n//   b?: string; // 保持不变\n//   c: boolean;\n// }`, `42131800685523804000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Foo <span class="token operator">=</span> <span class="token punctuation">{</span>\n  a<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  b<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  c<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> SomeOptional <span class="token operator">=</span> SetOptional<span class="token operator">&lt;</span>Foo<span class="token punctuation">,</span> <span class="token string">\'a\'</span> <span class="token operator">|</span> <span class="token string">\'b\'</span><span class="token operator">></span><span class="token punctuation">;</span>\n\n<span class="token comment">// type SomeOptional = {</span>\n<span class="token comment">//   a?: number; // 该属性已变成可选的</span>\n<span class="token comment">//   b?: string; // 保持不变</span>\n<span class="token comment">//   c: boolean;</span>\n<span class="token comment">// }</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>在实现 SetOptional 工具类型之后，如果你感兴趣，可以继续实现 SetRequired 工具类型，利用它可以把指定的 keys 对应的属性变成必填的。对应的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="37719582975501130000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Foo = {\n  a?: number;\n  b: string;\n  c?: boolean;\n};\n\n// 测试用例\ntype SomeRequired = SetRequired<Foo, \'b\' | \'c\'>;\n// type SomeRequired = {\n//   a?: number;\n//   b: string; // 保持不变\n//   c: boolean; // 该属性已变成必填\n// }`, `37719582975501130000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Foo <span class="token operator">=</span> <span class="token punctuation">{</span>\n  a<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  b<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  c<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> SomeRequired <span class="token operator">=</span> SetRequired<span class="token operator">&lt;</span>Foo<span class="token punctuation">,</span> <span class="token string">\'b\'</span> <span class="token operator">|</span> <span class="token string">\'c\'</span><span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token comment">// type SomeRequired = {</span>\n<span class="token comment">//   a?: number;</span>\n<span class="token comment">//   b: string; // 保持不变</span>\n<span class="token comment">//   c: boolean; // 该属性已变成必填</span>\n<span class="token comment">// }</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="34706215533290496000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Simplify<T> = {\n  [P in keyof T]: T[P];\n};\n\ntype SetOptional<T extends object, K extends keyof T = keyof T> = Simplify<Omit<T, K> & Partial<Pick<T, K>>>;\n\ntype SetRequired<T extends object, K extends keyof T = keyof T> = Simplify<Omit<T, K> & Required<Pick<T, K>>>;`, `34706215533290496000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Simplify<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> SetOptional<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">object</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token constant">T</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> Simplify<span class="token operator">&lt;</span>Omit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">></span> <span class="token operator">&amp;</span> Partial<span class="token operator">&lt;</span>Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">>>></span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> SetRequired<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">object</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token constant">T</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> Simplify<span class="token operator">&lt;</span>Omit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">></span> <span class="token operator">&amp;</span> Required<span class="token operator">&lt;</span>Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">>>></span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试四"><a href="#%E6%B5%8B%E8%AF%95%E5%9B%9B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试四</h1>\n<p><code class="language-text">Pick&lt;T, K extends keyof T&gt;</code> 的作用是将某个类型中的子属性挑出来，变成包含这个类型部分属性的子类型。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="78577421189866570000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`interface Todo {\n  title: string;\n  description: string;\n  completed: boolean;\n}\n\ntype TodoPreview = Pick<Todo, \'title\' | \'completed\'>;\n\nconst todo: TodoPreview = {\n  title: \'Clean room\',\n  completed: false\n};`, `78577421189866570000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Todo</span> <span class="token punctuation">{</span>\n  title<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  description<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  completed<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">type</span> TodoPreview <span class="token operator">=</span> Pick<span class="token operator">&lt;</span>Todo<span class="token punctuation">,</span> <span class="token string">\'title\'</span> <span class="token operator">|</span> <span class="token string">\'completed\'</span><span class="token operator">></span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> todo<span class="token punctuation">:</span> TodoPreview <span class="token operator">=</span> <span class="token punctuation">{</span>\n  title<span class="token punctuation">:</span> <span class="token string">\'Clean room\'</span><span class="token punctuation">,</span>\n  completed<span class="token punctuation">:</span> <span class="token boolean">false</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>那么如何定义一个 ConditionalPick 工具类型，支持根据指定的 Condition 条件来生成新的类型，对应的使用示例如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="68640724045675405000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`interface Example {\n  a: string;\n  b: string | number;\n  c: () => void;\n  d: {};\n}\n\n// 测试用例：\ntype StringKeysOnly = ConditionalPick<Example, string>;\n//=> {a: string}`, `68640724045675405000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>\n  a<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  b<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  <span class="token function-variable function">c</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n  d<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 测试用例：</span>\n<span class="token keyword">type</span> StringKeysOnly <span class="token operator">=</span> ConditionalPick<span class="token operator">&lt;</span>Example<span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token comment">//=> {a: string}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-2"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="40222162215426335000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`interface Example {\n  a: string;\n  b: string | number;\n  c: () => void;\n  d: {};\n}\n\ntype ConditionalPick<T, U> = {\n  [K in keyof T]: T[K] extends U ? Pick<T, K> : never;\n}[keyof T];\n\n// 测试用例：\ntype StringKeysOnly = ConditionalPick<Example, string>;\n//=> {a: string}`, `40222162215426335000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>\n  a<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  b<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  <span class="token function-variable function">c</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n  d<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">type</span> ConditionalPick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">U</span> <span class="token operator">?</span> Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">></span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例：</span>\n<span class="token keyword">type</span> StringKeysOnly <span class="token operator">=</span> ConditionalPick<span class="token operator">&lt;</span>Example<span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token comment">//=> {a: string}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-1"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="20811611682560537000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`interface Example {\n  a: string;\n  b: string | number;\n  c: () => void;\n  d: {};\n}\n\ntype ConditionalPick<T, U> = {\n    [K in keyof T as (T[K] extends U ? K : never)]: T[K]\n}\n\n// 测试用例：\ntype StringKeysOnly = ConditionalPick<Example, string>;\n//=> {a: string}`, `20811611682560537000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>\n  a<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  b<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  <span class="token function-variable function">c</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n  d<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">type</span> ConditionalPick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span> <span class="token keyword">as</span> <span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">U</span> <span class="token operator">?</span> <span class="token constant">K</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 测试用例：</span>\n<span class="token keyword">type</span> StringKeysOnly <span class="token operator">=</span> ConditionalPick<span class="token operator">&lt;</span>Example<span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token comment">//=> {a: string}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试五"><a href="#%E6%B5%8B%E8%AF%95%E4%BA%94" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试五</h1>\n<p>定义一个工具类型 AppendArgument，为已有的函数类型增加指定类型的参数，新增的参数名是 x，将作为新函数类型的第一个参数。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="50842390398121950000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Fn = (a: number, b: string) => number\ntype AppendArgument<F, A> = // 你的实现代码\n\ntype FinalFn = AppendArgument<Fn, boolean>\n// (x: boolean, a: number, b: string) => number`, `50842390398121950000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> <span class="token function-variable function">Fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">number</span>\n<span class="token keyword">type</span> AppendArgument<span class="token operator">&lt;</span><span class="token constant">F</span><span class="token punctuation">,</span> <span class="token constant">A</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> FinalFn <span class="token operator">=</span> AppendArgument<span class="token operator">&lt;</span>Fn<span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">></span>\n<span class="token comment">// (x: boolean, a: number, b: string) => number</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-3"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<p>工具类型</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="535229411028104200"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Fn = (a: number, b: string) => number;\ntype AppendArgument<F extends (...args: any) => any, A> = (x: A, ...args: Parameters<F>) => ReturnType<F>;\n\ntype FinalFn = AppendArgument<Fn, boolean>;\n// (x: boolean, a: number, b: string) => number`, `535229411028104200`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> <span class="token function-variable function">Fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n<span class="token keyword">type</span> AppendArgument<span class="token operator">&lt;</span><span class="token constant">F</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token constant">A</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">:</span> Parameters<span class="token operator">&lt;</span><span class="token constant">F</span><span class="token operator">></span></span><span class="token punctuation">)</span> <span class="token operator">=></span> ReturnType<span class="token operator">&lt;</span><span class="token constant">F</span><span class="token operator">></span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> FinalFn <span class="token operator">=</span> AppendArgument<span class="token operator">&lt;</span>Fn<span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token comment">// (x: boolean, a: number, b: string) => number</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-2"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<p>infer 推断</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="1669019195362531000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Fn = (a: number, b: string) => number;\ntype AppendArgument<F extends (...args: any) => any, A> = F extends (...args: infer T) => infer U\n  ? (x: A, ...args: T) => U\n  : never;\n\ntype FinalFn = AppendArgument<Fn, boolean>;\n// (x: boolean, a: number, b: string) => number`, `1669019195362531000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> <span class="token function-variable function">Fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n<span class="token keyword">type</span> AppendArgument<span class="token operator">&lt;</span><span class="token constant">F</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token constant">A</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">F</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> infer <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> infer <span class="token constant">U</span>\n  <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">U</span>\n  <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> FinalFn <span class="token operator">=</span> AppendArgument<span class="token operator">&lt;</span>Fn<span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token comment">// (x: boolean, a: number, b: string) => number</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="拓展"><a href="#%E6%8B%93%E5%B1%95" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>拓展</h2>\n<p>类似的实现 PushArgument</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="61501963095725646000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Fn = (a: number, b?: string) => number;\ntype PushArgument<F, A> =\n\ntype FinalFn = PushArgument<Fn, boolean>;\n// (a: number, b?: string, x?: boolean) => number`, `61501963095725646000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> <span class="token function-variable function">Fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n<span class="token keyword">type</span> PushArgument<span class="token operator">&lt;</span><span class="token constant">F</span><span class="token punctuation">,</span> <span class="token constant">A</span><span class="token operator">></span> <span class="token operator">=</span>\n\n<span class="token keyword">type</span> FinalFn <span class="token operator">=</span> PushArgument<span class="token operator">&lt;</span>Fn<span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token comment">// (a: number, b?: string, x?: boolean) => number</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-3"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="80419692709860360000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Fn = (a: number, b?: string) => number;\ntype PushArgument<F extends Function, A, S extends any[] = [x?: A]> = F extends (...args: infer R) => infer R2 ? (...args: [...R, ...S]) => R2 : never\n\ntype FinalFn = PushArgument<Fn, boolean>;\n// (a: number, b?: string, x?: boolean) => number`, `80419692709860360000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> <span class="token function-variable function">Fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n<span class="token keyword">type</span> PushArgument<span class="token operator">&lt;</span><span class="token constant">F</span> <span class="token keyword">extends</span> <span class="token class-name">Function</span><span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>x<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token constant">A</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">F</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> infer <span class="token constant">R</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> infer <span class="token constant">R2</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">R</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token constant">S</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">R2</span> <span class="token punctuation">:</span> <span class="token builtin">never</span>\n\n<span class="token keyword">type</span> FinalFn <span class="token operator">=</span> PushArgument<span class="token operator">&lt;</span>Fn<span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token comment">// (a: number, b?: string, x?: boolean) => number</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试六"><a href="#%E6%B5%8B%E8%AF%95%E5%85%AD" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试六</h1>\n<p>定义一个 NativeFlat 工具类型，支持把数组类型拍平（扁平化）。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="32489433549630010000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type NaiveFlat<T extends any[]> = // 你的实现代码\n\n// 测试用例：\ntype NaiveResult = NaiveFlat<[[\'a\'], [\'b\', \'c\'], [\'d\']]>\n// NaiveResult 的结果： &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot;`, `32489433549630010000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> NaiveFlat<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token comment">// 测试用例：</span>\n<span class="token keyword">type</span> NaiveResult <span class="token operator">=</span> NaiveFlat<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">\'a\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'b\'</span><span class="token punctuation">,</span> <span class="token string">\'c\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'d\'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">></span>\n<span class="token comment">// NaiveResult 的结果： "a" | "b" | "c" | "d"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>在完成 NaiveFlat 工具类型之后，在继续实现 DeepFlat 工具类型，以支持多维数组类型：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="78358492289360170000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type DeepFlat<T extends any[]> = unknown; // 你的实现代码\n\n// 测试用例\ntype Deep = [[\'a\'], [\'b\', \'c\'], [[\'d\']], [[[[\'e\']]]]];\ntype DeepTestResult = DeepFlat<Deep>;\n// DeepTestResult: &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot; | &quot;e&quot;`, `78358492289360170000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> DeepFlat<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> Deep <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">\'a\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'b\'</span><span class="token punctuation">,</span> <span class="token string">\'c\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">\'d\'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">\'e\'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">type</span> DeepTestResult <span class="token operator">=</span> DeepFlat<span class="token operator">&lt;</span>Deep<span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token comment">// DeepTestResult: "a" | "b" | "c" | "d" | "e"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答一-2"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%80-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答一</h2>\n<p>递归 + number 循环</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="48411059632236820000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// T[P][number] 对数组里每个 index 进行循环，将 index 转换成key\ntype NaiveFlat<T extends any[]> = {\n  [P in keyof T]: T[P] extends any[] ? T[P][number] : T[P];\n}[number];\n\n// 测试用例：\ntype NaiveResult = NaiveFlat<[[\'a\'], [\'b\', \'c\'], [\'d\']]>;\n// NaiveResult 的结果： &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot;\n\ntype Deep = [[\'a\'], [\'b\', \'c\'], [[\'d\']], [[[[\'e\']]]]];\n\ntype DeepFlat<T extends any[]> = {\n  [K in keyof T]: T[K] extends any[] ? DeepFlat<T[K]> : T[K];\n}[number];\n\ntype DeepTestResult = DeepFlat<Deep>;\n// DeepTestResult: &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot; | &quot;e&quot;`, `48411059632236820000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts{3,13}"\n              >\n                <span class="gatsby-code-button-language">ts{3,13}</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight has-highlighted-lines" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// T[P][number] 对数组里每个 index 进行循环，将 index 转换成key</span>\n<span class="token keyword">type</span> NaiveFlat<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n<span class="gatsby-highlight-code-line">  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span><span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例：</span>\n<span class="token keyword">type</span> NaiveResult <span class="token operator">=</span> NaiveFlat<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">\'a\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'b\'</span><span class="token punctuation">,</span> <span class="token string">\'c\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'d\'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token comment">// NaiveResult 的结果： "a" | "b" | "c" | "d"</span>\n\n<span class="token keyword">type</span> Deep <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">\'a\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'b\'</span><span class="token punctuation">,</span> <span class="token string">\'c\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">\'d\'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">\'e\'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> DeepFlat<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n<span class="gatsby-highlight-code-line">  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">?</span> DeepFlat<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span><span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> DeepTestResult <span class="token operator">=</span> DeepFlat<span class="token operator">&lt;</span>Deep<span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token comment">// DeepTestResult: "a" | "b" | "c" | "d" | "e"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答二-2"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%BA%8C-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答二</h2>\n<p>infer 推断，这里的 <code class="language-text">T[number] extends infer U</code> 可等价替换为 <code class="language-text">T extends (infer U)[]</code></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="43308392195771515000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type NaiveFlat<T extends any[]> = T[number] extends infer U // 你的实现代码\n  ? U extends any[]\n    ? U[number]\n    : U\n  : never;\n\n// 测试用例：\ntype NaiveResult = NaiveFlat<[[\'a\'], [\'b\', \'c\'], [\'d\']]>;\n// NaiveResult 的结果： &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot;\n\ntype DeepFlat<T extends any[]> = T[number] extends infer U // 你的实现代码\n  ? U extends any[]\n    ? DeepFlat<U>\n    : U\n  : never;\n\n// 测试用例\ntype Deep = [[\'a\'], [\'b\', \'c\'], [[\'d\']], [[[[\'e\']]]]];\ntype DeepTestResult = DeepFlat<Deep>;\n// DeepTestResult: &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot; | &quot;e&quot;`, `43308392195771515000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> NaiveFlat<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">infer</span> <span class="token constant">U</span> <span class="token comment">// 你的实现代码</span>\n  <span class="token operator">?</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span>\n    <span class="token operator">?</span> <span class="token constant">U</span><span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">]</span>\n    <span class="token punctuation">:</span> <span class="token constant">U</span>\n  <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例：</span>\n<span class="token keyword">type</span> NaiveResult <span class="token operator">=</span> NaiveFlat<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">\'a\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'b\'</span><span class="token punctuation">,</span> <span class="token string">\'c\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'d\'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token comment">// NaiveResult 的结果： "a" | "b" | "c" | "d"</span>\n\n<span class="token keyword">type</span> DeepFlat<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">infer</span> <span class="token constant">U</span> <span class="token comment">// 你的实现代码</span>\n  <span class="token operator">?</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span>\n    <span class="token operator">?</span> DeepFlat<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span>\n    <span class="token punctuation">:</span> <span class="token constant">U</span>\n  <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> Deep <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">\'a\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'b\'</span><span class="token punctuation">,</span> <span class="token string">\'c\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">\'d\'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">\'e\'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">type</span> DeepTestResult <span class="token operator">=</span> DeepFlat<span class="token operator">&lt;</span>Deep<span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token comment">// DeepTestResult: "a" | "b" | "c" | "d" | "e"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试七"><a href="#%E6%B5%8B%E8%AF%95%E4%B8%83" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试七</h1>\n<p>使用类型别名定义一个 EmptyObject 类型，使得该类型只允许空对象赋值：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="63427134681449005000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type EmptyObject = {};\n\n// 测试用例\nconst shouldPass: EmptyObject = {}; // 可以正常赋值\nconst shouldFail: EmptyObject = {\n  // 将出现编译错误\n  prop: \'TS\'\n};`, `63427134681449005000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> EmptyObject <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">const</span> shouldPass<span class="token punctuation">:</span> EmptyObject <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 可以正常赋值</span>\n<span class="token keyword">const</span> shouldFail<span class="token punctuation">:</span> EmptyObject <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token comment">// 将出现编译错误</span>\n  prop<span class="token punctuation">:</span> <span class="token string">\'TS\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>在通过 EmptyObject 类型的测试用例检测后，我们来更改以下 takeSomeTypeOnly 函数的类型定义，让它的参数只允许严格 SomeType 类型的值。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="6772284151092545000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type SomeType = {\n  prop: string;\n};\n\n// 更改以下函数的类型定义，让它的参数只允许严格SomeType类型的值\nfunction takeSomeTypeOnly(x: SomeType) {\n  return x;\n}\n\n// 测试用例：\nconst x = { prop: \'a\' };\ntakeSomeTypeOnly(x); // 可以正常调用\n\nconst y = { prop: \'a\', addditionalProp: \'x\' };\ntakeSomeTypeOnly(y); // 将出现编译错误`, `6772284151092545000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> SomeType <span class="token operator">=</span> <span class="token punctuation">{</span>\n  prop<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 更改以下函数的类型定义，让它的参数只允许严格SomeType类型的值</span>\n<span class="token keyword">function</span> <span class="token function">takeSomeTypeOnly</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> SomeType</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> x<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 测试用例：</span>\n<span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token punctuation">{</span> prop<span class="token punctuation">:</span> <span class="token string">\'a\'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token function">takeSomeTypeOnly</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 可以正常调用</span>\n\n<span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token punctuation">{</span> prop<span class="token punctuation">:</span> <span class="token string">\'a\'</span><span class="token punctuation">,</span> addditionalProp<span class="token punctuation">:</span> <span class="token string">\'x\'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token function">takeSomeTypeOnly</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将出现编译错误</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-4"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-4" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="57196869201332560000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type EmptyObject = {\n  [P in PropertyKey]: never;\n};\n\n// 测试用例\nconst shouldPass: EmptyObject = {}; // 可以正常赋值\nconst shouldFail: EmptyObject = {\n  // 将出现编译错误\n  prop: \'TS\'\n};\n\ntype SomeType = {\n  prop: string;\n};\n\n// T2 的 key 必须存在于 T1 里面，且 T2 是 T1 的一部分\ntype StrictType<T1 extends T2, T2> = {\n  [P in keyof T1]: P extends keyof T2 ? T1[P] : never;\n};\n\n// 更改以下函数的类型定义，让它的参数只允许严格 SomeType 类型的值\nfunction takeSomeTypeOnly<T extends SomeType>(x: StrictType<T, SomeType>) {\n  return x;\n}\n\n// 测试用例：\nconst x = { prop: \'a\' };\ntakeSomeTypeOnly(x); // 可以正常调用\n\nconst y = { prop: \'a\', addditionalProp: \'x\' };\ntakeSomeTypeOnly(y); // 将出现编译错误`, `57196869201332560000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> EmptyObject <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> PropertyKey<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">const</span> shouldPass<span class="token punctuation">:</span> EmptyObject <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 可以正常赋值</span>\n<span class="token keyword">const</span> shouldFail<span class="token punctuation">:</span> EmptyObject <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token comment">// 将出现编译错误</span>\n  prop<span class="token punctuation">:</span> <span class="token string">\'TS\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> SomeType <span class="token operator">=</span> <span class="token punctuation">{</span>\n  prop<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token comment">// T2 的 key 必须存在于 T1 里面，且 T2 是 T1 的一部分</span>\n<span class="token keyword">type</span> StrictType<span class="token operator">&lt;</span><span class="token constant">T1</span> <span class="token keyword">extends</span> <span class="token class-name">T2</span><span class="token punctuation">,</span> <span class="token constant">T2</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">P</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token constant">T2</span> <span class="token operator">?</span> <span class="token constant">T1</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 更改以下函数的类型定义，让它的参数只允许严格 SomeType 类型的值</span>\n<span class="token keyword">function</span> takeSomeTypeOnly<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">SomeType</span><span class="token operator">></span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> StrictType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> SomeType<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> x<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 测试用例：</span>\n<span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token punctuation">{</span> prop<span class="token punctuation">:</span> <span class="token string">\'a\'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token function">takeSomeTypeOnly</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 可以正常调用</span>\n\n<span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token punctuation">{</span> prop<span class="token punctuation">:</span> <span class="token string">\'a\'</span><span class="token punctuation">,</span> addditionalProp<span class="token punctuation">:</span> <span class="token string">\'x\'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token function">takeSomeTypeOnly</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将出现编译错误</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试八"><a href="#%E6%B5%8B%E8%AF%95%E5%85%AB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试八</h1>\n<p>定义 NonEmptyArray 工具类型，用于确保数据非空数组。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="47681867855762890000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type NonEmptyArray<T> = // 你的实现代码\n\nconst a: NonEmptyArray<string> = [] // 将出现编译错误\nconst b: NonEmptyArray<string> = [\'Hello TS\'] // 非空数据，正常使用`, `47681867855762890000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> NonEmptyArray<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">const</span> a<span class="token punctuation">:</span> NonEmptyArray<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 将出现编译错误</span>\n<span class="token keyword">const</span> b<span class="token punctuation">:</span> NonEmptyArray<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">\'Hello TS\'</span><span class="token punctuation">]</span> <span class="token comment">// 非空数据，正常使用</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答一-3"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%80-3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答一</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="77925707073108250000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type NonEmptyArray<T> = [T, ...T[]];`, `77925707073108250000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> NonEmptyArray<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<h2 id="最佳解答二-3"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%BA%8C-3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答二</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="57997515999453670000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type NonEmptyArray<T> = T[] & { 0: T };`, `57997515999453670000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> NonEmptyArray<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span> <span class="token number">0</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<h1 id="测试九"><a href="#%E6%B5%8B%E8%AF%95%E4%B9%9D" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试九</h1>\n<p>定义一个 JoinStrArray 工具类型，用于根据指定的 Separator 分隔符，对字符串数组类型进行拼接。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="58904079331728150000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type JoinStrArray<Arr extends string[], Separator extends string, Result extends string = &quot;&quot;> = // 你的实现代码\n\n// 测试用例\ntype Names = [&quot;Sem&quot;, &quot;Lolo&quot;, &quot;Kaquko&quot;]\ntype NamesComma = JoinStrArray<Names, &quot;,&quot;> // &quot;Sem,Lolo,Kaquko&quot;\ntype NamesSpace = JoinStrArray<Names, &quot; &quot;> // &quot;Sem Lolo Kaquko&quot;\ntype NamesStars = JoinStrArray<Names, &quot;⭐️&quot;> // &quot;Sem⭐️Lolo⭐️Kaquko&quot;`, `58904079331728150000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> JoinStrArray<span class="token operator">&lt;</span>Arr <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Separator <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span> Result <span class="token keyword">extends</span> <span class="token class-name">string</span> <span class="token operator">=</span> <span class="token string">""</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> Names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Sem"</span><span class="token punctuation">,</span> <span class="token string">"Lolo"</span><span class="token punctuation">,</span> <span class="token string">"Kaquko"</span><span class="token punctuation">]</span>\n<span class="token keyword">type</span> NamesComma <span class="token operator">=</span> JoinStrArray<span class="token operator">&lt;</span>Names<span class="token punctuation">,</span> <span class="token string">","</span><span class="token operator">></span> <span class="token comment">// "Sem,Lolo,Kaquko"</span>\n<span class="token keyword">type</span> NamesSpace <span class="token operator">=</span> JoinStrArray<span class="token operator">&lt;</span>Names<span class="token punctuation">,</span> <span class="token string">" "</span><span class="token operator">></span> <span class="token comment">// "Sem Lolo Kaquko"</span>\n<span class="token keyword">type</span> NamesStars <span class="token operator">=</span> JoinStrArray<span class="token operator">&lt;</span>Names<span class="token punctuation">,</span> <span class="token string">"⭐️"</span><span class="token operator">></span> <span class="token comment">// "Sem⭐️Lolo⭐️Kaquko"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-5"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-5" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="93074812330663540000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type JoinStrArray<\n  Arr extends string[],\n  Separator extends string\n> = Arr extends [infer A, ...infer B]\n  ? \\`\\${A extends string ? A : \'\'}\\${B extends [string, ...string[]]\n      ? \\`\\${Separator}\\${JoinStrArray<B, Separator>}\\`\n      : \'\'}\\`\n  : \'\';\n\n// 测试用例\ntype Names = [&quot;Sem&quot;, &quot;Lolo&quot;, &quot;Kaquko&quot;];\ntype NamesComma = JoinStrArray<Names, &quot;,&quot;>; // &quot;Sem,Lolo,Kaquko&quot;\ntype NamesSpace = JoinStrArray<Names, &quot; &quot;>; // &quot;Sem Lolo Kaquko&quot;\ntype NamesStars = JoinStrArray<Names, &quot;⭐️&quot;>; // &quot;Sem⭐️Lolo⭐️Kaquko&quot;`, `93074812330663540000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> JoinStrArray<span class="token operator">&lt;</span>\n  Arr <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  Separator <span class="token keyword">extends</span> <span class="token class-name">string</span>\n<span class="token operator">></span> <span class="token operator">=</span> Arr <span class="token keyword">extends</span> <span class="token punctuation">[</span>infer <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token operator">...</span>infer <span class="token constant">B</span><span class="token punctuation">]</span>\n  <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">A</span> <span class="token keyword">extends</span> <span class="token class-name">string</span> <span class="token operator">?</span> <span class="token constant">A</span> <span class="token punctuation">:</span> <span class="token string">\'\'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">B</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span>\n      <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Separator<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>JoinStrArray<span class="token operator">&lt;</span><span class="token constant">B</span><span class="token punctuation">,</span> Separator<span class="token operator">></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>\n      <span class="token punctuation">:</span> <span class="token string">\'\'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>\n  <span class="token punctuation">:</span> <span class="token string">\'\'</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> Names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Sem"</span><span class="token punctuation">,</span> <span class="token string">"Lolo"</span><span class="token punctuation">,</span> <span class="token string">"Kaquko"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">type</span> NamesComma <span class="token operator">=</span> JoinStrArray<span class="token operator">&lt;</span>Names<span class="token punctuation">,</span> <span class="token string">","</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// "Sem,Lolo,Kaquko"</span>\n<span class="token keyword">type</span> NamesSpace <span class="token operator">=</span> JoinStrArray<span class="token operator">&lt;</span>Names<span class="token punctuation">,</span> <span class="token string">" "</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// "Sem Lolo Kaquko"</span>\n<span class="token keyword">type</span> NamesStars <span class="token operator">=</span> JoinStrArray<span class="token operator">&lt;</span>Names<span class="token punctuation">,</span> <span class="token string">"⭐️"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// "Sem⭐️Lolo⭐️Kaquko"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试十"><a href="#%E6%B5%8B%E8%AF%95%E5%8D%81" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试十</h1>\n<p>实现一个 Trim 工具类型，用于对字符串字面量类型进行去空格处理。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="77339892966746110000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Trim<V extends string> = // 你的实现代码\n  // 测试用例\n  Trim<\' semlinker \'>;\n//=> \'semlinker\'`, `77339892966746110000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Trim<span class="token operator">&lt;</span><span class="token constant">V</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n  <span class="token comment">// 测试用例</span>\n  Trim<span class="token operator">&lt;</span><span class="token string">\' semlinker \'</span><span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token comment">//=> \'semlinker\'</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>提示：可以考虑先定义 TrimLeft 和 TrimRight 工具类型，再组合成 Trim 工具类型。</p>\n<h2 id="最佳解答-6"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<p>infer + 递归</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="12496606210972994000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// 实现一个 Trim 工具类型，用于对字符串字面量类型进行去空格处理。具体的使用示例如下所示：\ntype TrimLeft<V extends string> = V extends \\` \\${infer U}\\` ? TrimLeft<U> : V;\ntype TrimRight<V extends string> = V extends \\`\\${infer U} \\` ? TrimRight<U> : V;\ntype Trim<V extends string> = TrimLeft<TrimRight<V>>\n\n// 测试用例\ntype T3 = Trim<\'             semlinker              \'>\n//=> \'semlinker\'`, `12496606210972994000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// 实现一个 Trim 工具类型，用于对字符串字面量类型进行去空格处理。具体的使用示例如下所示：</span>\n<span class="token keyword">type</span> TrimLeft<span class="token operator">&lt;</span><span class="token constant">V</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">V</span> <span class="token keyword">extends</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infer <span class="token constant">U</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">?</span> TrimLeft<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span> <span class="token punctuation">:</span> <span class="token constant">V</span><span class="token punctuation">;</span>\n<span class="token keyword">type</span> TrimRight<span class="token operator">&lt;</span><span class="token constant">V</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">V</span> <span class="token keyword">extends</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infer <span class="token constant">U</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token template-punctuation string">`</span></span> <span class="token operator">?</span> TrimRight<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span> <span class="token punctuation">:</span> <span class="token constant">V</span><span class="token punctuation">;</span>\n<span class="token keyword">type</span> Trim<span class="token operator">&lt;</span><span class="token constant">V</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token operator">></span> <span class="token operator">=</span> TrimLeft<span class="token operator">&lt;</span>TrimRight<span class="token operator">&lt;</span><span class="token constant">V</span><span class="token operator">>></span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> <span class="token constant">T3</span> <span class="token operator">=</span> Trim<span class="token operator">&lt;</span><span class="token string">\'             semlinker              \'</span><span class="token operator">></span>\n<span class="token comment">//=> \'semlinker\'</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试十一"><a href="#%E6%B5%8B%E8%AF%95%E5%8D%81%E4%B8%80" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试十一</h1>\n<p>实现一个 IsEqual 工具类型，用于比较两个类型是否相等。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="85265034750768550000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type IsEqual<A, B> = // 你的实现代码\n\n// 测试用例\ntype E0 = IsEqual<1, 2>; // false\ntype E1 = IsEqual<{ a: 1 }, { a: 1 }> // true\ntype E2 = IsEqual<[1], []>; // false`, `85265034750768550000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> IsEqual<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> <span class="token constant">E0</span> <span class="token operator">=</span> IsEqual<span class="token operator">&lt;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">E1</span> <span class="token operator">=</span> IsEqual<span class="token operator">&lt;</span><span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token operator">></span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">E2</span> <span class="token operator">=</span> IsEqual<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-4"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-4" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="13406627430714767000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type IsEqual<A, B> = A extends B ? (B extends A ? true : false) : false;\n\n// 测试用例\ntype E0 = IsEqual<1, 2>; // false\ntype E1 = IsEqual<{ a: 1 }, { a: 1 }>; // true\ntype E2 = IsEqual<[1], []>; // false`, `13406627430714767000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> IsEqual<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token keyword">extends</span> <span class="token class-name">B</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token constant">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> <span class="token constant">E0</span> <span class="token operator">=</span> IsEqual<span class="token operator">&lt;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">E1</span> <span class="token operator">=</span> IsEqual<span class="token operator">&lt;</span><span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">E2</span> <span class="token operator">=</span> IsEqual<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-7"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-7" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="3659519662203703000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type IsEqual<A, B> = A extends B ? (B extends A ? true : false) : false;\n\n// 测试用例\ntype A6 = IsEqual<true, boolean>; // boolean\ntype A7 = IsEqual<1 | 2, 1>; // boolean`, `3659519662203703000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> IsEqual<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token keyword">extends</span> <span class="token class-name">B</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token constant">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> <span class="token constant">A6</span> <span class="token operator">=</span> IsEqual<span class="token operator">&lt;</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// boolean</span>\n<span class="token keyword">type</span> <span class="token constant">A7</span> <span class="token operator">=</span> IsEqual<span class="token operator">&lt;</span><span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// boolean</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>对于这 2 个例子，以上我的解答是不对的，这是由于 泛型和 extends 两者结合产生的 <code class="language-text">distributive conditional types（分布式条件类型）</code> 导致的，这里的 <code class="language-text">boolean</code> 和 <code class="language-text">true | false</code> 等价，即 2 个条件都走了</p>\n<p>给泛型套上一个 <code class="language-text">[]</code>，就可以解决这个问题</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="63211825163779770000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type IsEqual<A, B> = [A, B] extends [B, A] ? true : false;\n\n// 测试用例\ntype A6 = IsEqual<true, boolean>; // boolean\ntype A7 = IsEqual<1 | 2, 1>; // boolean`, `63211825163779770000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> IsEqual<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token constant">B</span><span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> <span class="token constant">A6</span> <span class="token operator">=</span> IsEqual<span class="token operator">&lt;</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// boolean</span>\n<span class="token keyword">type</span> <span class="token constant">A7</span> <span class="token operator">=</span> IsEqual<span class="token operator">&lt;</span><span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// boolean</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>但是针对 any 还是不行，以下是最终解决方案，具体可参考 <a href="https://github.com/microsoft/TypeScript/issues/27024#issuecomment-510924206" target="_blank" rel="nofollow noreferrer noopener">issue</a></p>\n<p>// TODO IsEqual 具体原理</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="55326590564627030000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type IsEqual<T, U> = (<G>() => G extends T ? 1 : 2) extends <G>() => G extends U ? 1 : 2 ? true : false;\n\n// 测试用例\ntype E0 = IsEqual<1, 2>; // false\ntype E1 = IsEqual<{ a: 1 }, { a: 1 }>; // true\ntype E2 = IsEqual<[1], []>; // false\n\n// 这里考虑了边缘情况\ntype X = IsEqual<{ x: any }, { x: number }>; // false\ntype A6 = IsEqual<true, boolean>; // false\ntype A7 = IsEqual<1 | 2, 1>; // false`, `55326590564627030000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> IsEqual<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token constant">G</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">G</span> <span class="token keyword">extends</span> <span class="token class-name">T</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">extends</span> <span class="token operator">&lt;</span><span class="token constant">G</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">G</span> <span class="token keyword">extends</span> <span class="token class-name">U</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">2</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> <span class="token constant">E0</span> <span class="token operator">=</span> IsEqual<span class="token operator">&lt;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">E1</span> <span class="token operator">=</span> IsEqual<span class="token operator">&lt;</span><span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">E2</span> <span class="token operator">=</span> IsEqual<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n\n<span class="token comment">// 这里考虑了边缘情况</span>\n<span class="token keyword">type</span> <span class="token constant">X</span> <span class="token operator">=</span> IsEqual<span class="token operator">&lt;</span><span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token builtin">any</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">A6</span> <span class="token operator">=</span> IsEqual<span class="token operator">&lt;</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">A7</span> <span class="token operator">=</span> IsEqual<span class="token operator">&lt;</span><span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试十二"><a href="#%E6%B5%8B%E8%AF%95%E5%8D%81%E4%BA%8C" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试十二</h1>\n<p>实现一个 Head 工具类型，用于获取数组类型的第一个类型。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="31936556487903543000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Head<T extends Array<any>> = // 你的实现代码\n\n// 测试用例\ntype H0 = Head<[]> // never\ntype H1 = Head<[1]> // 1\ntype H2 = Head<[3, 2]> // 3`, `31936556487903543000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Head<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">>></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> <span class="token constant">H0</span> <span class="token operator">=</span> Head<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token comment">// never</span>\n<span class="token keyword">type</span> <span class="token constant">H1</span> <span class="token operator">=</span> Head<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token comment">// 1</span>\n<span class="token keyword">type</span> <span class="token constant">H2</span> <span class="token operator">=</span> Head<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token comment">// 3</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-5"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-5" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="72823666707646280000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Head<T extends Array<any>> = T[0];\n\n// 测试用例\ntype H0 = Head<[]>; // never\ntype H1 = Head<[1]>; // 1\ntype H2 = Head<[3, 2]>; // 3`, `72823666707646280000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Head<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">>></span> <span class="token operator">=</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> <span class="token constant">H0</span> <span class="token operator">=</span> Head<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// never</span>\n<span class="token keyword">type</span> <span class="token constant">H1</span> <span class="token operator">=</span> Head<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 1</span>\n<span class="token keyword">type</span> <span class="token constant">H2</span> <span class="token operator">=</span> Head<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 3</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-8"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-8" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="24880822922302804000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Head<T extends Array<any>> = T extends [] ? never : T[0];\n\n// 测试用例\ntype H0 = Head<[]>; // never\ntype H1 = Head<[1]>; // 1\ntype H2 = Head<[3, 2]>; // 3`, `24880822922302804000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Head<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">>></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> <span class="token constant">H0</span> <span class="token operator">=</span> Head<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// never</span>\n<span class="token keyword">type</span> <span class="token constant">H1</span> <span class="token operator">=</span> Head<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 1</span>\n<span class="token keyword">type</span> <span class="token constant">H2</span> <span class="token operator">=</span> Head<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 3</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试十三"><a href="#%E6%B5%8B%E8%AF%95%E5%8D%81%E4%B8%89" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试十三</h1>\n<p>实现一个 Tail 工具类型，用于获取数组类型除了第一个类型外，剩余的类型。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="23645028795799085000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Tail<T extends Array<any>> =  // 你的实现代码\n\n// 测试用例\ntype T0 = Tail<[]> // []\ntype T1 = Tail<[1, 2]> // [2]\ntype T2 = Tail<[1, 2, 3, 4, 5]> // [2, 3, 4, 5]`, `23645028795799085000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Tail<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">>></span> <span class="token operator">=</span>  <span class="token comment">// 你的实现代码</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> <span class="token constant">T0</span> <span class="token operator">=</span> Tail<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token comment">// []</span>\n<span class="token keyword">type</span> <span class="token constant">T1</span> <span class="token operator">=</span> Tail<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token comment">// [2]</span>\n<span class="token keyword">type</span> <span class="token constant">T2</span> <span class="token operator">=</span> Tail<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token comment">// [2, 3, 4, 5]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-6"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="7367317960571507000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Tail<T extends Array<any>> = T extends [a: any, ...rest: infer K] ? K : never\n\n// 测试用例\ntype T0 = Tail<[]> // []\ntype T1 = Tail<[1, 2]> // [2]\ntype T2 = Tail<[1, 2, 3, 4, 5]> // [2, 3, 4, 5]`, `7367317960571507000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Tail<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">>></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span>a<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token operator">...</span>rest<span class="token punctuation">:</span> infer <span class="token constant">K</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token constant">K</span> <span class="token punctuation">:</span> <span class="token builtin">never</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> <span class="token constant">T0</span> <span class="token operator">=</span> Tail<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token comment">// []</span>\n<span class="token keyword">type</span> <span class="token constant">T1</span> <span class="token operator">=</span> Tail<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token comment">// [2]</span>\n<span class="token keyword">type</span> <span class="token constant">T2</span> <span class="token operator">=</span> Tail<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token comment">// [2, 3, 4, 5]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-9"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-9" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="78617416723487590000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Tail<T extends Array<any>> = T extends [] ? [] : T extends [any, ...(infer K)] ? K : never;\n\n// 测试用例\ntype T0 = Tail<[]>; // []\ntype T1 = Tail<[1, 2]>; // [2]\ntype T2 = Tail<[1, 2, 3, 4, 5]>; // [2, 3, 4, 5]`, `78617416723487590000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Tail<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">>></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">(</span>infer <span class="token constant">K</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token constant">K</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> <span class="token constant">T0</span> <span class="token operator">=</span> Tail<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// []</span>\n<span class="token keyword">type</span> <span class="token constant">T1</span> <span class="token operator">=</span> Tail<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [2]</span>\n<span class="token keyword">type</span> <span class="token constant">T2</span> <span class="token operator">=</span> Tail<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [2, 3, 4, 5]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试十四"><a href="#%E6%B5%8B%E8%AF%95%E5%8D%81%E5%9B%9B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试十四</h1>\n<p>实现一个 Unshift 工具类型，用于把指定类型 E 作为第一个元素添加到 T 数组类型中。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="70307338468324200000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Unshift<T extends any[], E> =  // 你的实现代码\n\n// 测试用例\ntype Arr0 = Unshift<[], 1>; // [1]\ntype Arr1 = Unshift<[1, 2, 3], 0>; // [0, 1, 2, 3]`, `70307338468324200000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Unshift<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">E</span><span class="token operator">></span> <span class="token operator">=</span>  <span class="token comment">// 你的实现代码</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> Arr0 <span class="token operator">=</span> Unshift<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [1]</span>\n<span class="token keyword">type</span> Arr1 <span class="token operator">=</span> Unshift<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [0, 1, 2, 3]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-7"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-7" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="3236944589517177000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Unshift<T extends any[], E> = [E, ...T] extends infer K ? K : never;\n\n// 测试用例\ntype Arr0 = Unshift<[], 1>; // [1]\ntype Arr1 = Unshift<[1, 2, 3], 0>; // [0, 1, 2, 3]`, `3236944589517177000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Unshift<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">E</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">E</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token constant">T</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">infer</span> <span class="token constant">K</span> <span class="token operator">?</span> <span class="token constant">K</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> Arr0 <span class="token operator">=</span> Unshift<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [1]</span>\n<span class="token keyword">type</span> Arr1 <span class="token operator">=</span> Unshift<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [0, 1, 2, 3]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="27883256473215345000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Unshift<T extends any[], E> = [E, ...T];\n\n// 测试用例\ntype Arr0 = Unshift<[], 1>; // [1]\ntype Arr1 = Unshift<[1, 2, 3], 0>; // [0, 1, 2, 3]`, `27883256473215345000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Unshift<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">E</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">E</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> Arr0 <span class="token operator">=</span> Unshift<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [1]</span>\n<span class="token keyword">type</span> Arr1 <span class="token operator">=</span> Unshift<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [0, 1, 2, 3]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试十五"><a href="#%E6%B5%8B%E8%AF%95%E5%8D%81%E4%BA%94" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试十五</h1>\n<p>实现一个 Shift 工具类型，用于移除 T 数组类型中的第一个类型。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="17550236629007899000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Shift<T extends any[]> = // 你的实现代码\n\n// 测试用例\ntype S0 = Shift<[1, 2, 3]>\ntype S1 = Shift<[string,number,boolean]>`, `17550236629007899000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Shift<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> <span class="token constant">S0</span> <span class="token operator">=</span> Shift<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">></span>\n<span class="token keyword">type</span> <span class="token constant">S1</span> <span class="token operator">=</span> Shift<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span><span class="token builtin">number</span><span class="token punctuation">,</span><span class="token builtin">boolean</span><span class="token punctuation">]</span><span class="token operator">></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-8"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-8" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="56189514221289310000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Shift<T extends any[]> = T extends [any, ...(infer R)] ? R : [];\n\n// 测试用例\ntype S0 = Shift<[1, 2, 3]>;\ntype S1 = Shift<[string, number, boolean]>;`, `56189514221289310000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Shift<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">(</span>infer <span class="token constant">R</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token constant">R</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> <span class="token constant">S0</span> <span class="token operator">=</span> Shift<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token keyword">type</span> <span class="token constant">S1</span> <span class="token operator">=</span> Shift<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试十六"><a href="#%E6%B5%8B%E8%AF%95%E5%8D%81%E5%85%AD" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试十六</h1>\n<p>实现一个 Push 工具类型，用于把指定类型 E 作为最后一个元素添加到 T 数组类型中。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="64793726378623840000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Push<T extends any[], V> = // 你的实现代码\n\n// 测试用例\ntype Arr0 = Push<[], 1> // [1]\ntype Arr1 = Push<[1, 2, 3], 4> // [1, 2, 3, 4]`, `64793726378623840000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Push<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">V</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> Arr0 <span class="token operator">=</span> Push<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span> <span class="token comment">// [1]</span>\n<span class="token keyword">type</span> Arr1 <span class="token operator">=</span> Push<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">></span> <span class="token comment">// [1, 2, 3, 4]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-9"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-9" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="76257271384733300000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Push<T extends any[], V> = [...T, V];\n\n// 测试用例\ntype Arr0 = Push<[], 1>; // [1]\ntype Arr1 = Push<[1, 2, 3], 4>; // [1, 2, 3, 4]`, `76257271384733300000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Push<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">V</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">V</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> Arr0 <span class="token operator">=</span> Push<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [1]</span>\n<span class="token keyword">type</span> Arr1 <span class="token operator">=</span> Push<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试十七"><a href="#%E6%B5%8B%E8%AF%95%E5%8D%81%E4%B8%83" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试十七</h1>\n<p>实现一个 Includes 工具类型，用于判断指定的类型 E 是否包含在 T 数组类型中。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="13326859995890650000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Includes<T extends Array<any>, E> = // 你的实现代码\n\ntype I0 = Includes<[], 1> // false\ntype I1 = Includes<[2, 2, 3, 1], 2> // true\ntype I2 = Includes<[2, 3, 3, 1], 1> // true`, `13326859995890650000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Includes<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token constant">E</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> <span class="token constant">I0</span> <span class="token operator">=</span> Includes<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">I1</span> <span class="token operator">=</span> Includes<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">></span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">I2</span> <span class="token operator">=</span> Includes<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span> <span class="token comment">// true</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-10"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-10" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="81877214830354400000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Includes<T extends Array<any>, E> = E extends T[keyof T] ? true : false;\n// 或 type Includes<T extends Array<any>, E> = E extends T[number] ? true : false\n\ntype I0 = Includes<[], 1>; // false\ntype I1 = Includes<[2, 2, 3, 1], 2>; // true\ntype I2 = Includes<[2, 3, 3, 1], 1>; // true`, `81877214830354400000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Includes<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token constant">E</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">E</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n<span class="token comment">// 或 type Includes&lt;T extends Array&lt;any>, E> = E extends T[number] ? true : false</span>\n\n<span class="token keyword">type</span> <span class="token constant">I0</span> <span class="token operator">=</span> Includes<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">I1</span> <span class="token operator">=</span> Includes<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">I2</span> <span class="token operator">=</span> Includes<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-10"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-10" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<p>需结合 isEqual 方法</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="37688263250217680000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// 实现一个 Includes 工具类型，用于判断指定的类型 E 是否包含在 T 数组类型中。具体的使用示例如下所示：\ntype IsEqual<T, U> = (<G>() => G extends T ? 1 : 2) extends <G>() => G extends U ? 1 : 2 ? true : false;\n\ntype Includes<T extends Array<any>, E> = T extends [infer A, ...(infer B)]\n  ? IsEqual<A, E> extends true\n    ? true\n    : Includes<B, E>\n  : false;\n\ntype I0 = Includes<[], 1>; // false\ntype I1 = Includes<[2, 2, 3, 1], 2>; // true\ntype I2 = Includes<[2, 3, 3, 1], 1>; // true\ntype I3 = Includes<[2 | 3, 3, 3, 1], 2 | 3 | 4>; // false\ntype I4 = Includes<[2 | 3, 3, 3, 1], 2 | 3>; // true\ntype I5 = Includes<[never, 3, 3, 1], never>; // true\ntype I6 = Includes<[never, 3, 3, 1], any>; // false`, `37688263250217680000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// 实现一个 Includes 工具类型，用于判断指定的类型 E 是否包含在 T 数组类型中。具体的使用示例如下所示：</span>\n<span class="token keyword">type</span> IsEqual<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token constant">G</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">G</span> <span class="token keyword">extends</span> <span class="token class-name">T</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">extends</span> <span class="token operator">&lt;</span><span class="token constant">G</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">G</span> <span class="token keyword">extends</span> <span class="token class-name">U</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">2</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> Includes<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token constant">E</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span>infer <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">(</span>infer <span class="token constant">B</span><span class="token punctuation">)</span><span class="token punctuation">]</span>\n  <span class="token operator">?</span> IsEqual<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">E</span><span class="token operator">></span> <span class="token keyword">extends</span> <span class="token class-name">true</span>\n    <span class="token operator">?</span> <span class="token boolean">true</span>\n    <span class="token punctuation">:</span> Includes<span class="token operator">&lt;</span><span class="token constant">B</span><span class="token punctuation">,</span> <span class="token constant">E</span><span class="token operator">></span>\n  <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">I0</span> <span class="token operator">=</span> Includes<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">I1</span> <span class="token operator">=</span> Includes<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">I2</span> <span class="token operator">=</span> Includes<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">I3</span> <span class="token operator">=</span> Includes<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">|</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">4</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">I4</span> <span class="token operator">=</span> Includes<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">|</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">3</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">I5</span> <span class="token operator">=</span> Includes<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token builtin">never</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">never</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">I6</span> <span class="token operator">=</span> Includes<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token builtin">never</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试十八"><a href="#%E6%B5%8B%E8%AF%95%E5%8D%81%E5%85%AB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试十八</h1>\n<p>实现一个 UnionToIntersection 工具类型，用于把联合类型转换为交叉类型。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="50195872905892730000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type UnionToIntersection<U> = // 你的实现代码\n\n// 测试用例\ntype U0 = UnionToIntersection<string | number> // never\ntype U1 = UnionToIntersection<{ name: string } | { age: number }> // { name: string; } & { age: number; }`, `50195872905892730000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> UnionToIntersection<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> <span class="token constant">U0</span> <span class="token operator">=</span> UnionToIntersection<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">></span> <span class="token comment">// never</span>\n<span class="token keyword">type</span> <span class="token constant">U1</span> <span class="token operator">=</span> UnionToIntersection<span class="token operator">&lt;</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token punctuation">{</span> age<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token operator">></span> <span class="token comment">// { name: string; } &amp; { age: number; }</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-11"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-11" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<p>分布式条件类型 + 条件类型推断</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="92600454969085070000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#type-inference-in-conditional-types\ntype UnionToIntersection<U> = (U extends any ? (k: U) => void : never) extends (k: infer K) => void ? K : never;\n\n// 测试用例\ntype U0 = UnionToIntersection<string | number>; // never\ntype U1 = UnionToIntersection<{ name: string } | { age: number }>; // { name: string; } & { age: number; }`, `92600454969085070000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#type-inference-in-conditional-types</span>\n<span class="token keyword">type</span> UnionToIntersection<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token class-name">any</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token parameter">k<span class="token punctuation">:</span> <span class="token constant">U</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">)</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token parameter">k<span class="token punctuation">:</span> infer <span class="token constant">K</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span> <span class="token operator">?</span> <span class="token constant">K</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">type</span> <span class="token constant">U0</span> <span class="token operator">=</span> UnionToIntersection<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// never</span>\n<span class="token keyword">type</span> <span class="token constant">U1</span> <span class="token operator">=</span> UnionToIntersection<span class="token operator">&lt;</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token punctuation">{</span> age<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// { name: string; } &amp; { age: number; }</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试十九"><a href="#%E6%B5%8B%E8%AF%95%E5%8D%81%E4%B9%9D" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试十九</h1>\n<p>实现一个 OptionalKeys 工具类型，用来获取对象类型中声明的可选属性。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="23363952081231630000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Person = {\n  id: string;\n  name: string;\n  age: number;\n  from?: string;\n  speak?: string;\n};\n\ntype OptionalKeys<T> = // 你的实现代码\ntype PersonOptionalKeys = OptionalKeys<Person> // &quot;from&quot; | &quot;speak&quot;`, `23363952081231630000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>\n  id<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  <span class="token keyword">from</span><span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  speak<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> OptionalKeys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n<span class="token keyword">type</span> PersonOptionalKeys <span class="token operator">=</span> OptionalKeys<span class="token operator">&lt;</span>Person<span class="token operator">></span> <span class="token comment">// "from" | "speak"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-12"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-12" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="1710306033048114700"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Person = {\n  id: string;\n  name: string;\n  age: number;\n  from?: string;\n  speak?: string;\n};\n\ntype OptionalKeys<T> = {\n  [K in keyof T]: {} extends Pick<T, K> ? K : never;\n}[keyof T];\n\ntype PersonOptionalKeys = OptionalKeys<Person>; // &quot;from&quot; | &quot;speak&quot;`, `1710306033048114700`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>\n  id<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  <span class="token keyword">from</span><span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  speak<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> OptionalKeys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">extends</span> <span class="token class-name">Pick</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">></span> <span class="token operator">?</span> <span class="token constant">K</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> PersonOptionalKeys <span class="token operator">=</span> OptionalKeys<span class="token operator">&lt;</span>Person<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// "from" | "speak"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试二十"><a href="#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试二十</h1>\n<p>实现一个 Curry 工具类型，用来实现函数类型的柯里化处理。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="70330096666711950000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Curry<\n  F extends (...args: any[]) => any,\n  P extends any[] = Parameters<F>,\n  R = ReturnType<F>\n> = // 你的实现代码\n\ntype F0 = Curry<() => Date>; // () => Date\ntype F1 = Curry<(a: number) => Date>; // (arg: number) => Date\ntype F2 = Curry<(a: number, b: string) => Date>; //  (arg_0: number) => (b: string) => Date`, `70330096666711950000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Curry<span class="token operator">&lt;</span>\n  <span class="token constant">F</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">any</span><span class="token punctuation">,</span>\n  <span class="token constant">P</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> Parameters<span class="token operator">&lt;</span><span class="token constant">F</span><span class="token operator">></span><span class="token punctuation">,</span>\n  <span class="token constant">R</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token constant">F</span><span class="token operator">></span>\n<span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> <span class="token constant">F0</span> <span class="token operator">=</span> Curry<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> Date<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// () => Date</span>\n<span class="token keyword">type</span> <span class="token constant">F1</span> <span class="token operator">=</span> Curry<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> Date<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// (arg: number) => Date</span>\n<span class="token keyword">type</span> <span class="token constant">F2</span> <span class="token operator">=</span> Curry<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> Date<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">//  (arg_0: number) => (b: string) => Date</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-11"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-11" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="55583812736289450000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type FirstAsArray<T extends any[]> = T extends [...(infer A), infer B, infer C]\n  ? A extends []\n    ? T extends [...(infer A), infer B]\n      ? A\n      : never\n    : T extends [...(infer A), infer B]\n    ? FirstAsArray<A>\n    : never\n  : T;\n\ntype Curry<F extends (...args: any[]) => any, P extends any[] = Parameters<F>, R = ReturnType<F>> = P extends [\n  infer A,\n  infer B,\n  ...(infer C)\n]\n  ? P extends [infer A, ...(infer B)]\n    ? Curry<F, FirstAsArray<P>, Curry<F, B, R>>\n    : never\n  : (...args: P) => R;\n\ntype F0 = Curry<() => Date>; // () => Date\ntype F1 = Curry<(a: number) => Date>; // (a: number) => Date\ntype F2 = Curry<(a: number, b: string) => Date>; // (a: number) => (b: string) => Date\ntype F3 = Curry<(a: number, b: string, c: boolean) => Date>; // (a: number) => (b: string) => (c: boolean) => Date`, `55583812736289450000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> FirstAsArray<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">(</span>infer <span class="token constant">A</span><span class="token punctuation">)</span><span class="token punctuation">,</span> infer <span class="token constant">B</span><span class="token punctuation">,</span> infer <span class="token constant">C</span><span class="token punctuation">]</span>\n  <span class="token operator">?</span> <span class="token constant">A</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>\n    <span class="token operator">?</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">(</span>infer <span class="token constant">A</span><span class="token punctuation">)</span><span class="token punctuation">,</span> infer <span class="token constant">B</span><span class="token punctuation">]</span>\n      <span class="token operator">?</span> <span class="token constant">A</span>\n      <span class="token punctuation">:</span> <span class="token builtin">never</span>\n    <span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">(</span>infer <span class="token constant">A</span><span class="token punctuation">)</span><span class="token punctuation">,</span> infer <span class="token constant">B</span><span class="token punctuation">]</span>\n    <span class="token operator">?</span> FirstAsArray<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span>\n    <span class="token punctuation">:</span> <span class="token builtin">never</span>\n  <span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> Curry<span class="token operator">&lt;</span><span class="token constant">F</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token constant">P</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> Parameters<span class="token operator">&lt;</span><span class="token constant">F</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token constant">R</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token constant">F</span><span class="token operator">>></span> <span class="token operator">=</span> <span class="token constant">P</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span>\n  infer <span class="token constant">A</span><span class="token punctuation">,</span>\n  infer <span class="token constant">B</span><span class="token punctuation">,</span>\n  <span class="token operator">...</span><span class="token punctuation">(</span>infer <span class="token constant">C</span><span class="token punctuation">)</span>\n<span class="token punctuation">]</span>\n  <span class="token operator">?</span> <span class="token constant">P</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span>infer <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">(</span>infer <span class="token constant">B</span><span class="token punctuation">)</span><span class="token punctuation">]</span>\n    <span class="token operator">?</span> Curry<span class="token operator">&lt;</span><span class="token constant">F</span><span class="token punctuation">,</span> FirstAsArray<span class="token operator">&lt;</span><span class="token constant">P</span><span class="token operator">></span><span class="token punctuation">,</span> Curry<span class="token operator">&lt;</span><span class="token constant">F</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token operator">>></span>\n    <span class="token punctuation">:</span> <span class="token function-variable function">never</span>\n  <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token constant">P</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">R</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">F0</span> <span class="token operator">=</span> Curry<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> Date<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// () => Date</span>\n<span class="token keyword">type</span> <span class="token constant">F1</span> <span class="token operator">=</span> Curry<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> Date<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// (a: number) => Date</span>\n<span class="token keyword">type</span> <span class="token constant">F2</span> <span class="token operator">=</span> Curry<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> Date<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// (a: number) => (b: string) => Date</span>\n<span class="token keyword">type</span> <span class="token constant">F3</span> <span class="token operator">=</span> Curry<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> c<span class="token punctuation">:</span> <span class="token builtin">boolean</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> Date<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// (a: number) => (b: string) => (c: boolean) => Date</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试二十一"><a href="#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81%E4%B8%80" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试二十一</h1>\n<p>实现一个 Merge 工具类型，用于把两个类型合并成一个新的类型。第二种类型（SecondType）的 Keys 将会覆盖第一种类型（FirstType）的 Keys。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="80866443832718030000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Foo = {\n   a: number;\n   b: string;\n};\n\ntype Bar = {\n   b: number;\n};\n\ntype Merge<FirstType, SecondType> = // 你的实现代码\n\nconst ab: Merge<Foo, Bar> = { a: 1, b: 2 };`, `80866443832718030000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Foo <span class="token operator">=</span> <span class="token punctuation">{</span>\n   a<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n   b<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> Bar <span class="token operator">=</span> <span class="token punctuation">{</span>\n   b<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> Merge<span class="token operator">&lt;</span>FirstType<span class="token punctuation">,</span> SecondType<span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">const</span> ab<span class="token punctuation">:</span> Merge<span class="token operator">&lt;</span>Foo<span class="token punctuation">,</span> Bar<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-13"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-13" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="67048328729649700000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type ExtractKeys<T> = {\n  [K in keyof T]: K;\n}[keyof T];\n\ntype Merge<FirstType, SecondType> = {\n  [K in keyof FirstType]: K extends ExtractKeys<SecondType> ? SecondType[K] : FirstType[K];\n} &\n  SecondType;`, `67048328729649700000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> ExtractKeys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">K</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> Merge<span class="token operator">&lt;</span>FirstType<span class="token punctuation">,</span> SecondType<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> FirstType<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">ExtractKeys</span><span class="token operator">&lt;</span>SecondType<span class="token operator">></span> <span class="token operator">?</span> SecondType<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> FirstType<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span> <span class="token operator">&amp;</span>\n  SecondType<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答一-4"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%80-4" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答一</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="68417168365403190000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Merge<FirstType, SecondType> = Omit<FirstType, keyof SecondType> & SecondType;`, `68417168365403190000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Merge<span class="token operator">&lt;</span>FirstType<span class="token punctuation">,</span> SecondType<span class="token operator">></span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>FirstType<span class="token punctuation">,</span> <span class="token keyword">keyof</span> SecondType<span class="token operator">></span> <span class="token operator">&amp;</span> SecondType<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<h2 id="最佳解答二-4"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%BA%8C-4" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答二</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="569987412101946560"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Merge<FirstType, SecondType> = {\n  [K in keyof (FirstType & SecondType)]: K extends keyof SecondType\n    ? SecondType[K]\n    : K extends keyof FirstType\n    ? FirstType[K]\n    : never;\n};`, `569987412101946560`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Merge<span class="token operator">&lt;</span>FirstType<span class="token punctuation">,</span> SecondType<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token punctuation">(</span>FirstType <span class="token operator">&amp;</span> SecondType<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> SecondType\n    <span class="token operator">?</span> SecondType<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span>\n    <span class="token punctuation">:</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> FirstType\n    <span class="token operator">?</span> FirstType<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span>\n    <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试二十二"><a href="#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81%E4%BA%8C" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试二十二</h1>\n<p>实现一个 RequireAtLeastOne 工具类型，它将创建至少含有一个给定 Keys 的类型，其余的 Keys 保持原样。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="22753796549931725000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Responder = {\n   text?: () => string;\n   json?: () => string;\n   secure?: boolean;\n};\n\ntype RequireAtLeastOne<\n    ObjectType,\n    KeysType extends keyof ObjectType = keyof ObjectType,\n> = // 你的实现代码\n\n// 表示当前类型至少包含 \'text\' 或 \'json\' 键\nconst responder: RequireAtLeastOne<Responder, \'text\' | \'json\'> = {\n    json: () => \'{&quot;message&quot;: &quot;ok&quot;}\',\n    secure: true\n};`, `22753796549931725000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Responder <span class="token operator">=</span> <span class="token punctuation">{</span>\n   text<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n   json<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n   secure<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> RequireAtLeastOne<span class="token operator">&lt;</span>\n    ObjectType<span class="token punctuation">,</span>\n    KeysType <span class="token keyword">extends</span> <span class="token class-name">keyof</span> ObjectType <span class="token operator">=</span> <span class="token keyword">keyof</span> ObjectType<span class="token punctuation">,</span>\n<span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token comment">// 表示当前类型至少包含 \'text\' 或 \'json\' 键</span>\n<span class="token keyword">const</span> responder<span class="token punctuation">:</span> RequireAtLeastOne<span class="token operator">&lt;</span>Responder<span class="token punctuation">,</span> <span class="token string">\'text\'</span> <span class="token operator">|</span> <span class="token string">\'json\'</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token function-variable function">json</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">\'{"message": "ok"}\'</span><span class="token punctuation">,</span>\n    secure<span class="token punctuation">:</span> <span class="token boolean">true</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答一-5"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%80-5" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答一</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="26755661278178630000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// 这里利用了联合类型作为泛型是 extends 会分发处理的特性，之后将去掉某个属性的类型与只有某个属性，且必填的类型做交叉合并\ntype RequireAtLeastOne<ObjectType, KeysType extends keyof ObjectType = keyof ObjectType> = KeysType extends string\n  ? Omit<ObjectType, KeysType> & Required<Pick<ObjectType, KeysType>>\n  : never;`, `26755661278178630000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// 这里利用了联合类型作为泛型是 extends 会分发处理的特性，之后将去掉某个属性的类型与只有某个属性，且必填的类型做交叉合并</span>\n<span class="token keyword">type</span> RequireAtLeastOne<span class="token operator">&lt;</span>ObjectType<span class="token punctuation">,</span> KeysType <span class="token keyword">extends</span> <span class="token class-name">keyof</span> ObjectType <span class="token operator">=</span> <span class="token keyword">keyof</span> ObjectType<span class="token operator">></span> <span class="token operator">=</span> KeysType <span class="token keyword">extends</span> <span class="token class-name">string</span>\n  <span class="token operator">?</span> Omit<span class="token operator">&lt;</span>ObjectType<span class="token punctuation">,</span> KeysType<span class="token operator">></span> <span class="token operator">&amp;</span> Required<span class="token operator">&lt;</span>Pick<span class="token operator">&lt;</span>ObjectType<span class="token punctuation">,</span> KeysType<span class="token operator">>></span>\n  <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答二-5"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%BA%8C-5" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答二</h2>\n<p><code class="language-text">{[k in KeysType]: ...}[KeysType]</code> 具体的作用是取出具体的键值，也就是 <code class="language-text">Required&lt;Pick&lt;ObjectType, k&gt;&gt;</code> 部分</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="18461320072877240000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type RequireAtLeastOne<ObjectType, KeysType extends keyof ObjectType = keyof ObjectType> = Omit<ObjectType, KeysType> &\n  {\n    [K in KeysType]: Required<Pick<ObjectType, K>>;\n  }[KeysType];`, `18461320072877240000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> RequireAtLeastOne<span class="token operator">&lt;</span>ObjectType<span class="token punctuation">,</span> KeysType <span class="token keyword">extends</span> <span class="token class-name">keyof</span> ObjectType <span class="token operator">=</span> <span class="token keyword">keyof</span> ObjectType<span class="token operator">></span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>ObjectType<span class="token punctuation">,</span> KeysType<span class="token operator">></span> <span class="token operator">&amp;</span>\n  <span class="token punctuation">{</span>\n    <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> KeysType<span class="token punctuation">]</span><span class="token punctuation">:</span> Required<span class="token operator">&lt;</span>Pick<span class="token operator">&lt;</span>ObjectType<span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">>></span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">[</span>KeysType<span class="token punctuation">]</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试二十三"><a href="#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81%E4%B8%89" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试二十三</h1>\n<p>实现一个 RemoveIndexSignature 工具类型，用于移除已有类型中的索引签名。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="2321488944328775700"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`interface Foo {\n  [key: string]: any;\n  [key: number]: any;\n  bar(): void;\n}\n\ntype RemoveIndexSignature<T> = // 你的实现代码\n\ntype FooWithOnlyBar = RemoveIndexSignature<Foo>; //{ bar: () => void; }`, `2321488944328775700`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">[</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>\n  <span class="token punctuation">[</span>key<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>\n  <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">type</span> RemoveIndexSignature<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> FooWithOnlyBar <span class="token operator">=</span> RemoveIndexSignature<span class="token operator">&lt;</span>Foo<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">//{ bar: () => void; }</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-12"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-12" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<p>这里利用的是 <code class="language-text">[k in as]</code> 的用法。as 过的语法可以直接实现对 k 的判断过滤，基于<code class="language-text">&#39;a&#39; extends string</code> 但 string 没有 <code class="language-text">extends &#39;a&#39;</code>。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="59946194294953270000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type b = &quot;a&quot; extends string ? true : false; // true\ntype c = string extends &quot;a&quot; ? true : false; // false\ntype d = string extends string ? true : false; // true\n\ninterface Foo {\n  [key: string]: any;\n  [key: number]: any;\n  [key: symbol]: any;\n  bar(): void;\n}\n\ntype RemoveIndexSignature<T> = {\n  [K in keyof T as string extends K\n    ? never\n    : number extends K\n    ? never\n    : symbol extends K\n    ? never\n    : K]: T[K];\n};\n\ntype FooWithOnlyBar = RemoveIndexSignature<Foo>; //{ bar: () => void; }`, `59946194294953270000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> b <span class="token operator">=</span> <span class="token string">"a"</span> <span class="token keyword">extends</span> <span class="token class-name">string</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> c <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token keyword">extends</span> <span class="token string">"a"</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> d <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token keyword">extends</span> <span class="token class-name">string</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n\n<span class="token keyword">interface</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">[</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>\n  <span class="token punctuation">[</span>key<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>\n  <span class="token punctuation">[</span>key<span class="token punctuation">:</span> <span class="token builtin">symbol</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>\n  <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">type</span> RemoveIndexSignature<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span> <span class="token keyword">as</span> <span class="token builtin">string</span> <span class="token keyword">extends</span> <span class="token class-name">K</span>\n    <span class="token operator">?</span> <span class="token builtin">never</span>\n    <span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token keyword">extends</span> <span class="token class-name">K</span>\n    <span class="token operator">?</span> <span class="token builtin">never</span>\n    <span class="token punctuation">:</span> <span class="token builtin">symbol</span> <span class="token keyword">extends</span> <span class="token class-name">K</span>\n    <span class="token operator">?</span> <span class="token builtin">never</span>\n    <span class="token punctuation">:</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> FooWithOnlyBar <span class="token operator">=</span> RemoveIndexSignature<span class="token operator">&lt;</span>Foo<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">//{ bar: () => void; }</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试二十四"><a href="#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81%E5%9B%9B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试二十四</h1>\n<p>实现一个 Mutable 工具类型，用于移除对象类型上所有属性或部分属性的 readonly 修饰符。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="6462293926714691000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Foo = {\n  readonly a: number;\n  readonly b: string;\n  readonly c: boolean;\n};\n\ntype Mutable<T, Keys extends keyof T = keyof T> = // 你的实现代码\n\nconst mutableFoo: Mutable<Foo, \'a\'> = { a: 1, b: \'2\', c: true };\n\nmutableFoo.a = 3; // OK\nmutableFoo.b = \'6\'; // Cannot assign to \'b\' because it is a read-only property.`, `6462293926714691000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Foo <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token keyword">readonly</span> a<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  <span class="token keyword">readonly</span> b<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  <span class="token keyword">readonly</span> c<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> Mutable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> Keys <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token constant">T</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">const</span> mutableFoo<span class="token punctuation">:</span> Mutable<span class="token operator">&lt;</span>Foo<span class="token punctuation">,</span> <span class="token string">\'a\'</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token string">\'2\'</span><span class="token punctuation">,</span> c<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\nmutableFoo<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>\nmutableFoo<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token string">\'6\'</span><span class="token punctuation">;</span> <span class="token comment">// Cannot assign to \'b\' because it is a read-only property.</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-13"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-13" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="64219143169319690000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Foo = {\n  readonly a: number;\n  readonly b: string;\n  readonly c: boolean;\n};\n\ntype Mutable<T, Keys extends keyof T = keyof T> = {\n  -readonly [K in Keys]: T[K];\n} &\n  Omit<T, Keys>;\n\nconst mutableFoo: Mutable<Foo, \'a\'> = { a: 1, b: \'2\', c: true };\n\nmutableFoo.a = 3; // OK\nmutableFoo.b = \'6\'; // Cannot assign to \'b\' because it is a read-only property.`, `64219143169319690000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Foo <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token keyword">readonly</span> a<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  <span class="token keyword">readonly</span> b<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  <span class="token keyword">readonly</span> c<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> Mutable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> Keys <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token constant">T</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token operator">-</span><span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> Keys<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span> <span class="token operator">&amp;</span>\n  Omit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> Keys<span class="token operator">></span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> mutableFoo<span class="token punctuation">:</span> Mutable<span class="token operator">&lt;</span>Foo<span class="token punctuation">,</span> <span class="token string">\'a\'</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token string">\'2\'</span><span class="token punctuation">,</span> c<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\nmutableFoo<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>\nmutableFoo<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token string">\'6\'</span><span class="token punctuation">;</span> <span class="token comment">// Cannot assign to \'b\' because it is a read-only property.</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试二十五"><a href="#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81%E4%BA%94" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试二十五</h1>\n<p>实现一个 IsUnion 工具类型，判断指定的类型是否为联合类型。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="35314282543997067000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type IsUnion<T, U = T> = // 你的实现代码\n\ntype I0 = IsUnion<string|number> // true\ntype I1 = IsUnion<string|never> // false\ntype I2 = IsUnion<string|unknown> // false`, `35314282543997067000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> IsUnion<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token operator">=</span> <span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> <span class="token constant">I0</span> <span class="token operator">=</span> IsUnion<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">|</span><span class="token builtin">number</span><span class="token operator">></span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">I1</span> <span class="token operator">=</span> IsUnion<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">|</span><span class="token builtin">never</span><span class="token operator">></span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">I2</span> <span class="token operator">=</span> IsUnion<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">|</span><span class="token builtin">unknown</span><span class="token operator">></span> <span class="token comment">// false</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-14"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-14" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<ol>\n<li>联合类型作为泛型的时候 extends 会触发分发执行</li>\n<li>联合类型 T 写成 <code class="language-text">[T]</code> 就变成了普通类型，extends 的时候不会分发执行</li>\n</ol>\n<p>这里第一步的 T extends any 肯定为真，这个其实就是利用其分发的特性，后面的 <code class="language-text">[T]</code> 就是一个联合类型拆开后的某一个，因此如果是联合类型的话 <code class="language-text">[U] extends [T]</code> 一定为否</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="81205038485775630000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type a = string | number extends string ? true : false; // false\n\ntype IsUnion<T, U = T> = T extends any ? ([U] extends [T] ? false : true) : never;\n\ntype I0 = IsUnion<string | number>; // true\ntype I1 = IsUnion<string | never>; // false\ntype I2 = IsUnion<string | unknown>; // false`, `81205038485775630000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> a <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token keyword">extends</span> <span class="token class-name">string</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n\n<span class="token keyword">type</span> IsUnion<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token operator">=</span> <span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token constant">U</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">I0</span> <span class="token operator">=</span> IsUnion<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">I1</span> <span class="token operator">=</span> IsUnion<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">never</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">I2</span> <span class="token operator">=</span> IsUnion<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">unknown</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试二十六"><a href="#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81%E5%85%AD" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试二十六</h1>\n<p>实现一个 IsNever 工具类型，判断指定的类型是否为 never 类型。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="32356859582423757000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type I0 = IsNever<never>; // true\ntype I1 = IsNever<never | string>; // false\ntype I2 = IsNever<null>; // false`, `32356859582423757000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> <span class="token constant">I0</span> <span class="token operator">=</span> IsNever<span class="token operator">&lt;</span><span class="token builtin">never</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">I1</span> <span class="token operator">=</span> IsNever<span class="token operator">&lt;</span><span class="token builtin">never</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">I2</span> <span class="token operator">=</span> IsNever<span class="token operator">&lt;</span><span class="token keyword">null</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-14"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-14" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="27332058295505625000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type IsNever<T> = [T] extends [never] ? true : false;\ntype I0 = IsNever<never>; // true\ntype I1 = IsNever<never | string>; // false\ntype I2 = IsNever<null>; // false`, `27332058295505625000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> IsNever<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token builtin">never</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n<span class="token keyword">type</span> <span class="token constant">I0</span> <span class="token operator">=</span> IsNever<span class="token operator">&lt;</span><span class="token builtin">never</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">I1</span> <span class="token operator">=</span> IsNever<span class="token operator">&lt;</span><span class="token builtin">never</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">I2</span> <span class="token operator">=</span> IsNever<span class="token operator">&lt;</span><span class="token keyword">null</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-15"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-15" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<p>利用 isEqual</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="93595719111776290000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type IsEqual<T, U> = (<G>() => G extends T ? 1 : 2) extends <G>() => G extends U ? 1 : 2 ? true : false;\ntype IsNever<T> = IsEqual<T, never>;\ntype I0 = IsNever<never>; // true\ntype I1 = IsNever<never | string>; // false\ntype I2 = IsNever<null>; // false`, `93595719111776290000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> IsEqual<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token constant">G</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">G</span> <span class="token keyword">extends</span> <span class="token class-name">T</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">extends</span> <span class="token operator">&lt;</span><span class="token constant">G</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">G</span> <span class="token keyword">extends</span> <span class="token class-name">U</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">2</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n<span class="token keyword">type</span> IsNever<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> IsEqual<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token builtin">never</span><span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token keyword">type</span> <span class="token constant">I0</span> <span class="token operator">=</span> IsNever<span class="token operator">&lt;</span><span class="token builtin">never</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">I1</span> <span class="token operator">=</span> IsNever<span class="token operator">&lt;</span><span class="token builtin">never</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">I2</span> <span class="token operator">=</span> IsNever<span class="token operator">&lt;</span><span class="token keyword">null</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试二十七"><a href="#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81%E4%B8%83" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试二十七</h1>\n<p>实现一个 Reverse 工具类型，用于对元组类型中元素的位置颠倒，并返回该数组。元组的第一个元素会变成最后一个，最后一个元素变成第一个。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="54339601182912815000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Reverse<\n  T extends Array<any>,\n  R extends Array<any> = []\n> = // 你的实现代码\n\ntype R0 = Reverse<[]> // []\ntype R1 = Reverse<[1, 2, 3]> // [3, 2, 1]`, `54339601182912815000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Reverse<span class="token operator">&lt;</span>\n  <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span><span class="token punctuation">,</span>\n  <span class="token constant">R</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>\n<span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> <span class="token constant">R0</span> <span class="token operator">=</span> Reverse<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token comment">// []</span>\n<span class="token keyword">type</span> <span class="token constant">R1</span> <span class="token operator">=</span> Reverse<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token comment">// [3, 2, 1]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答一-6"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%80-6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答一</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="22325603676546970000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Reverse<T extends Array<any>, R extends Array<any> = []> = T extends [infer First, ...(infer Rest)]\n  ? Reverse<Rest, [First, ...R]>\n  : R;\n\ntype R0 = Reverse<[]>; // []\ntype R1 = Reverse<[1, 2, 3]>; // [3, 2, 1]`, `22325603676546970000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Reverse<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token constant">R</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span>infer First<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">(</span>infer Rest<span class="token punctuation">)</span><span class="token punctuation">]</span>\n  <span class="token operator">?</span> Reverse<span class="token operator">&lt;</span>Rest<span class="token punctuation">,</span> <span class="token punctuation">[</span>First<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token constant">R</span><span class="token punctuation">]</span><span class="token operator">></span>\n  <span class="token punctuation">:</span> <span class="token constant">R</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">R0</span> <span class="token operator">=</span> Reverse<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// []</span>\n<span class="token keyword">type</span> <span class="token constant">R1</span> <span class="token operator">=</span> Reverse<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [3, 2, 1]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答二-6"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%BA%8C-6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答二</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="19548541033565160000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Reverse<T extends Array<any>, R extends Array<any> = []> = T extends [infer First, ...(infer Rest)]\n  ? [...Reverse<Rest>, First]\n  : [];\n\ntype R0 = Reverse<[]>; // []\ntype R1 = Reverse<[1, 2, 3]>; // [3, 2, 1]`, `19548541033565160000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Reverse<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token constant">R</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span>infer First<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">(</span>infer Rest<span class="token punctuation">)</span><span class="token punctuation">]</span>\n  <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token operator">...</span>Reverse<span class="token operator">&lt;</span>Rest<span class="token operator">></span><span class="token punctuation">,</span> First<span class="token punctuation">]</span>\n  <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">R0</span> <span class="token operator">=</span> Reverse<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// []</span>\n<span class="token keyword">type</span> <span class="token constant">R1</span> <span class="token operator">=</span> Reverse<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [3, 2, 1]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试二十八"><a href="#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81%E5%85%AB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试二十八</h1>\n<p>实现一个 Split 工具类型，根据给定的分隔符（Delimiter）对包含分隔符的字符串进行切割。可用于定义 String.prototype.split 方法的返回值类型。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="16113950919272767000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Item = \'semlinker,lolo,kakuqo\';\n\ntype Split<\n   S extends string,\n   Delimiter extends string,\n> = // 你的实现代码\n\ntype ElementType = Split<Item, \',\'>; // [&quot;semlinker&quot;, &quot;lolo&quot;, &quot;kakuqo&quot;]`, `16113950919272767000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Item <span class="token operator">=</span> <span class="token string">\'semlinker,lolo,kakuqo\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> Split<span class="token operator">&lt;</span>\n   <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span>\n   Delimiter <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span>\n<span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> ElementType <span class="token operator">=</span> Split<span class="token operator">&lt;</span>Item<span class="token punctuation">,</span> <span class="token string">\',\'</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// ["semlinker", "lolo", "kakuqo"]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-15"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-15" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="59885807348418710000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Item = \'semlinker,lolo,kakuqo\';\n\ntype Split<\n   S extends string,\n   Delimiter extends string,\n> = S extends \\`\\${infer A}\\${Delimiter}\\${infer B}\\` ? [A, ...Split<B, Delimiter>] : [S]\n\ntype ElementType = Split<Item, \',\'>; // [&quot;semlinker&quot;, &quot;lolo&quot;, &quot;kakuqo&quot;]`, `59885807348418710000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Item <span class="token operator">=</span> <span class="token string">\'semlinker,lolo,kakuqo\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> Split<span class="token operator">&lt;</span>\n   <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span>\n   Delimiter <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span>\n<span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infer <span class="token constant">A</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Delimiter<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infer <span class="token constant">B</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token operator">...</span>Split<span class="token operator">&lt;</span><span class="token constant">B</span><span class="token punctuation">,</span> Delimiter<span class="token operator">></span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token constant">S</span><span class="token punctuation">]</span>\n\n<span class="token keyword">type</span> ElementType <span class="token operator">=</span> Split<span class="token operator">&lt;</span>Item<span class="token punctuation">,</span> <span class="token string">\',\'</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// ["semlinker", "lolo", "kakuqo"]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试二十九"><a href="#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81%E4%B9%9D" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试二十九</h1>\n<p>实现一个 ToPath 工具类型，用于把属性访问（. 或 []）路径转换为元组的形式。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="74190093895828060000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type ToPath<S extends string> = // 你的实现代码\n\nToPath<\'foo.bar.baz\'> //=> [\'foo\', \'bar\', \'baz\']\nToPath<\'foo[0].bar.baz\'> //=> [\'foo\', \'0\', \'bar\', \'baz\']`, `74190093895828060000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> ToPath<span class="token operator">&lt;</span><span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\nToPath<span class="token operator">&lt;</span><span class="token string">\'foo.bar.baz\'</span><span class="token operator">></span> <span class="token comment">//=> [\'foo\', \'bar\', \'baz\']</span>\nToPath<span class="token operator">&lt;</span><span class="token string">\'foo[0].bar.baz\'</span><span class="token operator">></span> <span class="token comment">//=> [\'foo\', \'0\', \'bar\', \'baz\']</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-16"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-16" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="90926750171971850000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type ToPath<S extends string> = S extends \\`\\${infer A}.\\${infer B}\\`\n  ? [...ToPath<A>, ...ToPath<B>]\n  : S extends \\`\\${infer A}[\\${infer B}]\\`\n  ? [...ToPath<A>, ...ToPath<B>]\n  : [S];\n\ntype a = ToPath<&quot;foo.bar.baz&quot;>; //=> [\'foo\', \'bar\', \'baz\']\ntype b = ToPath<&quot;foo[0].bar.baz&quot;>; //=> [\'foo\', \'0\', \'bar\', \'baz\']`, `90926750171971850000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> ToPath<span class="token operator">&lt;</span><span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infer <span class="token constant">A</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infer <span class="token constant">B</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>\n  <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token operator">...</span>ToPath<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">...</span>ToPath<span class="token operator">&lt;</span><span class="token constant">B</span><span class="token operator">></span><span class="token punctuation">]</span>\n  <span class="token punctuation">:</span> <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infer <span class="token constant">A</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">[</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infer <span class="token constant">B</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">]</span><span class="token template-punctuation string">`</span></span>\n  <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token operator">...</span>ToPath<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">...</span>ToPath<span class="token operator">&lt;</span><span class="token constant">B</span><span class="token operator">></span><span class="token punctuation">]</span>\n  <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token constant">S</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> a <span class="token operator">=</span> ToPath<span class="token operator">&lt;</span><span class="token string">"foo.bar.baz"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">//=> [\'foo\', \'bar\', \'baz\']</span>\n<span class="token keyword">type</span> b <span class="token operator">=</span> ToPath<span class="token operator">&lt;</span><span class="token string">"foo[0].bar.baz"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">//=> [\'foo\', \'0\', \'bar\', \'baz\']</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试三十"><a href="#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试三十</h1>\n<p>完善 Chainable 类型的定义，使得 TS 能成功推断出 result 变量的类型。调用 option 方法之后会不断扩展当前对象的类型，使得调用 get 方法后能获取正确的类型。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="24426532383269150000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`declare const config: Chainable;\n\ntype Chainable = {\n  option(key: string, value: any): any;\n  get(): any;\n};\n\nconst result = config.option(\'age\', 7).option(\'name\', \'lolo\').option(\'address\', { value: \'XiaMen\' }).get();\n\ntype ResultType = typeof result;\n// 期望 ResultType 的类型是：\n// {\n//   age: number\n//   name: string\n//   address: {\n//     value: string\n//   }\n// }`, `24426532383269150000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">const</span> config<span class="token punctuation">:</span> Chainable<span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> Chainable <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token function">option</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>\n  <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> result <span class="token operator">=</span> config<span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">\'age\'</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">\'name\'</span><span class="token punctuation">,</span> <span class="token string">\'lolo\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">\'address\'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token string">\'XiaMen\'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> ResultType <span class="token operator">=</span> <span class="token keyword">typeof</span> result<span class="token punctuation">;</span>\n<span class="token comment">// 期望 ResultType 的类型是：</span>\n<span class="token comment">// {</span>\n<span class="token comment">//   age: number</span>\n<span class="token comment">//   name: string</span>\n<span class="token comment">//   address: {</span>\n<span class="token comment">//     value: string</span>\n<span class="token comment">//   }</span>\n<span class="token comment">// }</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-16"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-16" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="441638677403277700"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`declare const config: Chainable;\n\ntype Chainable<T0 = {}> = {\n  option<T, U>(key: keyof T, value: U): Chainable<T0 & { [P in keyof T]: U }>;\n  get(): T0;\n};\n\nconst result = config.option(\'age\', 7).option(\'name\', \'lolo\').option(\'address\', { value: \'XiaMen\' }).get();\n\ntype ResultType = typeof result;\n// 期望 ResultType 的类型是：\n// {\n//   age: number\n//   name: string\n//   address: {\n//     value: string\n//   }\n// }`, `441638677403277700`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">const</span> config<span class="token punctuation">:</span> Chainable<span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> Chainable<span class="token operator">&lt;</span><span class="token constant">T0</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  option<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token constant">U</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Chainable<span class="token operator">&lt;</span><span class="token constant">T0</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">U</span> <span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">;</span>\n  <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T0</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> result <span class="token operator">=</span> config<span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">\'age\'</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">\'name\'</span><span class="token punctuation">,</span> <span class="token string">\'lolo\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">\'address\'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token string">\'XiaMen\'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> ResultType <span class="token operator">=</span> <span class="token keyword">typeof</span> result<span class="token punctuation">;</span>\n<span class="token comment">// 期望 ResultType 的类型是：</span>\n<span class="token comment">// {</span>\n<span class="token comment">//   age: number</span>\n<span class="token comment">//   name: string</span>\n<span class="token comment">//   address: {</span>\n<span class="token comment">//     value: string</span>\n<span class="token comment">//   }</span>\n<span class="token comment">// }</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试三十一"><a href="#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81%E4%B8%80" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试三十一</h1>\n<p>实现一个 Repeat 工具类型，用于根据类型变量 C 的值，重复 T 类型并以元组的形式返回新的类型。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="938734329505752700"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Repeat<T, C extends number> = // 你的实现代码\n\ntype R0 = Repeat<0, 0>; // []\ntype R1 = Repeat<1, 1>; // [1]\ntype R2 = Repeat<number, 2>; // [number, number]`, `938734329505752700`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Repeat<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">C</span> <span class="token keyword">extends</span> <span class="token class-name">number</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> <span class="token constant">R0</span> <span class="token operator">=</span> Repeat<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// []</span>\n<span class="token keyword">type</span> <span class="token constant">R1</span> <span class="token operator">=</span> Repeat<span class="token operator">&lt;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [1]</span>\n<span class="token keyword">type</span> <span class="token constant">R2</span> <span class="token operator">=</span> Repeat<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [number, number]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-17"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-17" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<p>和 PushArgument 的实现类似</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="94088555144662730000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Repeat<T, C extends number, U extends any[] = []> = U[\'length\'] extends C ? U : Repeat<T, C, [...U, T]>;\n\ntype R0 = Repeat<0, 0>; // []\ntype R1 = Repeat<1, 1>; // [1]\ntype R2 = Repeat<number, 2>; // [number, number]`, `94088555144662730000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Repeat<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">C</span> <span class="token keyword">extends</span> <span class="token class-name">number</span><span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">U</span><span class="token punctuation">[</span><span class="token string">\'length\'</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">C</span> <span class="token operator">?</span> <span class="token constant">U</span> <span class="token punctuation">:</span> Repeat<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">C</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">U</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">R0</span> <span class="token operator">=</span> Repeat<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// []</span>\n<span class="token keyword">type</span> <span class="token constant">R1</span> <span class="token operator">=</span> Repeat<span class="token operator">&lt;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [1]</span>\n<span class="token keyword">type</span> <span class="token constant">R2</span> <span class="token operator">=</span> Repeat<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [number, number]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试三十二"><a href="#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81%E4%BA%8C" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试三十二</h1>\n<p>实现一个 RepeatString 工具类型，用于根据类型变量 C 的值，重复 T 类型并以字符串的形式返回新的类型。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="76188854115498970000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type RepeatString<\n  T extends string,\n  C extends number,\n> = // 你的实现代码\n\ntype S0 = RepeatString<&quot;a&quot;, 0>; // \'\'\ntype S1 = RepeatString<&quot;a&quot;, 2>; // \'aa\'\ntype S2 = RepeatString<&quot;ab&quot;, 3>; // \'ababab\'`, `76188854115498970000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> RepeatString<span class="token operator">&lt;</span>\n  <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span>\n  <span class="token constant">C</span> <span class="token keyword">extends</span> <span class="token class-name">number</span><span class="token punctuation">,</span>\n<span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> <span class="token constant">S0</span> <span class="token operator">=</span> RepeatString<span class="token operator">&lt;</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// \'\'</span>\n<span class="token keyword">type</span> <span class="token constant">S1</span> <span class="token operator">=</span> RepeatString<span class="token operator">&lt;</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// \'aa\'</span>\n<span class="token keyword">type</span> <span class="token constant">S2</span> <span class="token operator">=</span> RepeatString<span class="token operator">&lt;</span><span class="token string">"ab"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// \'ababab\'</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-18"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-18" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<p>数字的比较只能利用数组的 length 属性来实现，字符串的 length 属性在 tsc 阶段无法获取到真实长度，只能得到 number 类型。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="75165975667186420000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type RepeatString<\n  T extends string,\n  C extends number,\n  U extends string = \'\',\n  V extends any[] = []\n> = V[\'length\'] extends C ? U : RepeatString<T, C, \\`\\${U}\\${T}\\`, [T, ...V]>\n\ntype S0 = RepeatString<&quot;a&quot;, 0>; // \'\'\ntype S1 = RepeatString<&quot;a&quot;, 2>; // \'aa\'\ntype S2 = RepeatString<&quot;ab&quot;, 3>; // \'ababab\'`, `75165975667186420000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> RepeatString<span class="token operator">&lt;</span>\n  <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span>\n  <span class="token constant">C</span> <span class="token keyword">extends</span> <span class="token class-name">number</span><span class="token punctuation">,</span>\n  <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token class-name">string</span> <span class="token operator">=</span> <span class="token string">\'\'</span><span class="token punctuation">,</span>\n  <span class="token constant">V</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>\n<span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">V</span><span class="token punctuation">[</span><span class="token string">\'length\'</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">C</span> <span class="token operator">?</span> <span class="token constant">U</span> <span class="token punctuation">:</span> RepeatString<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">C</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">U</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">T</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token constant">V</span><span class="token punctuation">]</span><span class="token operator">></span>\n\n<span class="token keyword">type</span> <span class="token constant">S0</span> <span class="token operator">=</span> RepeatString<span class="token operator">&lt;</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// \'\'</span>\n<span class="token keyword">type</span> <span class="token constant">S1</span> <span class="token operator">=</span> RepeatString<span class="token operator">&lt;</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// \'aa\'</span>\n<span class="token keyword">type</span> <span class="token constant">S2</span> <span class="token operator">=</span> RepeatString<span class="token operator">&lt;</span><span class="token string">"ab"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// \'ababab\'</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试三十三"><a href="#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81%E4%B8%89" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试三十三</h1>\n<p>实现一个 ToNumber 工具类型，用于实现把数值字符串类型转换为数值类型。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="13309983405019144000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type ToNumber<T extends string> = // 你的实现代码\n\ntype T0 = ToNumber<&quot;0&quot;>; // 0\ntype T1 = ToNumber<&quot;10&quot;>; // 10\ntype T2 = ToNumber<&quot;20&quot;>; // 20`, `13309983405019144000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> ToNumber<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> <span class="token constant">T0</span> <span class="token operator">=</span> ToNumber<span class="token operator">&lt;</span><span class="token string">"0"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 0</span>\n<span class="token keyword">type</span> <span class="token constant">T1</span> <span class="token operator">=</span> ToNumber<span class="token operator">&lt;</span><span class="token string">"10"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 10</span>\n<span class="token keyword">type</span> <span class="token constant">T2</span> <span class="token operator">=</span> ToNumber<span class="token operator">&lt;</span><span class="token string">"20"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 20</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-19"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-19" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<p>首先利用 TS 模板字符串把默认数组 S 的长度转为字符串，之后那这个字符串和 T 比较，若相等，表示当前 S 的长度和传入的字符串所对应的数值相等 (如，“15” —> 15)，否则增加 S 的长度，进行下一次 ToNumber 判断</p>\n<p>不过这种方式可能会出现一个警告：<code class="language-text">Type instantiation is excessively deep and possibly infinite. ts(2589)</code>，因为字符串过大时，可能会导致递归次数变多，个人认为可以忽略此错误</p>\n<p>基本上，这种和数组有关系的类型，都需要构建一个辅助数组来进行判断</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="69555333878301065000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type ToNumber<T extends string, S extends any[] = [], L extends number = S[\'length\']> =\n  \\`\\${L}\\` extends T ? L : ToNumber<T, [...S, any]>\n\ntype T0 = ToNumber<&quot;0&quot;>; // 0\ntype T1 = ToNumber<&quot;10&quot;>; // 10\ntype T2 = ToNumber<&quot;20&quot;>; // 20`, `69555333878301065000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> ToNumber<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span> <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">L</span> <span class="token keyword">extends</span> <span class="token class-name">number</span> <span class="token operator">=</span> <span class="token constant">S</span><span class="token punctuation">[</span><span class="token string">\'length\'</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span>\n  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">L</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token keyword">extends</span> <span class="token class-name">T</span> <span class="token operator">?</span> <span class="token constant">L</span> <span class="token punctuation">:</span> ToNumber<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">S</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token punctuation">]</span><span class="token operator">></span>\n\n<span class="token keyword">type</span> <span class="token constant">T0</span> <span class="token operator">=</span> ToNumber<span class="token operator">&lt;</span><span class="token string">"0"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 0</span>\n<span class="token keyword">type</span> <span class="token constant">T1</span> <span class="token operator">=</span> ToNumber<span class="token operator">&lt;</span><span class="token string">"10"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 10</span>\n<span class="token keyword">type</span> <span class="token constant">T2</span> <span class="token operator">=</span> ToNumber<span class="token operator">&lt;</span><span class="token string">"20"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 20</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试三十四"><a href="#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81%E5%9B%9B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试三十四</h1>\n<p>实现一个 SmallerThan 工具类型，用于比较数值类型的大小。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="83799387760352540000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type SmallerThan<\n  N extends number,\n  M extends number,\n> = // 你的实现代码\n\ntype S0 = SmallerThan<0, 1>; // true\ntype S1 = SmallerThan<2, 0>; // false\ntype S2 = SmallerThan<8, 10>; // true`, `83799387760352540000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> SmallerThan<span class="token operator">&lt;</span>\n  <span class="token constant">N</span> <span class="token keyword">extends</span> <span class="token class-name">number</span><span class="token punctuation">,</span>\n  <span class="token constant">M</span> <span class="token keyword">extends</span> <span class="token class-name">number</span><span class="token punctuation">,</span>\n<span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> <span class="token constant">S0</span> <span class="token operator">=</span> SmallerThan<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">S1</span> <span class="token operator">=</span> SmallerThan<span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">S2</span> <span class="token operator">=</span> SmallerThan<span class="token operator">&lt;</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-20"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-20" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<p>依然是利用构造数组的长度来判断，体用递归逐步迭代，先和哪个数匹配上，哪个数就小，注意边界问题。这里要求的是第一个数小，如果相等，返回自然是 false</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="20762028576176927000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type SmallerThan<N extends number, M extends number, A extends any[] = []> = A[\'length\'] extends M\n  ? false\n  : A[\'length\'] extends N\n  ? true\n  : SmallerThan<N, M, [...A, any]>;\n\ntype S0 = SmallerThan<0, 1>; // true\ntype S1 = SmallerThan<2, 0>; // false\ntype S2 = SmallerThan<8, 10>; // true\ntype S3 = SmallerThan<8, 8>; // false`, `20762028576176927000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> SmallerThan<span class="token operator">&lt;</span><span class="token constant">N</span> <span class="token keyword">extends</span> <span class="token class-name">number</span><span class="token punctuation">,</span> <span class="token constant">M</span> <span class="token keyword">extends</span> <span class="token class-name">number</span><span class="token punctuation">,</span> <span class="token constant">A</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">[</span><span class="token string">\'length\'</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">M</span>\n  <span class="token operator">?</span> <span class="token boolean">false</span>\n  <span class="token punctuation">:</span> <span class="token constant">A</span><span class="token punctuation">[</span><span class="token string">\'length\'</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">N</span>\n  <span class="token operator">?</span> <span class="token boolean">true</span>\n  <span class="token punctuation">:</span> SmallerThan<span class="token operator">&lt;</span><span class="token constant">N</span><span class="token punctuation">,</span> <span class="token constant">M</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">S0</span> <span class="token operator">=</span> SmallerThan<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">S1</span> <span class="token operator">=</span> SmallerThan<span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">S2</span> <span class="token operator">=</span> SmallerThan<span class="token operator">&lt;</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">S3</span> <span class="token operator">=</span> SmallerThan<span class="token operator">&lt;</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试三十五"><a href="#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81%E4%BA%94" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试三十五</h1>\n<p>实现一个 Add 工具类型，用于实现对数值类型对应的数值进行加法运算。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="66693452686020470000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Add<T, R> = // 你的实现代码\n\ntype A0 = Add<5, 5>; // 10\ntype A1 = Add<8, 20> // 28\ntype A2 = Add<10, 30>; // 40`, `66693452686020470000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Add<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> <span class="token constant">A0</span> <span class="token operator">=</span> Add<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 10</span>\n<span class="token keyword">type</span> <span class="token constant">A1</span> <span class="token operator">=</span> Add<span class="token operator">&lt;</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token operator">></span> <span class="token comment">// 28</span>\n<span class="token keyword">type</span> <span class="token constant">A2</span> <span class="token operator">=</span> Add<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 40</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-21"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-21" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="24495850797774630000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Repeat<T, C extends number, U extends any[] = []> = U[\'length\'] extends C ? U : Repeat<T, C, [...U, T]>;\n\ntype Add<T extends number, R extends number> = [...Repeat<any, T>, ...Repeat<any, R>][\'length\'];\n\ntype A0 = Add<5, 5>; // 10\ntype A1 = Add<8, 20>; // 28\ntype A2 = Add<10, 30>; // 40`, `24495850797774630000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Repeat<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">C</span> <span class="token keyword">extends</span> <span class="token class-name">number</span><span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">U</span><span class="token punctuation">[</span><span class="token string">\'length\'</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">C</span> <span class="token operator">?</span> <span class="token constant">U</span> <span class="token punctuation">:</span> Repeat<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">C</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">U</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> Add<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">number</span><span class="token punctuation">,</span> <span class="token constant">R</span> <span class="token keyword">extends</span> <span class="token class-name">number</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>Repeat<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">...</span>Repeat<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">\'length\'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">A0</span> <span class="token operator">=</span> Add<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 10</span>\n<span class="token keyword">type</span> <span class="token constant">A1</span> <span class="token operator">=</span> Add<span class="token operator">&lt;</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 28</span>\n<span class="token keyword">type</span> <span class="token constant">A2</span> <span class="token operator">=</span> Add<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 40</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试三十六"><a href="#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81%E5%85%AD" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试三十六</h1>\n<p>实现一个 Filter 工具类型，用于根据类型变量 F 的值进行类型过滤。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="94857974868991330000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Filter<T extends any[], F> = // 你的实现代码\n\ntype F0 = Filter<[6, &quot;lolo&quot;, 7, &quot;semlinker&quot;, false], number>; // [6, 7]\ntype F1 = Filter<[&quot;kakuqo&quot;, 2, [&quot;ts&quot;], &quot;lolo&quot;], string>; // [&quot;kakuqo&quot;, &quot;lolo&quot;]\ntype F2 = Filter<[0, true, any, &quot;abao&quot;], string>; // [any, &quot;abao&quot;]`, `94857974868991330000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Filter<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">F</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> <span class="token constant">F0</span> <span class="token operator">=</span> Filter<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">"lolo"</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">"semlinker"</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [6, 7]</span>\n<span class="token keyword">type</span> <span class="token constant">F1</span> <span class="token operator">=</span> Filter<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token string">"kakuqo"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"ts"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"lolo"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// ["kakuqo", "lolo"]</span>\n<span class="token keyword">type</span> <span class="token constant">F2</span> <span class="token operator">=</span> Filter<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token string">"abao"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [any, "abao"]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-22"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-22" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="44673708381238850000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Filter<T extends any[], F> = T extends [infer A, ...(infer B)]\n  ? [A] extends [F]\n    ? [A, ...Filter<B, F>]\n    : Filter<B, F>\n  : [];\n\ntype F0 = Filter<[6, \'lolo\', 7, \'semlinker\', false], number>; // [6, 7]\ntype F1 = Filter<[\'kakuqo\', 2, [\'ts\'], \'lolo\'], string>; // [&quot;kakuqo&quot;, &quot;lolo&quot;]\ntype F2 = Filter<[0, true, any, \'abao\'], string>; // [any, &quot;abao&quot;]\ntype F3 = Filter<[never, number | string, any, \'abao\'], string>; // [never, any, &quot;abao&quot;]`, `44673708381238850000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Filter<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">F</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span>infer <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">(</span>infer <span class="token constant">B</span><span class="token punctuation">)</span><span class="token punctuation">]</span>\n  <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token constant">F</span><span class="token punctuation">]</span>\n    <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token operator">...</span>Filter<span class="token operator">&lt;</span><span class="token constant">B</span><span class="token punctuation">,</span> <span class="token constant">F</span><span class="token operator">></span><span class="token punctuation">]</span>\n    <span class="token punctuation">:</span> Filter<span class="token operator">&lt;</span><span class="token constant">B</span><span class="token punctuation">,</span> <span class="token constant">F</span><span class="token operator">></span>\n  <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">F0</span> <span class="token operator">=</span> Filter<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">\'lolo\'</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">\'semlinker\'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [6, 7]</span>\n<span class="token keyword">type</span> <span class="token constant">F1</span> <span class="token operator">=</span> Filter<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token string">\'kakuqo\'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'ts\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">\'lolo\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// ["kakuqo", "lolo"]</span>\n<span class="token keyword">type</span> <span class="token constant">F2</span> <span class="token operator">=</span> Filter<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token string">\'abao\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [any, "abao"]</span>\n<span class="token keyword">type</span> <span class="token constant">F3</span> <span class="token operator">=</span> Filter<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token builtin">never</span><span class="token punctuation">,</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token string">\'abao\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [never, any, "abao"]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试三十七"><a href="#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81%E4%B8%83" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试三十七</h1>\n<p>实现一个 Flat 工具类型，支持把数组类型拍平（扁平化）。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="2412216150374102500"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Flat<T extends any[]> = // 你的实现代码\n\ntype F0 = Flat<[]> // []\ntype F1 = Flat<[\'a\', \'b\', \'c\']> // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]\ntype F2 = Flat<[\'a\', [\'b\', \'c\'], [\'d\', [\'e\', [\'f\']]]]> // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]`, `2412216150374102500`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Flat<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> <span class="token constant">F0</span> <span class="token operator">=</span> Flat<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token comment">// []</span>\n<span class="token keyword">type</span> <span class="token constant">F1</span> <span class="token operator">=</span> Flat<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token string">\'a\'</span><span class="token punctuation">,</span> <span class="token string">\'b\'</span><span class="token punctuation">,</span> <span class="token string">\'c\'</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token comment">// ["a", "b", "c"]</span>\n<span class="token keyword">type</span> <span class="token constant">F2</span> <span class="token operator">=</span> Flat<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token string">\'a\'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'b\'</span><span class="token punctuation">,</span> <span class="token string">\'c\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'d\'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'e\'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'f\'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token comment">// ["a", "b", "c", "d", "e", "f"]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-23"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-23" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="15562213090785870000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Flat<T extends any[]> = T extends [infer U, ...(infer V)]\n  ? U extends any[]\n    ? [...Flat<U>, ...Flat<V>]\n    : [U, ...Flat<V>]\n  : [];\n\ntype F0 = Flat<[]>; // []\ntype F1 = Flat<[\'a\', \'b\', \'c\']>; // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]\ntype F2 = Flat<[\'a\', [\'b\', \'c\'], [\'d\', [\'e\', [\'f\']]]]>; // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]`, `15562213090785870000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Flat<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span>infer <span class="token constant">U</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">(</span>infer <span class="token constant">V</span><span class="token punctuation">)</span><span class="token punctuation">]</span>\n  <span class="token operator">?</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span>\n    <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token operator">...</span>Flat<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">...</span>Flat<span class="token operator">&lt;</span><span class="token constant">V</span><span class="token operator">></span><span class="token punctuation">]</span>\n    <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token constant">U</span><span class="token punctuation">,</span> <span class="token operator">...</span>Flat<span class="token operator">&lt;</span><span class="token constant">V</span><span class="token operator">></span><span class="token punctuation">]</span>\n  <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">F0</span> <span class="token operator">=</span> Flat<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// []</span>\n<span class="token keyword">type</span> <span class="token constant">F1</span> <span class="token operator">=</span> Flat<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token string">\'a\'</span><span class="token punctuation">,</span> <span class="token string">\'b\'</span><span class="token punctuation">,</span> <span class="token string">\'c\'</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// ["a", "b", "c"]</span>\n<span class="token keyword">type</span> <span class="token constant">F2</span> <span class="token operator">=</span> Flat<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token string">\'a\'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'b\'</span><span class="token punctuation">,</span> <span class="token string">\'c\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'d\'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'e\'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'f\'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// ["a", "b", "c", "d", "e", "f"]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试三十八"><a href="#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81%E5%85%AB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试三十八</h1>\n<p>实现 StartsWith 工具类型，判断字符串字面量类型 T 是否以给定的字符串字面量类型 U 开头，并根据判断结果返回布尔值。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="3145884113383612400"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type StartsWith<T extends string, U extends string> = // 你的实现代码\n\ntype S0 = StartsWith<\'123\', \'12\'> // true\ntype S1 = StartsWith<\'123\', \'13\'> // false\ntype S2 = StartsWith<\'123\', \'1234\'> // false`, `3145884113383612400`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> StartsWith<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> <span class="token constant">S0</span> <span class="token operator">=</span> StartsWith<span class="token operator">&lt;</span><span class="token string">\'123\'</span><span class="token punctuation">,</span> <span class="token string">\'12\'</span><span class="token operator">></span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">S1</span> <span class="token operator">=</span> StartsWith<span class="token operator">&lt;</span><span class="token string">\'123\'</span><span class="token punctuation">,</span> <span class="token string">\'13\'</span><span class="token operator">></span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">S2</span> <span class="token operator">=</span> StartsWith<span class="token operator">&lt;</span><span class="token string">\'123\'</span><span class="token punctuation">,</span> <span class="token string">\'1234\'</span><span class="token operator">></span> <span class="token comment">// false</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>此外，继续实现 EndsWith 工具类型，判断字符串字面量类型 T 是否以给定的字符串字面量类型 U 结尾，并根据判断结果返回布尔值。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="89322364581167140000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type EndsWith<T extends string, U extends string> = // 你的实现代码\n\ntype E0 = EndsWith<\'123\', \'23\'> // true\ntype E1 = EndsWith<\'123\', \'13\'> // false\ntype E2 = EndsWith<\'123\', \'123\'> // true`, `89322364581167140000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> EndsWith<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> <span class="token constant">E0</span> <span class="token operator">=</span> EndsWith<span class="token operator">&lt;</span><span class="token string">\'123\'</span><span class="token punctuation">,</span> <span class="token string">\'23\'</span><span class="token operator">></span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">E1</span> <span class="token operator">=</span> EndsWith<span class="token operator">&lt;</span><span class="token string">\'123\'</span><span class="token punctuation">,</span> <span class="token string">\'13\'</span><span class="token operator">></span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">E2</span> <span class="token operator">=</span> EndsWith<span class="token operator">&lt;</span><span class="token string">\'123\'</span><span class="token punctuation">,</span> <span class="token string">\'123\'</span><span class="token operator">></span> <span class="token comment">// true</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-17"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-17" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="12603613925813418000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type StartsWith<T extends string, U extends string> = T extends \\`\\${U}\\${string}\\`\n  ? true\n  : false;\n\ntype S0 = StartsWith<&quot;123&quot;, &quot;12&quot;>; // true\ntype S1 = StartsWith<&quot;123&quot;, &quot;13&quot;>; // false\ntype S2 = StartsWith<&quot;123&quot;, &quot;1234&quot;>; // false\n\ntype EndsWith<T extends string, U extends string> = T extends \\`\\${string}\\${U}\\`\n  ? true\n  : false;\n\ntype E0 = EndsWith<&quot;123&quot;, &quot;23&quot;>; // true\ntype E1 = EndsWith<&quot;123&quot;, &quot;13&quot;>; // false\ntype E2 = EndsWith<&quot;123&quot;, &quot;123&quot;>; // true`, `12603613925813418000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> StartsWith<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">U</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token builtin">string</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>\n  <span class="token operator">?</span> <span class="token boolean">true</span>\n  <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">S0</span> <span class="token operator">=</span> StartsWith<span class="token operator">&lt;</span><span class="token string">"123"</span><span class="token punctuation">,</span> <span class="token string">"12"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">S1</span> <span class="token operator">=</span> StartsWith<span class="token operator">&lt;</span><span class="token string">"123"</span><span class="token punctuation">,</span> <span class="token string">"13"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">S2</span> <span class="token operator">=</span> StartsWith<span class="token operator">&lt;</span><span class="token string">"123"</span><span class="token punctuation">,</span> <span class="token string">"1234"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n\n<span class="token keyword">type</span> EndsWith<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token builtin">string</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">U</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>\n  <span class="token operator">?</span> <span class="token boolean">true</span>\n  <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">E0</span> <span class="token operator">=</span> EndsWith<span class="token operator">&lt;</span><span class="token string">"123"</span><span class="token punctuation">,</span> <span class="token string">"23"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">E1</span> <span class="token operator">=</span> EndsWith<span class="token operator">&lt;</span><span class="token string">"123"</span><span class="token punctuation">,</span> <span class="token string">"13"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">E2</span> <span class="token operator">=</span> EndsWith<span class="token operator">&lt;</span><span class="token string">"123"</span><span class="token punctuation">,</span> <span class="token string">"123"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试三十九"><a href="#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81%E4%B9%9D" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试三十九</h1>\n<p>实现 IsAny 工具类型，用于判断类型 T 是否为 any 类型。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="88373653316347610000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type IsAny<T> = // 你的实现代码\n\ntype I0 = IsAny<never> // false\ntype I1 = IsAny<unknown> // false\ntype I2 = IsAny<any> // true`, `88373653316347610000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> IsAny<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> <span class="token constant">I0</span> <span class="token operator">=</span> IsAny<span class="token operator">&lt;</span><span class="token builtin">never</span><span class="token operator">></span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">I1</span> <span class="token operator">=</span> IsAny<span class="token operator">&lt;</span><span class="token builtin">unknown</span><span class="token operator">></span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">I2</span> <span class="token operator">=</span> IsAny<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span> <span class="token comment">// true</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答一-7"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%80-7" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答一</h2>\n<p>利用任何类型和 any 交叉都等于 any 来实现。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="62621675220955560000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type IsAny<T> = 0 extends 1 & T ? true : false;\n\ntype I0 = IsAny<never>; // false\ntype I1 = IsAny<unknown>; // false\ntype I2 = IsAny<any>; // true`, `62621675220955560000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> IsAny<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token keyword">extends</span> <span class="token class-name">1</span> <span class="token operator">&amp;</span> <span class="token constant">T</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">I0</span> <span class="token operator">=</span> IsAny<span class="token operator">&lt;</span><span class="token builtin">never</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">I1</span> <span class="token operator">=</span> IsAny<span class="token operator">&lt;</span><span class="token builtin">unknown</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">I2</span> <span class="token operator">=</span> IsAny<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答二-7"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%BA%8C-7" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答二</h2>\n<p>unknown 只能赋给 unknown 或者 any</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="88755573223511360000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type IsAny<T> = [unknown] extends [T] ? ([T] extends [string] ? true : false) : false;\n\ntype I0 = IsAny<never>; // false\ntype I1 = IsAny<unknown>; // false\ntype I2 = IsAny<any>; // true`, `88755573223511360000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> IsAny<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">unknown</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">I0</span> <span class="token operator">=</span> IsAny<span class="token operator">&lt;</span><span class="token builtin">never</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">I1</span> <span class="token operator">=</span> IsAny<span class="token operator">&lt;</span><span class="token builtin">unknown</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">I2</span> <span class="token operator">=</span> IsAny<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试四十"><a href="#%E6%B5%8B%E8%AF%95%E5%9B%9B%E5%8D%81" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试四十</h1>\n<p>实现 AnyOf 工具类型，只要数组中任意元素的类型非 Falsy 类型、 {} 类型或 [] 类型，则返回 true，否则返回 false。如果数组为空的话，则返回 false。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="77742513764987170000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type AnyOf<T extends any[]> = // 你的实现代码\n\ntype A0 = AnyOf<[]>; // false\ntype A1 = AnyOf<[0, &quot;&quot;, false, [], {}]> // false\ntype A2 = AnyOf<[1, &quot;&quot;, false, [], {}]> // true`, `77742513764987170000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> AnyOf<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> <span class="token constant">A0</span> <span class="token operator">=</span> AnyOf<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">A1</span> <span class="token operator">=</span> AnyOf<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">A2</span> <span class="token operator">=</span> AnyOf<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token comment">// true</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-24"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-24" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="8550217262811710000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type NotEmptyObject<T> = T extends {} ? ({} extends T ? false : true) : true;\ntype Flasy = 0 | \'\' | false | [];\ntype AnyOf<T extends any[]> = T extends [infer First, ...(infer Rest)]\n  ? [First] extends [Flasy]\n    ? AnyOf<Rest>\n    : NotEmptyObject<First>\n  : false;\n\ntype A0 = AnyOf<[]>; // false\ntype A1 = AnyOf<[0, \'\', false, [], {}]>; // false\ntype A2 = AnyOf<[1, \'\', false, [], {}]>; // true\ntype A3 = AnyOf<[0, \'\' | 2, false, [], {}]>; // true`, `8550217262811710000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> NotEmptyObject<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">extends</span> <span class="token class-name">T</span> <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n<span class="token keyword">type</span> Flasy <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">|</span> <span class="token string">\'\'</span> <span class="token operator">|</span> <span class="token boolean">false</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">type</span> AnyOf<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span>infer First<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">(</span>infer Rest<span class="token punctuation">)</span><span class="token punctuation">]</span>\n  <span class="token operator">?</span> <span class="token punctuation">[</span>First<span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span>Flasy<span class="token punctuation">]</span>\n    <span class="token operator">?</span> AnyOf<span class="token operator">&lt;</span>Rest<span class="token operator">></span>\n    <span class="token punctuation">:</span> NotEmptyObject<span class="token operator">&lt;</span>First<span class="token operator">></span>\n  <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">A0</span> <span class="token operator">=</span> AnyOf<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">A1</span> <span class="token operator">=</span> AnyOf<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">\'\'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">type</span> <span class="token constant">A2</span> <span class="token operator">=</span> AnyOf<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">\'\'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token keyword">type</span> <span class="token constant">A3</span> <span class="token operator">=</span> AnyOf<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">\'\'</span> <span class="token operator">|</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// true</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试四十一"><a href="#%E6%B5%8B%E8%AF%95%E5%9B%9B%E5%8D%81%E4%B8%80" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试四十一</h1>\n<p>实现 Replace 工具类型，用于实现字符串类型的替换操作。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="40991724759994550000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Replace<\n  S extends string,\n  From extends string,\n  To extends string\n> = // 你的实现代码\n\ntype R0 = Replace<\'\', \'\', \'\'> // \'\'\ntype R1 = Replace<\'foobar\', \'bar\', \'foo\'> // &quot;foofoo&quot;\ntype R2 = Replace<\'foobarbar\', \'bar\', \'foo\'> // &quot;foofoobar&quot;`, `40991724759994550000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Replace<span class="token operator">&lt;</span>\n  <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span>\n  From <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span>\n  To <span class="token keyword">extends</span> <span class="token class-name">string</span>\n<span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> <span class="token constant">R0</span> <span class="token operator">=</span> Replace<span class="token operator">&lt;</span><span class="token string">\'\'</span><span class="token punctuation">,</span> <span class="token string">\'\'</span><span class="token punctuation">,</span> <span class="token string">\'\'</span><span class="token operator">></span> <span class="token comment">// \'\'</span>\n<span class="token keyword">type</span> <span class="token constant">R1</span> <span class="token operator">=</span> Replace<span class="token operator">&lt;</span><span class="token string">\'foobar\'</span><span class="token punctuation">,</span> <span class="token string">\'bar\'</span><span class="token punctuation">,</span> <span class="token string">\'foo\'</span><span class="token operator">></span> <span class="token comment">// "foofoo"</span>\n<span class="token keyword">type</span> <span class="token constant">R2</span> <span class="token operator">=</span> Replace<span class="token operator">&lt;</span><span class="token string">\'foobarbar\'</span><span class="token punctuation">,</span> <span class="token string">\'bar\'</span><span class="token punctuation">,</span> <span class="token string">\'foo\'</span><span class="token operator">></span> <span class="token comment">// "foofoobar"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>此外，继续实现 ReplaceAll 工具类型，用于实现替换所有满足条件的子串。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="75325422524223360000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type ReplaceAll<\n  S extends string,\n  From extends string,\n  To extends string\n> = // 你的实现代码\n\ntype R0 = ReplaceAll<\'\', \'\', \'\'> // \'\'\ntype R1 = ReplaceAll<\'barfoo\', \'bar\', \'foo\'> // &quot;foofoo&quot;\ntype R2 = ReplaceAll<\'foobarbar\', \'bar\', \'foo\'> // &quot;foofoofoo&quot;\ntype R3 = ReplaceAll<\'foobarfoobar\', \'ob\', \'b\'> // &quot;fobarfobar&quot;`, `75325422524223360000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> ReplaceAll<span class="token operator">&lt;</span>\n  <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span>\n  From <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span>\n  To <span class="token keyword">extends</span> <span class="token class-name">string</span>\n<span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> <span class="token constant">R0</span> <span class="token operator">=</span> ReplaceAll<span class="token operator">&lt;</span><span class="token string">\'\'</span><span class="token punctuation">,</span> <span class="token string">\'\'</span><span class="token punctuation">,</span> <span class="token string">\'\'</span><span class="token operator">></span> <span class="token comment">// \'\'</span>\n<span class="token keyword">type</span> <span class="token constant">R1</span> <span class="token operator">=</span> ReplaceAll<span class="token operator">&lt;</span><span class="token string">\'barfoo\'</span><span class="token punctuation">,</span> <span class="token string">\'bar\'</span><span class="token punctuation">,</span> <span class="token string">\'foo\'</span><span class="token operator">></span> <span class="token comment">// "foofoo"</span>\n<span class="token keyword">type</span> <span class="token constant">R2</span> <span class="token operator">=</span> ReplaceAll<span class="token operator">&lt;</span><span class="token string">\'foobarbar\'</span><span class="token punctuation">,</span> <span class="token string">\'bar\'</span><span class="token punctuation">,</span> <span class="token string">\'foo\'</span><span class="token operator">></span> <span class="token comment">// "foofoofoo"</span>\n<span class="token keyword">type</span> <span class="token constant">R3</span> <span class="token operator">=</span> ReplaceAll<span class="token operator">&lt;</span><span class="token string">\'foobarfoobar\'</span><span class="token punctuation">,</span> <span class="token string">\'ob\'</span><span class="token punctuation">,</span> <span class="token string">\'b\'</span><span class="token operator">></span> <span class="token comment">// "fobarfobar"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-18"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-18" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="44123731929576910000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Replace<\n  S extends string,\n  From extends string,\n  To extends string\n> = S extends \\`\\${infer Head}\\${From}\\${infer Tail}\\` ? \\`\\${Head}\\${To}\\${Tail}\\` : S;\n\ntype R0 = Replace<&quot;&quot;, &quot;&quot;, &quot;&quot;>; // \'\'\ntype R1 = Replace<&quot;foobar&quot;, &quot;bar&quot;, &quot;foo&quot;>; // &quot;foofoo&quot;\ntype R2 = Replace<&quot;foobarbar&quot;, &quot;bar&quot;, &quot;foo&quot;>; // &quot;foofoobar&quot;\n\ntype ReplaceAll<\n  S extends string,\n  From extends string,\n  To extends string\n> = S extends \\`\\${infer Head}\\${From}\\${infer Tail}\\`\n  ? \\`\\${ReplaceAll<Head, From, To>}\\${To}\\${ReplaceAll<Tail, From, To>}\\`\n  : S;\n\ntype R0 = ReplaceAll<&quot;&quot;, &quot;&quot;, &quot;&quot;>; // \'\'\ntype R1 = ReplaceAll<&quot;barfoo&quot;, &quot;bar&quot;, &quot;foo&quot;>; // &quot;foofoo&quot;\ntype R2 = ReplaceAll<&quot;foobarbar&quot;, &quot;bar&quot;, &quot;foo&quot;>; // &quot;foofoofoo&quot;\ntype R3 = ReplaceAll<&quot;foobarfoobar&quot;, &quot;ob&quot;, &quot;b&quot;>; // &quot;fobarfobar&quot;`, `44123731929576910000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Replace<span class="token operator">&lt;</span>\n  <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span>\n  From <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span>\n  To <span class="token keyword">extends</span> <span class="token class-name">string</span>\n<span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infer Head<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>From<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infer Tail<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Head<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>To<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Tail<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">:</span> <span class="token constant">S</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">R0</span> <span class="token operator">=</span> Replace<span class="token operator">&lt;</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// \'\'</span>\n<span class="token keyword">type</span> <span class="token constant">R1</span> <span class="token operator">=</span> Replace<span class="token operator">&lt;</span><span class="token string">"foobar"</span><span class="token punctuation">,</span> <span class="token string">"bar"</span><span class="token punctuation">,</span> <span class="token string">"foo"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// "foofoo"</span>\n<span class="token keyword">type</span> <span class="token constant">R2</span> <span class="token operator">=</span> Replace<span class="token operator">&lt;</span><span class="token string">"foobarbar"</span><span class="token punctuation">,</span> <span class="token string">"bar"</span><span class="token punctuation">,</span> <span class="token string">"foo"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// "foofoobar"</span>\n\n<span class="token keyword">type</span> ReplaceAll<span class="token operator">&lt;</span>\n  <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span>\n  From <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">,</span>\n  To <span class="token keyword">extends</span> <span class="token class-name">string</span>\n<span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infer Head<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>From<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>infer Tail<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>\n  <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ReplaceAll<span class="token operator">&lt;</span>Head<span class="token punctuation">,</span> From<span class="token punctuation">,</span> To<span class="token operator">></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>To<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ReplaceAll<span class="token operator">&lt;</span>Tail<span class="token punctuation">,</span> From<span class="token punctuation">,</span> To<span class="token operator">></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>\n  <span class="token punctuation">:</span> <span class="token constant">S</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">R0</span> <span class="token operator">=</span> ReplaceAll<span class="token operator">&lt;</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// \'\'</span>\n<span class="token keyword">type</span> <span class="token constant">R1</span> <span class="token operator">=</span> ReplaceAll<span class="token operator">&lt;</span><span class="token string">"barfoo"</span><span class="token punctuation">,</span> <span class="token string">"bar"</span><span class="token punctuation">,</span> <span class="token string">"foo"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// "foofoo"</span>\n<span class="token keyword">type</span> <span class="token constant">R2</span> <span class="token operator">=</span> ReplaceAll<span class="token operator">&lt;</span><span class="token string">"foobarbar"</span><span class="token punctuation">,</span> <span class="token string">"bar"</span><span class="token punctuation">,</span> <span class="token string">"foo"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// "foofoofoo"</span>\n<span class="token keyword">type</span> <span class="token constant">R3</span> <span class="token operator">=</span> ReplaceAll<span class="token operator">&lt;</span><span class="token string">"foobarfoobar"</span><span class="token punctuation">,</span> <span class="token string">"ob"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// "fobarfobar"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试四十二"><a href="#%E6%B5%8B%E8%AF%95%E5%9B%9B%E5%8D%81%E4%BA%8C" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试四十二</h1>\n<p>实现 IndexOf 工具类型，用于获取数组类型中指定项的索引值。若不存在的话，则返回 -1 字面量类型。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="84051811363760850000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type IndexOf<A extends any[], Item> = // 你的实现代码\n\ntype Arr = [1, 2, 3, 4, 5]\ntype I0 = IndexOf<Arr, 0> // -1\ntype I1 = IndexOf<Arr, 1> // 0\ntype I2 = IndexOf<Arr, 3> // 2`, `84051811363760850000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> IndexOf<span class="token operator">&lt;</span><span class="token constant">A</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Item<span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token keyword">type</span> Arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>\n<span class="token keyword">type</span> <span class="token constant">I0</span> <span class="token operator">=</span> IndexOf<span class="token operator">&lt;</span>Arr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">></span> <span class="token comment">// -1</span>\n<span class="token keyword">type</span> <span class="token constant">I1</span> <span class="token operator">=</span> IndexOf<span class="token operator">&lt;</span>Arr<span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span> <span class="token comment">// 0</span>\n<span class="token keyword">type</span> <span class="token constant">I2</span> <span class="token operator">=</span> IndexOf<span class="token operator">&lt;</span>Arr<span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">></span> <span class="token comment">// 2</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-19"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-19" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="16339751806663006000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type IsEqual<T, U> = (<G>() => G extends T ? 1 : 2) extends <G>() => G extends U ? 1 : 2 ? true : false;\n\ntype IndexOf<A extends any[], Item, U extends any[] = []> = A extends [infer First, ...(infer Rest)]\n  ? IsEqual<First, Item> extends true\n    ? U[\'length\']\n    : IndexOf<Rest, Item, [...U, First]>\n  : -1;\n\ntype Arr = [1, 2, 3, 4, 5];\ntype I0 = IndexOf<Arr, 0>; // -1\ntype I1 = IndexOf<Arr, 1>; // 0\ntype I2 = IndexOf<Arr, 3>; // 2`, `16339751806663006000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> IsEqual<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token constant">G</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">G</span> <span class="token keyword">extends</span> <span class="token class-name">T</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">extends</span> <span class="token operator">&lt;</span><span class="token constant">G</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">G</span> <span class="token keyword">extends</span> <span class="token class-name">U</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">2</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> IndexOf<span class="token operator">&lt;</span><span class="token constant">A</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Item<span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token class-name">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span>infer First<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">(</span>infer Rest<span class="token punctuation">)</span><span class="token punctuation">]</span>\n  <span class="token operator">?</span> IsEqual<span class="token operator">&lt;</span>First<span class="token punctuation">,</span> Item<span class="token operator">></span> <span class="token keyword">extends</span> <span class="token class-name">true</span>\n    <span class="token operator">?</span> <span class="token constant">U</span><span class="token punctuation">[</span><span class="token string">\'length\'</span><span class="token punctuation">]</span>\n    <span class="token punctuation">:</span> IndexOf<span class="token operator">&lt;</span>Rest<span class="token punctuation">,</span> Item<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">U</span><span class="token punctuation">,</span> First<span class="token punctuation">]</span><span class="token operator">></span>\n  <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> Arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">type</span> <span class="token constant">I0</span> <span class="token operator">=</span> IndexOf<span class="token operator">&lt;</span>Arr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// -1</span>\n<span class="token keyword">type</span> <span class="token constant">I1</span> <span class="token operator">=</span> IndexOf<span class="token operator">&lt;</span>Arr<span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 0</span>\n<span class="token keyword">type</span> <span class="token constant">I2</span> <span class="token operator">=</span> IndexOf<span class="token operator">&lt;</span>Arr<span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 2</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试四十三"><a href="#%E6%B5%8B%E8%AF%95%E5%9B%9B%E5%8D%81%E4%B8%89" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试四十三</h1>\n<p>实现一个 Permutation 工具类型，当输入一个联合类型时，返回一个包含该联合类型的全排列类型数组。具体的使用示例如下所示：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="29454230587901950000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Permutation<T, K=T> = // 你的实现代码\n\n// [&quot;a&quot;, &quot;b&quot;] | [&quot;b&quot;, &quot;a&quot;]\ntype P0 = Permutation<\'a\' | \'b\'>  // [\'a\', \'b\'] | [\'b\' | \'a\']\n// type P1 = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;] | [&quot;a&quot;, &quot;c&quot;, &quot;b&quot;] | [&quot;b&quot;, &quot;a&quot;, &quot;c&quot;]\n// | [&quot;b&quot;, &quot;c&quot;, &quot;a&quot;] | [&quot;c&quot;, &quot;a&quot;, &quot;b&quot;] | [&quot;c&quot;, &quot;b&quot;, &quot;a&quot;]\ntype P1 = Permutation<\'a\' | \'b\' | \'c\'>`, `29454230587901950000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Permutation<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">=</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token comment">// 你的实现代码</span>\n\n<span class="token comment">// ["a", "b"] | ["b", "a"]</span>\n<span class="token keyword">type</span> <span class="token constant">P0</span> <span class="token operator">=</span> Permutation<span class="token operator">&lt;</span><span class="token string">\'a\'</span> <span class="token operator">|</span> <span class="token string">\'b\'</span><span class="token operator">></span>  <span class="token comment">// [\'a\', \'b\'] | [\'b\' | \'a\']</span>\n<span class="token comment">// type P1 = ["a", "b", "c"] | ["a", "c", "b"] | ["b", "a", "c"]</span>\n<span class="token comment">// | ["b", "c", "a"] | ["c", "a", "b"] | ["c", "b", "a"]</span>\n<span class="token keyword">type</span> <span class="token constant">P1</span> <span class="token operator">=</span> Permutation<span class="token operator">&lt;</span><span class="token string">\'a\'</span> <span class="token operator">|</span> <span class="token string">\'b\'</span> <span class="token operator">|</span> <span class="token string">\'c\'</span><span class="token operator">></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-25"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-25" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="87734529195351600000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type Permutation<T, K = T> = [T] extends [never] ? [] : K extends K ? [K, ...Permutation<Exclude<T, K>>] : never;\n\n// [&quot;a&quot;, &quot;b&quot;] | [&quot;b&quot;, &quot;a&quot;]\ntype P0 = Permutation<\'a\' | \'b\'>; // [\'a\', \'b\'] | [\'b\' | \'a\']\n// type P1 = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;] | [&quot;a&quot;, &quot;c&quot;, &quot;b&quot;] | [&quot;b&quot;, &quot;a&quot;, &quot;c&quot;]\n// | [&quot;b&quot;, &quot;c&quot;, &quot;a&quot;] | [&quot;c&quot;, &quot;a&quot;, &quot;b&quot;] | [&quot;c&quot;, &quot;b&quot;, &quot;a&quot;]\ntype P1 = Permutation<\'a\' | \'b\' | \'c\'>;`, `87734529195351600000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Permutation<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token operator">=</span> <span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token builtin">never</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">K</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">,</span> <span class="token operator">...</span>Permutation<span class="token operator">&lt;</span>Exclude<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">>></span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>\n\n<span class="token comment">// ["a", "b"] | ["b", "a"]</span>\n<span class="token keyword">type</span> <span class="token constant">P0</span> <span class="token operator">=</span> Permutation<span class="token operator">&lt;</span><span class="token string">\'a\'</span> <span class="token operator">|</span> <span class="token string">\'b\'</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [\'a\', \'b\'] | [\'b\' | \'a\']</span>\n<span class="token comment">// type P1 = ["a", "b", "c"] | ["a", "c", "b"] | ["b", "a", "c"]</span>\n<span class="token comment">// | ["b", "c", "a"] | ["c", "a", "b"] | ["c", "b", "a"]</span>\n<span class="token keyword">type</span> <span class="token constant">P1</span> <span class="token operator">=</span> Permutation<span class="token operator">&lt;</span><span class="token string">\'a\'</span> <span class="token operator">|</span> <span class="token string">\'b\'</span> <span class="token operator">|</span> <span class="token string">\'c\'</span><span class="token operator">></span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试四十四"><a href="#%E6%B5%8B%E8%AF%95%E5%9B%9B%E5%8D%81%E5%9B%9B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试四十四</h1>\n<p>精简如下组合起来的 ts</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="60204231653277530000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// 上报选项\ntype ExposeOptions =\n  | {\n      selector: string; // 选择器\n      targetList?: HTMLElement[]; // 元素列表\n      viewSuccess: ViewSuccessOptions; // 有效曝光\n      view?: ViewOptions; // 立即曝光\n    }\n  | {\n      selector?: string; // 选择器\n      targetList: HTMLElement[]; // 元素列表\n      viewSuccess?: ViewSuccessOptions; // 有效曝光\n      view: ViewOptions; // 立即曝光\n    }\n  | {\n      selector: string; // 选择器\n      targetList?: HTMLElement[]; // 元素列表\n      viewSuccess?: ViewSuccessOptions; // 有效曝光\n      view: ViewOptions; // 立即曝光\n    }\n  | {\n      selector?: string; // 选择器\n      targetList: HTMLElement[]; // 元素列表\n      viewSuccess: ViewSuccessOptions; // 有效曝光\n      view?: ViewOptions; // 立即曝光\n    };`, `60204231653277530000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// 上报选项</span>\n<span class="token keyword">type</span> ExposeOptions <span class="token operator">=</span>\n  <span class="token operator">|</span> <span class="token punctuation">{</span>\n      selector<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 选择器</span>\n      targetList<span class="token operator">?</span><span class="token punctuation">:</span> HTMLElement<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 元素列表</span>\n      viewSuccess<span class="token punctuation">:</span> ViewSuccessOptions<span class="token punctuation">;</span> <span class="token comment">// 有效曝光</span>\n      view<span class="token operator">?</span><span class="token punctuation">:</span> ViewOptions<span class="token punctuation">;</span> <span class="token comment">// 立即曝光</span>\n    <span class="token punctuation">}</span>\n  <span class="token operator">|</span> <span class="token punctuation">{</span>\n      selector<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 选择器</span>\n      targetList<span class="token punctuation">:</span> HTMLElement<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 元素列表</span>\n      viewSuccess<span class="token operator">?</span><span class="token punctuation">:</span> ViewSuccessOptions<span class="token punctuation">;</span> <span class="token comment">// 有效曝光</span>\n      view<span class="token punctuation">:</span> ViewOptions<span class="token punctuation">;</span> <span class="token comment">// 立即曝光</span>\n    <span class="token punctuation">}</span>\n  <span class="token operator">|</span> <span class="token punctuation">{</span>\n      selector<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 选择器</span>\n      targetList<span class="token operator">?</span><span class="token punctuation">:</span> HTMLElement<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 元素列表</span>\n      viewSuccess<span class="token operator">?</span><span class="token punctuation">:</span> ViewSuccessOptions<span class="token punctuation">;</span> <span class="token comment">// 有效曝光</span>\n      view<span class="token punctuation">:</span> ViewOptions<span class="token punctuation">;</span> <span class="token comment">// 立即曝光</span>\n    <span class="token punctuation">}</span>\n  <span class="token operator">|</span> <span class="token punctuation">{</span>\n      selector<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 选择器</span>\n      targetList<span class="token punctuation">:</span> HTMLElement<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 元素列表</span>\n      viewSuccess<span class="token punctuation">:</span> ViewSuccessOptions<span class="token punctuation">;</span> <span class="token comment">// 有效曝光</span>\n      view<span class="token operator">?</span><span class="token punctuation">:</span> ViewOptions<span class="token punctuation">;</span> <span class="token comment">// 立即曝光</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-20"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-20" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="1651171032849174800"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type ExposeOption = {\n  selector: string; // 选择器\n  targetList: HTMLElement[]; // 元素列表\n  viewSuccess: string; // 有效曝光\n  view: string; // 立即曝光\n};\n\ntype tmp2 = [\'targetList\', \'view\'] | [\'selector\', \'viewSuccess\'];\n\ntype UnionType<T> = T extends (infer P)[] ? P : never;\n\ntype RequireAtLeastOne<ObjectType, KeysType extends keyof ObjectType = keyof ObjectType> = KeysType extends string[]\n  ? Omit<ObjectType, UnionType<KeysType>> & Partial<Pick<ObjectType, UnionType<KeysType>>>\n  : never;\n\ntype tmp = RequireAtLeastOne<ExposeOption, tmp2>;`, `1651171032849174800`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> ExposeOption <span class="token operator">=</span> <span class="token punctuation">{</span>\n  selector<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 选择器</span>\n  targetList<span class="token punctuation">:</span> HTMLElement<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 元素列表</span>\n  viewSuccess<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 有效曝光</span>\n  view<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 立即曝光</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> tmp2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">\'targetList\'</span><span class="token punctuation">,</span> <span class="token string">\'view\'</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token string">\'selector\'</span><span class="token punctuation">,</span> <span class="token string">\'viewSuccess\'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> UnionType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span>infer <span class="token constant">P</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token constant">P</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> RequireAtLeastOne<span class="token operator">&lt;</span>ObjectType<span class="token punctuation">,</span> KeysType <span class="token keyword">extends</span> <span class="token class-name">keyof</span> ObjectType <span class="token operator">=</span> <span class="token keyword">keyof</span> ObjectType<span class="token operator">></span> <span class="token operator">=</span> KeysType <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>\n  <span class="token operator">?</span> Omit<span class="token operator">&lt;</span>ObjectType<span class="token punctuation">,</span> UnionType<span class="token operator">&lt;</span>KeysType<span class="token operator">>></span> <span class="token operator">&amp;</span> Partial<span class="token operator">&lt;</span>Pick<span class="token operator">&lt;</span>ObjectType<span class="token punctuation">,</span> UnionType<span class="token operator">&lt;</span>KeysType<span class="token operator">>>></span>\n  <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> tmp <span class="token operator">=</span> RequireAtLeastOne<span class="token operator">&lt;</span>ExposeOption<span class="token punctuation">,</span> tmp2<span class="token operator">></span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-26"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-26" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="80446118981969740000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type PersonInfo = {\n  name: string;\n  age: number;\n  sex: string;\n  id: number;\n};\n\n// 在这里写需要的组合\ntype ArrType = [[\'name\', \'age\'], [\'id\', \'age\']];\n// type ArrType = [[\'name\', \'age\'], [\'id\', \'age\'], [\'id\'], [\'id\', \'age\', \'name\']]\n\ntype PartialWithKeys<T, Keys extends Array<keyof T>, K extends keyof T = Keys[number]> = Partial<Pick<T, K>> &\n  Omit<T, Extract<keyof T, K>>;\n\ntype IterArr<\n  T,\n  C extends Array<Array<keyof T>>,\n  Res = never,\n  L extends Array<any> = []\n> = C[\'length\'] extends L[\'length\'] ? Res : IterArr<T, C, Res | PartialWithKeys<T, C[L[\'length\']]>, [...L, 1]>;\n\ntype R5 = IterArr<PersonInfo, ArrType>;\n\n// 测试用例\nconst dd: R5 = {\n  // name: \'1\',\n  // age: 2,\n  // sex: \'k\',\n  // id: 2\n};`, `80446118981969740000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> PersonInfo <span class="token operator">=</span> <span class="token punctuation">{</span>\n  name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  sex<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  id<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 在这里写需要的组合</span>\n<span class="token keyword">type</span> ArrType <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">\'name\'</span><span class="token punctuation">,</span> <span class="token string">\'age\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'id\'</span><span class="token punctuation">,</span> <span class="token string">\'age\'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token comment">// type ArrType = [[\'name\', \'age\'], [\'id\', \'age\'], [\'id\'], [\'id\', \'age\', \'name\']]</span>\n\n<span class="token keyword">type</span> PartialWithKeys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> Keys <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token constant">T</span> <span class="token operator">=</span> Keys<span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">=</span> Partial<span class="token operator">&lt;</span>Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">>></span> <span class="token operator">&amp;</span>\n  Omit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> Extract<span class="token operator">&lt;</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">>></span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> IterArr<span class="token operator">&lt;</span>\n  <span class="token constant">T</span><span class="token punctuation">,</span>\n  <span class="token constant">C</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">,</span>\n  Res <span class="token operator">=</span> <span class="token builtin">never</span><span class="token punctuation">,</span>\n  <span class="token constant">L</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>\n<span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">C</span><span class="token punctuation">[</span><span class="token string">\'length\'</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">L</span><span class="token punctuation">[</span><span class="token string">\'length\'</span><span class="token punctuation">]</span> <span class="token operator">?</span> Res <span class="token punctuation">:</span> IterArr<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">C</span><span class="token punctuation">,</span> Res <span class="token operator">|</span> PartialWithKeys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">C</span><span class="token punctuation">[</span><span class="token constant">L</span><span class="token punctuation">[</span><span class="token string">\'length\'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">L</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">R5</span> <span class="token operator">=</span> IterArr<span class="token operator">&lt;</span>PersonInfo<span class="token punctuation">,</span> ArrType<span class="token operator">></span><span class="token punctuation">;</span>\n\n<span class="token comment">// 测试用例</span>\n<span class="token keyword">const</span> dd<span class="token punctuation">:</span> <span class="token constant">R5</span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token comment">// name: \'1\',</span>\n  <span class="token comment">// age: 2,</span>\n  <span class="token comment">// sex: \'k\',</span>\n  <span class="token comment">// id: 2</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="测试四十五"><a href="#%E6%B5%8B%E8%AF%95%E5%9B%9B%E5%8D%81%E4%BA%94" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试四十五</h1>\n<p>实现 Flat 工具类</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="3166915638072587300"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type permission = {\n  a: string;\n  c: number;\n  d: {\n    e: string;\n    f: string;\n  };\n};\n\n// type R1 = {\n//   a: string;\n//   c: number;\n//   e: string;\n//   f: string;\n// };\ntype R1 = Flat<permission>;`, `3166915638072587300`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> permission <span class="token operator">=</span> <span class="token punctuation">{</span>\n  a<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  c<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  d<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    e<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n    f<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token comment">// type R1 = {</span>\n<span class="token comment">//   a: string;</span>\n<span class="token comment">//   c: number;</span>\n<span class="token comment">//   e: string;</span>\n<span class="token comment">//   f: string;</span>\n<span class="token comment">// };</span>\n<span class="token keyword">type</span> <span class="token constant">R1</span> <span class="token operator">=</span> Flat<span class="token operator">&lt;</span>permission<span class="token operator">></span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="我的解答-21"><a href="#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-21" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>我的解答</h2>\n<p>这里不考虑 key 的冲突情况，且没有处理对象嵌套的情况</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="13258660086596862000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type permission = {\n    a: string;\n    c: number;\n    d: {\n        e: string;\n        f: string\n    };\n}\n\ntype ValueOf<T> = T[keyof T];\n\ntype Flat<T> = ValueOf<{\n    [K in keyof T as (T[K] extends { [key: string]: any } ? K : never)] : T[K]\n}> & {\n    [K in keyof T as (T[K] extends { [key: string]: any } ? never : K)] : T[K]\n}\n\ntype R1 = Flat<permission>\n\nconst c: R1 = {\n    a: \'12\',\n    c: 1,\n    e: \'12\',\n    f: \'ssf\'\n}`, `13258660086596862000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> permission <span class="token operator">=</span> <span class="token punctuation">{</span>\n    a<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n    c<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n    d<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n        e<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n        f<span class="token punctuation">:</span> <span class="token builtin">string</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">type</span> ValueOf<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> Flat<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> ValueOf<span class="token operator">&lt;</span><span class="token punctuation">{</span>\n    <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span> <span class="token keyword">as</span> <span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">any</span> <span class="token punctuation">}</span> <span class="token operator">?</span> <span class="token constant">K</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token operator">></span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span> <span class="token keyword">as</span> <span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">any</span> <span class="token punctuation">}</span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token punctuation">:</span> <span class="token constant">K</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">type</span> <span class="token constant">R1</span> <span class="token operator">=</span> Flat<span class="token operator">&lt;</span>permission<span class="token operator">></span>\n\n<span class="token keyword">const</span> c<span class="token punctuation">:</span> <span class="token constant">R1</span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n    a<span class="token punctuation">:</span> <span class="token string">\'12\'</span><span class="token punctuation">,</span>\n    c<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n    e<span class="token punctuation">:</span> <span class="token string">\'12\'</span><span class="token punctuation">,</span>\n    f<span class="token punctuation">:</span> <span class="token string">\'ssf\'</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="最佳解答-27"><a href="#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-27" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>最佳解答</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="59287530181449410000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`type PermissionReqBaseSharp = {\n  resourceCode: string;\n  privilegeName: string;\n  ext: {\n    multiLanguageKey: string;\n    hasFeatureKey: boolean;\n    isCascade: {\n      person: boolean;\n      score: {\n        math: 100;\n      };\n    };\n  };\n  params: {\n    name: string;\n  };\n};\n\ntype GetDetail<T> = {\n  [K in keyof T]: T[K];\n};\n\n// 选出对象中非对象类型的 keys\ntype PickNonObjectKeys<T> = {\n  [K in keyof T]: T[K] extends object ? never : K;\n}[keyof T];\n\ntype PickNonObjectPartial<T> = Pick<T, PickNonObjectKeys<T>>;\n\n// 选出对象中对象类型的 keys\ntype PickObjectKeys<T> = Exclude<keyof T, PickNonObjectKeys<T>>;\n\n// 联合转交叉\ntype UnionToIntersection<T> = (T extends any ? (k: T) => void : never) extends (k: infer I) => void ? I : never;\n\n// 处理联合对象，继续向下递归\ntype FlatUnion<T> = T extends object ? FlatDeep<T> : never;\n\n/**\n * 递归打平对象类型, 可参考：PermissionReqBaseSharp\n */\ntype FlatDeep<T> = PickNonObjectPartial<T> &\n  (PickObjectKeys<T> extends never ? {} : UnionToIntersection<FlatUnion<T[PickObjectKeys<T>]>>);\n\ntype APermissionReqBaseSharp = {\n  resourceCode: string;\n  privilegeUrl: string;\n  privilegeType: any;\n  belongDomain: any;\n  privilegeName: string;\n  belongType: 1; // admin 归属\n  ext: {\n    multiLanguageKey: string;\n    hasFeatureKey: boolean;\n    featureKey: string;\n    hasHover: boolean;\n    hasHoverLangKey: string;\n    isCascade: boolean;\n  };\n  brushData: boolean;\n  publishEnv: 2;\n  parentId?: string;\n};\n\ntype R1 = GetDetail<FlatDeep<APermissionReqBaseSharp>>;\n\ntype R2 = GetDetail<FlatDeep<PermissionReqBaseSharp>>;`, `59287530181449410000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="ts"\n              >\n                <span class="gatsby-code-button-language">ts</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> PermissionReqBaseSharp <span class="token operator">=</span> <span class="token punctuation">{</span>\n  resourceCode<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  privilegeName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  ext<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    multiLanguageKey<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n    hasFeatureKey<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>\n    isCascade<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n      person<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>\n      score<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n        math<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  params<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> GetDetail<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 选出对象中非对象类型的 keys</span>\n<span class="token keyword">type</span> PickNonObjectKeys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">object</span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token punctuation">:</span> <span class="token constant">K</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> PickNonObjectPartial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> PickNonObjectKeys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span>\n\n<span class="token comment">// 选出对象中对象类型的 keys</span>\n<span class="token keyword">type</span> PickObjectKeys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">,</span> PickNonObjectKeys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span>\n\n<span class="token comment">// 联合转交叉</span>\n<span class="token keyword">type</span> UnionToIntersection<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">any</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token parameter">k<span class="token punctuation">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">)</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token parameter">k<span class="token punctuation">:</span> infer <span class="token constant">I</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span> <span class="token operator">?</span> <span class="token constant">I</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 处理联合对象，继续向下递归</span>\n<span class="token keyword">type</span> FlatUnion<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">object</span> <span class="token operator">?</span> FlatDeep<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>\n\n<span class="token comment">/**\n * 递归打平对象类型, 可参考：PermissionReqBaseSharp\n */</span>\n<span class="token keyword">type</span> FlatDeep<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> PickNonObjectPartial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">&amp;</span>\n  <span class="token punctuation">(</span>PickObjectKeys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token keyword">extends</span> <span class="token class-name">never</span> <span class="token operator">?</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">:</span> UnionToIntersection<span class="token operator">&lt;</span>FlatUnion<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">[</span>PickObjectKeys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> APermissionReqBaseSharp <span class="token operator">=</span> <span class="token punctuation">{</span>\n  resourceCode<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  privilegeUrl<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  privilegeType<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>\n  belongDomain<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>\n  privilegeName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  belongType<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// admin 归属</span>\n  ext<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    multiLanguageKey<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n    hasFeatureKey<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>\n    featureKey<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n    hasHover<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>\n    hasHoverLangKey<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n    isCascade<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  brushData<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>\n  publishEnv<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">;</span>\n  parentId<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">R1</span> <span class="token operator">=</span> GetDetail<span class="token operator">&lt;</span>FlatDeep<span class="token operator">&lt;</span>APermissionReqBaseSharp<span class="token operator">>></span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token constant">R2</span> <span class="token operator">=</span> GetDetail<span class="token operator">&lt;</span>FlatDeep<span class="token operator">&lt;</span>PermissionReqBaseSharp<span class="token operator">>></span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>// TODO <a href="https://github.com/semlinker/awesome-typescript/issues?page=2&#x26;q=is%3Aissue+is%3Aopen+sort%3Acreated-asc" target="_blank" rel="nofollow noreferrer noopener">https://github.com/semlinker/awesome-typescript/issues?page=2&#x26;q=is%3Aissue+is%3Aopen+sort%3Acreated-asc</a></p>',
excerpt:"测试一 代码为什么会提示错误，应该如何解决这个问题？ 我的解答 直接利用自动推导 最佳解答一 T 类型兼容 User 类型 最佳解答二 返回值限制为 User 类型 最佳解答三 断言处理 最佳解答四 重定义类型 实现要点 T 只是约束于 User 类型，而不局限于 User…",timeToRead:45,tableOfContents:'<ul>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%B8%80">测试一</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94">我的解答</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%80">最佳解答一</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%BA%8C">最佳解答二</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%89">最佳解答三</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E5%9B%9B">最佳解答四</a></li>\n<li><a href="/typescript-practice-test/#%E5%AE%9E%E7%8E%B0%E8%A6%81%E7%82%B9">实现要点</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%BA%8C">测试二</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-1">我的解答</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%80-1">最佳解答一</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%BA%8C-1">最佳解答二</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%89-1">最佳解答三</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%B8%89">测试三</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E5%9B%9B">测试四</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-2">我的解答</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-1">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%BA%94">测试五</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-3">我的解答</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-2">最佳解答</a></li>\n<li><a href="/typescript-practice-test/#%E6%8B%93%E5%B1%95">拓展</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-3">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E5%85%AD">测试六</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%80-2">最佳解答一</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%BA%8C-2">最佳解答二</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%B8%83">测试七</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-4">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E5%85%AB">测试八</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%80-3">最佳解答一</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%BA%8C-3">最佳解答二</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%B9%9D">测试九</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-5">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E5%8D%81">测试十</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-6">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E5%8D%81%E4%B8%80">测试十一</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-4">我的解答</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-7">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E5%8D%81%E4%BA%8C">测试十二</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-5">我的解答</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-8">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E5%8D%81%E4%B8%89">测试十三</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-6">我的解答</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-9">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E5%8D%81%E5%9B%9B">测试十四</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-7">我的解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E5%8D%81%E4%BA%94">测试十五</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-8">我的解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E5%8D%81%E5%85%AD">测试十六</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-9">我的解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E5%8D%81%E4%B8%83">测试十七</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-10">我的解答</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-10">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E5%8D%81%E5%85%AB">测试十八</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-11">我的解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E5%8D%81%E4%B9%9D">测试十九</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-12">我的解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81">测试二十</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-11">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81%E4%B8%80">测试二十一</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-13">我的解答</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%80-4">最佳解答一</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%BA%8C-4">最佳解答二</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81%E4%BA%8C">测试二十二</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%80-5">最佳解答一</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%BA%8C-5">最佳解答二</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81%E4%B8%89">测试二十三</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-12">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81%E5%9B%9B">测试二十四</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-13">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81%E4%BA%94">测试二十五</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-14">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81%E5%85%AD">测试二十六</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-14">我的解答</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-15">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81%E4%B8%83">测试二十七</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%80-6">最佳解答一</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%BA%8C-6">最佳解答二</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81%E5%85%AB">测试二十八</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-15">我的解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%BA%8C%E5%8D%81%E4%B9%9D">测试二十九</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-16">我的解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81">测试三十</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-16">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81%E4%B8%80">测试三十一</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-17">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81%E4%BA%8C">测试三十二</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-18">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81%E4%B8%89">测试三十三</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-19">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81%E5%9B%9B">测试三十四</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-20">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81%E4%BA%94">测试三十五</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-21">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81%E5%85%AD">测试三十六</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-22">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81%E4%B8%83">测试三十七</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-23">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81%E5%85%AB">测试三十八</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-17">我的解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E4%B8%89%E5%8D%81%E4%B9%9D">测试三十九</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%B8%80-7">最佳解答一</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94%E4%BA%8C-7">最佳解答二</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E5%9B%9B%E5%8D%81">测试四十</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-24">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E5%9B%9B%E5%8D%81%E4%B8%80">测试四十一</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-18">我的解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E5%9B%9B%E5%8D%81%E4%BA%8C">测试四十二</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-19">我的解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E5%9B%9B%E5%8D%81%E4%B8%89">测试四十三</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-25">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E5%9B%9B%E5%8D%81%E5%9B%9B">测试四十四</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-20">我的解答</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-26">最佳解答</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/typescript-practice-test/#%E6%B5%8B%E8%AF%95%E5%9B%9B%E5%8D%81%E4%BA%94">测试四十五</a></p>\n<ul>\n<li><a href="/typescript-practice-test/#%E6%88%91%E7%9A%84%E8%A7%A3%E7%AD%94-21">我的解答</a></li>\n<li><a href="/typescript-practice-test/#%E6%9C%80%E4%BD%B3%E8%A7%A3%E7%AD%94-27">最佳解答</a></li>\n</ul>\n</li>\n</ul>',wordCount:{words:692},frontmatter:{date:"2021-11-24 16:36:17",path:"/typescript-practice-test/",tags:"前端, TypeScript, ts, 练手测试",title:"TypeScript 练手测试",draft:null,catalog_number:null}},nextPost:{html:'<h1 id="需求背景"><a href="#%E9%9C%80%E6%B1%82%E8%83%8C%E6%99%AF" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>需求背景</h1>\n<p>针对本博客现有的 Gatsby 框架实现代码复制、代码实时查看编辑的功能</p>\n<h1 id="技术选型"><a href="#%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>技术选型</h1>\n<p>以下都是采用最后一种方案，由于插件功能不满足，所以对其源码做出改动</p>\n<h2 id="代码复制"><a href="#%E4%BB%A3%E7%A0%81%E5%A4%8D%E5%88%B6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>代码复制</h2>\n<table>\n<thead>\n<tr>\n<th align="left">技术选型</th>\n<th align="left">语法</th>\n<th align="left">优点</th>\n<th align="left">缺点</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="left">项目代码自实现</td>\n<td align="left">未实现</td>\n<td align="left">定制化程度高</td>\n<td align="left"><ol>\n<li>\n实现难度大；\n</li>\n<li>\n拓展较差\n</li>\n</ol></td>\n</tr>\n<tr>\n<td align="left"><a href="https://github.com/iamskok/gatsby-remark-code-buttons" target="_blank" rel="nofollow noreferrer noopener">gatsby-remark-code-buttons</a></td>\n<td align="left">不需特定语法，只要是代码块默认具有复制功能</td>\n<td align="left">已具有代码复制功能</td>\n<td align="left"><ol>\n<li>\n有多复制一行的 bug；\n</li>\n<li>\nUI 不符合博客主题\n</li>\n</ol></td>\n</tr>\n</tbody>\n</table>\n<h2 id="代码实时查看编辑"><a href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E6%97%B6%E6%9F%A5%E7%9C%8B%E7%BC%96%E8%BE%91" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>代码实时查看编辑</h2>\n<table>\n<thead>\n<tr>\n<th align="left">技术选型</th>\n<th align="left">语法</th>\n<th align="left">优点</th>\n<th align="left">缺点</th>\n<th>样例页面</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="left">iframe + \n<a href="https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-remark-embed-snippet" target="_blank" rel="nofollow noreferrer noopener">gatsby-remark-embed-snippet</a></td>\n<td align="left"><code class="language-text">&lt;iframe src=&quot;/examples/snow.html&quot; width=&quot;800&quot; height=&quot;400&quot;&gt;&lt;/iframe&gt;</code>\n \n<br />\n \n<code class="language-text">`embed:snow.html`</code></td>\n<td align="left">实现最为简单，容易出效果</td>\n<td align="left"><ol>\n<li>\n没有实时编辑功能；\n<li>\n嵌入的代码往往需要将其写成一个 html 文件且一般情况下只支持静态页面的展示；\n</li>\n<li>\n需要 iframe、embed 标签声明两次\n</li>\n</ol></td>\n<td><a href="/snow-css/">下雪特效</a></td>\n</tr>\n<tr>\n<td align="left">iframe + code-editor.html 传参</td>\n<td align="left"><code class="language-text">&lt;iframe src=&quot;/examples/code-editor.html?html=转义字符串&amp;css=转义字符串&amp;js=转义字符串</code></td>\n<td align="left">基本实现代码的实时查看编辑</td>\n<td align="left"><ol>\n<li>\n嵌入的代码只支持静态的 html 页面；\n</li>\n<li>\n需要明确拆分出 js、css、html 三个结构；\n</li>\n<li>\n嵌入的 js、css、html 分别需要手动 escape 加密\n</li>\n</ol></td>\n<td><a href="/css-world-four-kinds-of-box/#border-%E7%AD%89%E9%AB%98%E5%B8%83%E5%B1%80%E6%8A%80%E6%9C%AF">CSS 世界四大盒尺寸</a></td>\n</tr>\n<tr>\n<td align="left"><a href="https://github.com/elboman/gatsby-remark-embedded-codesandbox" target="_blank" rel="nofollow noreferrer noopener">gatsby-remark-embedded-codesandbox</a></td>\n<td align="left"><code class="language-text">[pms-example](embedded-codesandbox://gantt-component-optimization/pms-example)</code></td>\n<td align="left">借助 codesandbox 实现了较为丰富的代码实时查看编辑功能</td>\n<td align="left"><ol>\n<li>\n借助第三方实现的功能，不够稳定；\n</li>\n<li>\n不支持带目录的文件夹；\n</li>\n<li>\n单次请求过大（即上传代码过多）会报请求体过大错误；\n</li>\n<li>\n会上传 node_modules 等等大文件\n</li>\n</ol></td>\n<td>需实现</td>\n</tr>\n</tbody>\n</table>\n<h1 id="核心逻辑"><a href="#%E6%A0%B8%E5%BF%83%E9%80%BB%E8%BE%91" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>核心逻辑</h1>\n<h2 id="代码复制-1"><a href="#%E4%BB%A3%E7%A0%81%E5%A4%8D%E5%88%B6-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>代码复制</h2>\n<h3 id="修复复制多一行-bug"><a href="#%E4%BF%AE%E5%A4%8D%E5%A4%8D%E5%88%B6%E5%A4%9A%E4%B8%80%E8%A1%8C-bug" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>修复复制多一行 bug</h3>\n<p>代码在<a href="https://github.com/towavephone/gatsby-remark-code-buttons/commit/d95bb194d74182a3c5b8118102b3826695c2ff6d" target="_blank" rel="nofollow noreferrer noopener">这里</a></p>\n<p>src/gatsby-browser.js</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="80392348280677070000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`@@ -7,19 +7,9 @@ exports.onClientEntry = () => {\n    el.innerHTML = str;\n    document.body.appendChild(el);\n\n-   const range = document.createRange();\n-   range.selectNode(el);\n-   window.getSelection().removeAllRanges();\n-   window.getSelection().addRange(range);\n-   document.execCommand(\\`copy\\`);\n-   document.activeElement.blur();\n-   setTimeout(() => {\n-     document.getSelection().removeAllRanges();\n-     document.body.removeChild(el);\n-   }, 100);\n+   el.select();\n+   document.execCommand(&quot;copy&quot;);\n+   document.body.removeChild(el);\n    if (toasterId) {\n      window.showClipboardToaster(toasterId);\n    }`, `80392348280677070000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="diff"\n              >\n                <span class="gatsby-code-button-language">diff</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="diff"><pre style="counter-reset: linenumber NaN" class="language-diff line-numbers"><code class="language-diff">@@ -7,19 +7,9 @@ exports.onClientEntry = () => {\n<span class="token unchanged"><span class="token prefix unchanged"> </span>   el.innerHTML = str;\n<span class="token prefix unchanged"> </span>   document.body.appendChild(el);\n</span>\n<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span>   const range = document.createRange();\n<span class="token prefix deleted">-</span>   range.selectNode(el);\n<span class="token prefix deleted">-</span>   window.getSelection().removeAllRanges();\n<span class="token prefix deleted">-</span>   window.getSelection().addRange(range);\n<span class="token prefix deleted">-</span>   document.execCommand(`copy`);\n<span class="token prefix deleted">-</span>   document.activeElement.blur();\n<span class="token prefix deleted">-</span>   setTimeout(() => {\n<span class="token prefix deleted">-</span>     document.getSelection().removeAllRanges();\n<span class="token prefix deleted">-</span>     document.body.removeChild(el);\n<span class="token prefix deleted">-</span>   }, 100);\n</span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span>   el.select();\n<span class="token prefix inserted">+</span>   document.execCommand("copy");\n<span class="token prefix inserted">+</span>   document.body.removeChild(el);\n</span><span class="token unchanged"><span class="token prefix unchanged"> </span>   if (toasterId) {\n<span class="token prefix unchanged"> </span>     window.showClipboardToaster(toasterId);\n<span class="token prefix unchanged"> </span>   }</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="增加显示语言类型的功能；改变按钮文本显示逻辑；任何语言都可以显示复制按钮"><a href="#%E5%A2%9E%E5%8A%A0%E6%98%BE%E7%A4%BA%E8%AF%AD%E8%A8%80%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8A%9F%E8%83%BD%EF%BC%9B%E6%94%B9%E5%8F%98%E6%8C%89%E9%92%AE%E6%96%87%E6%9C%AC%E6%98%BE%E7%A4%BA%E9%80%BB%E8%BE%91%EF%BC%9B%E4%BB%BB%E4%BD%95%E8%AF%AD%E8%A8%80%E9%83%BD%E5%8F%AF%E4%BB%A5%E6%98%BE%E7%A4%BA%E5%A4%8D%E5%88%B6%E6%8C%89%E9%92%AE" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>增加显示语言类型的功能；改变按钮文本显示逻辑；任何语言都可以显示复制按钮</h3>\n<p>主要针对原插件做出的一些 UI、功能上的适配，代码在<a href="https://github.com/towavephone/gatsby-remark-code-buttons/commit/90094cd1c6a4a6fa7253f61e898f8a832173d6a9" target="_blank" rel="nofollow noreferrer noopener">这里</a></p>\n<p>src/index.js</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="52553371160925600000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`@@ -21,10 +21,6 @@ module.exports = function gatsbyRemarkCodeButtons(\n    const actions = qs.parse(params);\n    const { clipboard } = actions;\n\n-   if (!language) {\n-     return;\n-   }\n-\n    if (clipboard === \'false\') {\n      delete actions[\'clipboard\'];\n    } else {\n@@ -57,12 +53,12 @@ module.exports = function gatsbyRemarkCodeButtons(\n            >\n              <div\n                class=&quot;\\${buttonClass}&quot;\n-               data-tooltip=&quot;\\${tooltipText}&quot;\n+               \\${tooltipText ? \\`data-tooltip=&quot;\\${tooltipText}&quot;\\` : \'\'}\n              >\n-               \\${buttonText}\\${svgIcon}\n+               \\${[language, buttonText || svgIcon].filter((item) => item).join(\' \')}\n              </div>\n            </div>\n-           \\`.trim()\n+         \\`.trim()\n      };\n\n      parent.children.splice(index, 0, buttonNode);`, `52553371160925600000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="diff"\n              >\n                <span class="gatsby-code-button-language">diff</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="diff"><pre style="counter-reset: linenumber NaN" class="language-diff line-numbers"><code class="language-diff">@@ -21,10 +21,6 @@ module.exports = function gatsbyRemarkCodeButtons(\n<span class="token unchanged"><span class="token prefix unchanged"> </span>   const actions = qs.parse(params);\n<span class="token prefix unchanged"> </span>   const { clipboard } = actions;\n</span>\n<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span>   if (!language) {\n<span class="token prefix deleted">-</span>     return;\n<span class="token prefix deleted">-</span>   }\n<span class="token prefix deleted">-</span>\n</span><span class="token unchanged"><span class="token prefix unchanged"> </span>   if (clipboard === \'false\') {\n<span class="token prefix unchanged"> </span>     delete actions[\'clipboard\'];\n<span class="token prefix unchanged"> </span>   } else {\n</span>@@ -57,12 +53,12 @@ module.exports = function gatsbyRemarkCodeButtons(\n<span class="token unchanged"><span class="token prefix unchanged"> </span>           >\n<span class="token prefix unchanged"> </span>             &lt;div\n<span class="token prefix unchanged"> </span>               class="${buttonClass}"\n</span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span>               data-tooltip="${tooltipText}"\n</span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span>               ${tooltipText ? `data-tooltip="${tooltipText}"` : \'\'}\n</span><span class="token unchanged"><span class="token prefix unchanged"> </span>             >\n</span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span>               ${buttonText}${svgIcon}\n</span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span>               ${[language, buttonText || svgIcon].filter((item) => item).join(\' \')}\n</span><span class="token unchanged"><span class="token prefix unchanged"> </span>             &lt;/div>\n<span class="token prefix unchanged"> </span>           &lt;/div>\n</span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span>           `.trim()\n</span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span>         `.trim()\n</span><span class="token unchanged"><span class="token prefix unchanged"> </span>     };\n</span>\n<span class="token unchanged"><span class="token prefix unchanged"> </span>     parent.children.splice(index, 0, buttonNode);</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="实现效果"><a href="#%E5%AE%9E%E7%8E%B0%E6%95%88%E6%9E%9C" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实现效果</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="27102773349021050000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// 测试代码复制功能，这个代码块应该具有复制代码功能`, `27102773349021050000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="js"\n              >\n                <span class="gatsby-code-button-language">js</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// 测试代码复制功能，这个代码块应该具有复制代码功能</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<h2 id="代码实时查看编辑-1"><a href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E6%97%B6%E6%9F%A5%E7%9C%8B%E7%BC%96%E8%BE%91-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>代码实时查看编辑</h2>\n<p>代码在<a href="https://github.com/towavephone/gatsby-remark-embedded-codesandbox/commit/6a1947c22566c6ad5baae33dabf99edd16f4c8eb" target="_blank" rel="nofollow noreferrer noopener">这里</a></p>\n<h3 id="递归遍历文件夹；增加忽略文件功能"><a href="#%E9%80%92%E5%BD%92%E9%81%8D%E5%8E%86%E6%96%87%E4%BB%B6%E5%A4%B9%EF%BC%9B%E5%A2%9E%E5%8A%A0%E5%BF%BD%E7%95%A5%E6%96%87%E4%BB%B6%E5%8A%9F%E8%83%BD" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>递归遍历文件夹；增加忽略文件功能</h3>\n<p>原插件不支持目录的读取，这里拓展了目录下也能递归读取的功能，同时也实现了默认忽略文件的功能</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="30172603799161290000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const DEFAULT_IGNORED_FILES = [\'node_modules\', \'package-lock.json\', \'yarn.lock\'];\n\nconst ignoredFilesSet = new Set(ignoredFiles);\n\nconst getAllFiles = (dirPath) =>\n   fs.readdirSync(dirPath).reduce((acc, file) => {\n      // 过滤文件立即跳出下一个\n      if (ignoredFilesSet.has(file)) return acc;\n      const relativePath = path.join(dirPath, file);\n      const isDirectory = fs.statSync(relativePath).isDirectory();\n      // 判断是目录继续递归遍历\n      const additions = isDirectory ? getAllFiles(relativePath) : [relativePath.replace(\\`\\${directory}/\\`, \'\')];\n      return [...acc, ...additions];\n   }, []);`, `30172603799161290000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="js"\n              >\n                <span class="gatsby-code-button-language">js</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> <span class="token constant">DEFAULT_IGNORED_FILES</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">\'node_modules\'</span><span class="token punctuation">,</span> <span class="token string">\'package-lock.json\'</span><span class="token punctuation">,</span> <span class="token string">\'yarn.lock\'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> ignoredFilesSet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>ignoredFiles<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">getAllFiles</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">dirPath</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n   fs<span class="token punctuation">.</span><span class="token function">readdirSync</span><span class="token punctuation">(</span>dirPath<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> file</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n      <span class="token comment">// 过滤文件立即跳出下一个</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>ignoredFilesSet<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> acc<span class="token punctuation">;</span>\n      <span class="token keyword">const</span> relativePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dirPath<span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">const</span> isDirectory <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">statSync</span><span class="token punctuation">(</span>relativePath<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token comment">// 判断是目录继续递归遍历</span>\n      <span class="token keyword">const</span> additions <span class="token operator">=</span> isDirectory <span class="token operator">?</span> <span class="token function">getAllFiles</span><span class="token punctuation">(</span>relativePath<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span>relativePath<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>directory<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n      <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span>acc<span class="token punctuation">,</span> <span class="token operator">...</span>additions<span class="token punctuation">]</span><span class="token punctuation">;</span>\n   <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="默认模式为静态服务器"><a href="#%E9%BB%98%E8%AE%A4%E6%A8%A1%E5%BC%8F%E4%B8%BA%E9%9D%99%E6%80%81%E6%9C%8D%E5%8A%A1%E5%99%A8" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>默认模式为静态服务器</h3>\n<p>因为 codesandbox 需要明确模板类型，这里默认为静态模板，否则静态文件不能正常运行</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="30784610224227940000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const getFileExist = (fileList, filename = \'package.json\') => {\n   const found = fileList.filter((name) => name === filename);\n   return found.length > null;\n};\n\nif (!getFileExist(folderFiles, \'sandbox.config.json\')) {\n   sandboxFiles.push({\n      name: \'sandbox.config.json\',\n      content: \'{ &quot;template&quot;: &quot;static&quot; }\'\n   });\n}`, `30784610224227940000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="js"\n              >\n                <span class="gatsby-code-button-language">js</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> getFileExist <span class="token operator">=</span> <span class="token punctuation">(</span>fileList<span class="token punctuation">,</span> filename <span class="token operator">=</span> <span class="token string">\'package.json\'</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n   <span class="token keyword">const</span> found <span class="token operator">=</span> fileList<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=></span> name <span class="token operator">===</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span>\n   <span class="token keyword">return</span> found<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">getFileExist</span><span class="token punctuation">(</span>folderFiles<span class="token punctuation">,</span> <span class="token string">\'sandbox.config.json\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n   sandboxFiles<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      name<span class="token punctuation">:</span> <span class="token string">\'sandbox.config.json\'</span><span class="token punctuation">,</span>\n      content<span class="token punctuation">:</span> <span class="token string">\'{ "template": "static" }\'</span>\n   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="codesandbox-请求方式改为-post-异步化"><a href="#codesandbox-%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F%E6%94%B9%E4%B8%BA-post-%E5%BC%82%E6%AD%A5%E5%8C%96" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>codesandbox 请求方式改为 post 异步化</h3>\n<p>原插件是基于 get 请求的，一旦上传文件过多就会报错，这里改为 post 请求就不再有请求体大小的限制，同时也要注意 post 的异步</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="30075208186222756000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const convertNodeToEmbedded = async (node, params, options = {}) => {\n   delete node.children;\n   delete node.position;\n   delete node.title;\n   delete node.url;\n\n   // merge the overriding options with the plugin one\n   const mergedOptions = { ...embedOptions, ...options };\n   const encodedEmbedOptions = queryString.stringify(mergedOptions);\n\n   const { sandbox_id } = await fetch(\'https://codesandbox.io/api/v1/sandboxes/define?json=1\', {\n      method: \'POST\',\n      headers: {\n         \'Content-Type\': \'application/json\',\n         Accept: \'application/json\'\n      },\n      body: params\n   }).then((x) => x.json());\n\n   const sandboxUrl = \\`https://codesandbox.io/embed/\\${sandbox_id}?\\${encodedEmbedOptions}\\`;\n   const embedded = getIframe(sandboxUrl);\n   node.type = \'html\';\n   node.value = embedded;\n\n   return node;\n};\n\nconst nodes = [];\nmap(markdownAST, (node, index, parent) => {\n   if (node.type === \'link\' && node.url.startsWith(protocol)) {\n      // split the url in base and query to allow user\n      // to customise embedding options on a per-node basis\n      const url = getUrlParts(node.url);\n      // get all files in the folder and generate\n      // the embeddeing parameters\n      const dir = getDirectoryPath(url.base);\n      const files = getFilesList(dir);\n      const params = createParams(files);\n      convertNodeToEmbedded(node, params, url.query);\n      const currentNode = convertNodeToEmbedded(node, params, url.query);\n      nodes.push(currentNode);\n   }\n\n   return node;\n});\n\n// 注意这里的异步化，必须等所有的请求成功响应才可继续遍历\nawait Promise.all(nodes);`, `30075208186222756000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="js"\n              >\n                <span class="gatsby-code-button-language">js</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">convertNodeToEmbedded</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> params<span class="token punctuation">,</span> options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n   <span class="token keyword">delete</span> node<span class="token punctuation">.</span>children<span class="token punctuation">;</span>\n   <span class="token keyword">delete</span> node<span class="token punctuation">.</span>position<span class="token punctuation">;</span>\n   <span class="token keyword">delete</span> node<span class="token punctuation">.</span>title<span class="token punctuation">;</span>\n   <span class="token keyword">delete</span> node<span class="token punctuation">.</span>url<span class="token punctuation">;</span>\n\n   <span class="token comment">// merge the overriding options with the plugin one</span>\n   <span class="token keyword">const</span> mergedOptions <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>embedOptions<span class="token punctuation">,</span> <span class="token operator">...</span>options <span class="token punctuation">}</span><span class="token punctuation">;</span>\n   <span class="token keyword">const</span> encodedEmbedOptions <span class="token operator">=</span> queryString<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>mergedOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n   <span class="token keyword">const</span> <span class="token punctuation">{</span> sandbox_id <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">\'https://codesandbox.io/api/v1/sandboxes/define?json=1\'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n      method<span class="token punctuation">:</span> <span class="token string">\'POST\'</span><span class="token punctuation">,</span>\n      headers<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n         <span class="token string">\'Content-Type\'</span><span class="token punctuation">:</span> <span class="token string">\'application/json\'</span><span class="token punctuation">,</span>\n         Accept<span class="token punctuation">:</span> <span class="token string">\'application/json\'</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      body<span class="token punctuation">:</span> params\n   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=></span> x<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n   <span class="token keyword">const</span> sandboxUrl <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://codesandbox.io/embed/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sandbox_id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">?</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>encodedEmbedOptions<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>\n   <span class="token keyword">const</span> embedded <span class="token operator">=</span> <span class="token function">getIframe</span><span class="token punctuation">(</span>sandboxUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>\n   node<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">\'html\'</span><span class="token punctuation">;</span>\n   node<span class="token punctuation">.</span>value <span class="token operator">=</span> embedded<span class="token punctuation">;</span>\n\n   <span class="token keyword">return</span> node<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> nodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token function">map</span><span class="token punctuation">(</span>markdownAST<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> index<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n   <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">\'link\'</span> <span class="token operator">&amp;&amp;</span> node<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span>protocol<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">// split the url in base and query to allow user</span>\n      <span class="token comment">// to customise embedding options on a per-node basis</span>\n      <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token function">getUrlParts</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token comment">// get all files in the folder and generate</span>\n      <span class="token comment">// the embeddeing parameters</span>\n      <span class="token keyword">const</span> dir <span class="token operator">=</span> <span class="token function">getDirectoryPath</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span>base<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">const</span> files <span class="token operator">=</span> <span class="token function">getFilesList</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token function">createParams</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token function">convertNodeToEmbedded</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> params<span class="token punctuation">,</span> url<span class="token punctuation">.</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">const</span> currentNode <span class="token operator">=</span> <span class="token function">convertNodeToEmbedded</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> params<span class="token punctuation">,</span> url<span class="token punctuation">.</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      nodes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>currentNode<span class="token punctuation">)</span><span class="token punctuation">;</span>\n   <span class="token punctuation">}</span>\n\n   <span class="token keyword">return</span> node<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 注意这里的异步化，必须等所有的请求成功响应才可继续遍历</span>\n<span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="实现效果-1"><a href="#%E5%AE%9E%E7%8E%B0%E6%95%88%E6%9E%9C-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实现效果</h3>\n<p><a href="/gantt-component-optimization/#%E5%AE%9E%E7%8E%B0%E6%95%88%E6%9E%9C">甘特图组件源码优化</a></p>\n<h1 id="总结"><a href="#%E6%80%BB%E7%BB%93" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>总结</h1>\n<ol>\n<li>复制功能需考虑兼容性、复制性能，可参考<a href="https://www.zhangxinxu.com/wordpress/2021/10/js-copy-paste-clipboard/" target="_blank" rel="nofollow noreferrer noopener">JS 复制文字到剪切板的极简实现及扩展</a></li>\n<li>代码实时查看编辑借助于第三方服务不够稳定，可自行搭建第三方服务或者参照 <a href="https://github.com/gfxfundamentals/live-editor" target="_blank" rel="nofollow noreferrer noopener">live-editor</a> 自建本地编辑器，必要时具有分享功能</li>\n</ol>\n<p>// TODO 博客 sanbox 插件忽略文件实现，支持 post 上传文件</p>',
excerpt:"需求背景 针对本博客现有的 Gatsby 框架实现代码复制、代码实时查看编辑的功能 技术选型 以下都是采用最后一种方案，由于插件功能不满足，所以对其源码做出改动 代码复制 技术选型 语法 优点 缺点 项目代码自实现 未实现 定制化程度高 实现难度大； 拓展较差 gatsby…",frontmatter:{date:"2021-11-15 11:52:04",path:"/gatsby-plugin-transformation/",tags:"前端, 源码优化, 预研",title:"博客 Gatsby 插件改造",draft:null}},prePost:{html:'<h1 id="line-height-的另外一个朋友-font-size"><a href="#line-height-%E7%9A%84%E5%8F%A6%E5%A4%96%E4%B8%80%E4%B8%AA%E6%9C%8B%E5%8F%8B-font-size" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>line-height 的另外一个朋友 font-size</h1>\n<p>第 5 章介绍过 line-height 和 vertical-align 的好朋友关系，实际上 font-size 也和 line-height 是好朋友，同样也无处不在，并且纸面上 line-height 的数值属性值和百分比值属性值都是相对于 font-size 计算的，其关系可谓不言而喻。</p>\n<h2 id="font-size-和-vertical-align-的隐秘故事"><a href="#font-size-%E5%92%8C-vertical-align-%E7%9A%84%E9%9A%90%E7%A7%98%E6%95%85%E4%BA%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>font-size 和 vertical-align 的隐秘故事</h2>\n<p>line-height 的部分类别属性值是相对于 font-size 计算的，vertical-align 百分比值属性值又是相对于 line-height 计算的，于是，看上去八辈子都搭不上边的 vertical-align 和 font-size 属性背后其实也有有着关联的。</p>\n<p>例如，下面的 CSS 代码组合：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="76243974528439390000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`p {\n   font-size: 16px;\n   line-height: 1.5;\n}\n\np > img {\n   vertical-align: -25%;\n}`, `76243974528439390000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">p</span> <span class="token punctuation">{</span>\n   <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>\n   <span class="token property">line-height</span><span class="token punctuation">:</span> 1.5<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">p > img</span> <span class="token punctuation">{</span>\n   <span class="token property">vertical-align</span><span class="token punctuation">:</span> -25%<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>此时，p > img 选择器对应元素的 vertical-align 计算值应该是：</p>\n<p>16px * 1.5 * -25% = -6px</p>\n<p>也就是上面的 CSS 代码等同于：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="79663057876293600000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`p {\n   font-size: 16px;\n   line-height: 1.5;\n}\n\np > img {\n   vertical-align: -6px;\n}`, `79663057876293600000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">p</span> <span class="token punctuation">{</span>\n   <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>\n   <span class="token property">line-height</span><span class="token punctuation">:</span> 1.5<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">p > img</span> <span class="token punctuation">{</span>\n   <span class="token property">vertical-align</span><span class="token punctuation">:</span> -6px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>但是两者又有所不同，很显然 <code class="language-text">-25%</code> 是一个相对计算属性值，如果此时元素的 font-size 发生变化，则图片会自动进行垂直位置调整。我们可以看一个无论 font-size 如何变化、后面图标都垂直居中对齐的例子，无论文字字号是大还是小，后面的图标都非常良好地垂直居中对齐，如图 8-1 所示。</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2020-01-10-11-53-07-9938aa85812a1fb84f2ae86eeeec6915-70b68.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 266px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 44.73684210526316%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAABHElEQVQoz31QyWqFQBD0/z/Dk8tVwaMGPCR4EYQoonEDd8cVd5NCyUsi5NVh6O7q6q5p6vMvuq6r67ppmqqq8jxP07SqSNu2hJC+72/N1O9k2zZo8B7HkcSxZVnyy2sUxaDGcQKFANS/YixZlgXvVcE2FBHs+w47zzYDrutKkiQIgqZpqqrSNC2KIj6yrltZls82r+s6jqNpmrIsE1Ih4DiOZVl4edP0d9O+i49vXITveYqiMAyj63pRlDzPh2E4TVPbdrjf5f/R/7P5ynFV2EN3HMe4vOd58zzDzjAMKN7/jBvatp0kyXQiPwENxFEUpSfAIkbRMAwYwXTf9zGOwg2DIHiIEbvuB1rDExhUFEWWZZgFynEcyNB8ib8ASuP46qRLJt4AAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2020 01 10 11 53 07" title="" data-src="/static/2020-01-10-11-53-07-9938aa85812a1fb84f2ae86eeeec6915-70b68.png" data-srcset="/static/2020-01-10-11-53-07-9938aa85812a1fb84f2ae86eeeec6915-74086.png 200w,\n/static/2020-01-10-11-53-07-9938aa85812a1fb84f2ae86eeeec6915-70b68.png 266w" data-sizes="(max-width: 266px) 100vw, 266px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>核心 CSS 代码如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="52884226938116590000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`p > img {\n   width: 16px;\n   height: 16px;\n   vertical-align: 25%;\n   position: relative;\n   top: 8px;\n}`, `52884226938116590000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">p > img</span> <span class="token punctuation">{</span>\n   <span class="token property">width</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>\n   <span class="token property">height</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>\n   <span class="token property">vertical-align</span><span class="token punctuation">:</span> 25%<span class="token punctuation">;</span>\n   <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>\n   <span class="token property">top</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>原理如下：内联元素默认基线对齐，图片的基线可以看成是图片的下边缘，文字内容的基线是字符 x 下边缘，因此，本例中，图片下边缘默认和“中文”两个汉字字形底边缘往上一点的位置对齐。然后，我们通过 <code class="language-text">vertical-align: 25%</code> 声明让图片的下边缘和中文汉字的中心线对齐。此时，图标和文字的状态应该如图 8-2 所示。</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2020-01-10-11-55-22-e5a618701a17fdcd82a83923c544c0b6-3a985.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 186px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 55.91397849462365%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABuElEQVQoz41RXW+iUBD1n/cPtE/btElj3Jj2wZpN3WW7gWLVxA3djcaP4lcFEVRULuUCAuIGUfdEmybd+LDzAHNnzpk5M5PY7Xbb7Rbf5XLpeR4xjKGiwHcdJwiC0WikqWrg+5RS0zQptcIwfKck3j1d13+w7Je7u6tkkuP535XKt+9MMpX6nE5/ZZihpgEkKaphGEfIrm1XSiXh8dHU9dz19cqynp+efnJc+vJS4POR63rk9dPpRf9FAniz2Xwgm4Rs47h0f39zfh4Aapq/WPYhmz07OSnmcnQ4xGBU1V4JOdJ5Pp8/iyIUQmq+UJgR4odhjmHyxeKfKFruR12tVhalR8jYB8dyk8kEe8rzvCiKNqW3mUy/3/cWCwIzjKmuY6kfyP/YIfE/lnBdt1wua5o2GAxwGITG47EgCN1u13EcVVWRQnNEms1mrVbDdFAnSZLv+wmIRBR3Amg6nR70g4mT4No4L1Ive+t0OqiFLMiz2SyKojfZcRyDCQLQrVYLPvqDhp6QgydGtm3bsqx2u71er99kH34oAxAKK4rSaDTr9YYsSxgEUGyu1+vJsqzsrVqtYueH1fwFnSdPPjUI9wcAAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2020 01 10 11 55 22" title="" data-src="/static/2020-01-10-11-55-22-e5a618701a17fdcd82a83923c544c0b6-3a985.png" data-srcset="/static/2020-01-10-11-55-22-e5a618701a17fdcd82a83923c544c0b6-3a985.png 186w" data-sizes="(max-width: 186px) 100vw, 186px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>图 8-2 完全就是实例效果注释 <code class="language-text">top: 8px</code> 后的截图标注，没有任何加工。看上去似乎上面小，实际上是视觉误差，分隔线上下完全均等，1 像素不差。</p>\n<p>由于我们这里的图标是固定的像素尺寸，因此，通过偏移自身 1/2 高度来实现真正的居中，可以使用 CSS3 transform 位移，我这里为了兼容性，使用了 relative 相对定位。</p>\n<p>其居中原理本质上和绝对定位元素 50% 定位加偏移自身 1/2 尺寸实现居中是一样的，只不过这里的偏移使用的是 vertical-align 百分比值。</p>\n<p>这么一看，vertical-align 百分比属性值似乎还是有点用的！如果再联想到 <code class="language-text">vertical-align: middle</code> 实现垂直居中效果经常不尽如人意，说不定还能找到一块更好的宝。但我要告诉你，其实还有更好的实现，那就是使用单位 ex。例如，将前面例子中的 <code class="language-text">vertical-align: 25%</code> 改成 <code class="language-text">vertical-align: .6ex</code>，效果基本上就是一样的，并且还多了一个优点，就是使用 <code class="language-text">vertical-align: .6ex</code> 实现的垂直居中效果不会受 line-height 变化影响，而使用 <code class="language-text">vertical-align: 25%</code>，line-height 一旦变化，就必须改变原来的 vertical-align 大小、重新调整垂直位置，这容错性明显就降了一个层次。</p>\n<p>因此，虽然例子演示的是 vertical-align 百分比值，实际上是推荐使用与 font-size 有着密切关系的 ex 单位。</p>\n<p>说到这里，忍不住想介绍另外一些和 font-size 有着密切的关系的东西。</p>\n<h2 id="理解-font-size-与-ex、em-和-rem-的关系"><a href="#%E7%90%86%E8%A7%A3-font-size-%E4%B8%8E-ex%E3%80%81em-%E5%92%8C-rem-%E7%9A%84%E5%85%B3%E7%B3%BB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>理解 font-size 与 ex、em 和 rem 的关系</h2>\n<p>ex 是字符 x 高度，显然和 font-size 关系密切，font-size 值越大，自然 ex 对应的大小也就大，对此本书前面已经有介绍，这里不赘述。</p>\n<p>下面来看看单位 em。如果说 ex 是字符 x 高度，那是不是 em 就是字符 m 的高度？</p>\n<p>我的回答是“不是的”，但是 em 和字符 m 确实有关。em 在传统排版中指一个字模的高度（可以脑补下活字印刷的字模）。</p>\n<p>例如，浏览器默认 font-size 大小是 16px，假设一个<code class="language-text">&lt;div&gt;</code>宽度是 160px，则正好可以放下 10 个汉字不换行；如果是 159px 像素，第十个汉字就会掉下来；如果再同时设置 line-height:1 和一个背景色，代码如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="99632902912416550000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`div {\n   width: 160px;\n   line-height: 1;\n   background-color: #eee;\n}`, `99632902912416550000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>\n   <span class="token property">width</span><span class="token punctuation">:</span> 160px<span class="token punctuation">;</span>\n   <span class="token property">line-height</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>\n   <span class="token property">background-color</span><span class="token punctuation">:</span> #eee<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>我们就会发现中文汉字的尺寸就可以看作 em 单位的代名词，尤其在高度这一块，简直分毫不差，如图 8-3 所示。</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2020-01-13-15-12-20-4714542444b599c959ead4224b3f1738-2ee65.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 220px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 50.45454545454545%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABW0lEQVQoz12SSY+CQBCF+f+/gqsJ8eYSIqLCJB6MQqJBUTQuxCWekE3FYT5ohzhTiZXqV+81r6qVXq/XZrNZrVbz+Zzsed5yuVwsFl4ZAiRc1wWkWK/Xs9nscDjkeS7dbjdZlpvNZqPRUFW1Vqv1ej1N0+r1OmCr1ep2u4DtdpuuoigcacEpxGmaQup0OoZhAEH6KgMqPKMMCP1+H5AuR64eDoeFOC/j+zfyv/GJVHVVSFRZljG5QKtC1FWI478PSIyOQ5Y0mUwulwtbieOYxvl8FohlWWx0Op3u93vf92GCMAXzFmJd19EMBgMyAiGGx3jX65WFn04n9GT04gloJUki4fnTSVbG8/nkCnIURY/Hgxe53+/U5DAMQd62+XHAHhZom6bJVm3bdhzneDxyxD9vgxG+udvtRqPReDwWeynEQRCweiaBJ1zhHzGe+T8g4DoyhO12y3WMJsQ/Qu0Qoyp8orIAAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2020 01 13 15 12 20" title="" data-src="/static/2020-01-13-15-12-20-4714542444b599c959ead4224b3f1738-2ee65.png" data-srcset="/static/2020-01-13-15-12-20-4714542444b599c959ead4224b3f1738-6af5a.png 200w,\n/static/2020-01-13-15-12-20-4714542444b599c959ead4224b3f1738-2ee65.png 220w" data-sizes="(max-width: 220px) 100vw, 220px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>也就是说，em 就是’中’等汉字的高度！于是，我们对 em 的理解就更加简单了，直接看一个很容易理解错误的题目，在 Chrome 浏览器下，<code class="language-text">&lt;h1&gt;</code>元素有如下的默认 CSS：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="76276823117058100000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`h1 {\n   font-size: 2em;\n   -webkit-margin-before: 0.67em;\n   -webkit-margin-after: 0.67em;\n}`, `76276823117058100000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">h1</span> <span class="token punctuation">{</span>\n   <span class="token property">font-size</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>\n   <span class="token property">-webkit-margin-before</span><span class="token punctuation">:</span> 0.67em<span class="token punctuation">;</span>\n   <span class="token property">-webkit-margin-after</span><span class="token punctuation">:</span> 0.67em<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>那么，假设页面没有任何 CSS 重置，根元素 font-size 就是默认的 16px，请问：此时<code class="language-text">&lt;h1&gt;</code>元素 margin-before 的像素计算值是多少？</p>\n<p>如果对 em 了解不够，很容易认为 1em 大小就是 16px，于是计算值是 <code class="language-text">16px × 0.67 = 10.72px</code>，实际上这是错误的。</p>\n<p>我们可以这样想，假设 <code class="language-text">&lt;h1&gt;</code> 里面有汉字，此时汉字的高度是多少？这个高度就是此时 1em 大小。<code class="language-text">&lt;h1&gt;</code> 元素此时 font-size 是 2em，算一下就是 32px，因此，此时里面汉字的高度应该是 32px，也就是说，此时<code class="language-text">&lt;h1&gt;</code>元素的 1em 应该是 32px，于是 margin-before 的像素计算值为 <code class="language-text">32px × 0.67 = 21.44px</code>，和浏览器自己的计算值一样，如图 8-4 所示。</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2020-01-13-15-15-42-1bf2eb3d92fd3fe07d9f3f18a628b52e-4c7f3.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 384px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 41.92708333333333%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsSAAALEgHS3X78AAABKklEQVQY001Qi46DIBD0/z+uD2MkqGe1obSaCoIilVO5OWmTToIs7u7szEZ6GIwQNs+nspybZqJ0+vmZ29ZQ+ivE5v22rtsHTdM8Ho+6rp1z3vtI9r243VQcK0p1XcvzuSdkqGuVpqoozDBMHxhjGGNVVRFClFLoj5TWQ9uOhJiytJwPaWqKAsFUVYtzy7Ks67rsQICZUsrwhJBISNkx1p9OGKguF3E4yCTRjIk41pwba80HGE4phezX6zWO4zzPEQhAieM3GPQbJji3R/+f/X4HIQ5Yd0Qhd71e8zzHPrTW1lrI45zfOBdCIJVlGawWRQGroSBwvZvRhjTqns8nJAUu9LAd2Q5oRlmLBY3ju/lbG1hRkSQJBnZdh92AC1bv9zt+Ho9HMH4b+QO7rL/fNhCp+QAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2020 01 13 15 15 42" title="" data-src="/static/2020-01-13-15-15-42-1bf2eb3d92fd3fe07d9f3f18a628b52e-4c7f3.png" data-srcset="/static/2020-01-13-15-15-42-1bf2eb3d92fd3fe07d9f3f18a628b52e-370ca.png 200w,\n/static/2020-01-13-15-15-42-1bf2eb3d92fd3fe07d9f3f18a628b52e-4c7f3.png 384w" data-sizes="(max-width: 384px) 100vw, 384px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>乍一看，似乎出现了死循环悖论：<code class="language-text">font-size: 2em</code>，于是 1em 变成 32px，那此时的 2em 不又是 64px，然后又……</p>\n<p>正如前面提到过的一样，CSS 世界的渲染是一次渲染，是不会有死循环的。这里是先计算 font-size，然后再计算给其他使用 em 单位的属性值大小。</p>\n<p>总结如下：在 CSS 中，1em 的计算值等同于当前元素所在的 font-size 计算值，可以将其想象成当前元素中（如果有）汉字的高度。</p>\n<p>所有相对单位的好处都是一样的，样式表现更具有弹性。例如，理论上，有一个布局，希望小屏时整体缩小，大屏时再弹性扩大，此时就可以让所有元素宽高尺寸等都使用 em，于是，最后只要改变布局祖先元素的 font-size 大小就可以实现整体的弹性变化。</p>\n<p>这种策略很棒，也确实可行，但是有一个比较麻烦的事情，它和上面 <code class="language-text">&lt;h1&gt;</code> 元素计算一样的麻烦，em 是根据当前 font-size 大小计算的，一旦布局中出现标题这种跟基础 font-size 大小不一样的场景的时候，标题里面所有元素 em 都要重新计算一遍，甚为麻烦，最终的成品维护成本就比较高了。</p>\n<p>正是由于这种局限性，另外一个和 font-size 密切相关的单位出现了，就是 rem，即 root em，顾名思义，就是根元素 em 大小。em 相对于当前元素，rem 相对于根元素，本质差别在于当前元素是多变的，根元素是固定的，也就是说，如果使用 rem，我们的计算值不会受当前元素 font-size 大小的影响，假设 <code class="language-text">&lt;h1&gt;</code> 的默认 CSS 是这样：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="5513271821508403000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`h1 {\n   font-size: 2em;\n   -webkit-margin-before: 0.67rem;\n   -webkit-margin-after: 0.67rem;\n}`, `5513271821508403000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">h1</span> <span class="token punctuation">{</span>\n   <span class="token property">font-size</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>\n   <span class="token property">-webkit-margin-before</span><span class="token punctuation">:</span> 0.67rem<span class="token punctuation">;</span>\n   <span class="token property">-webkit-margin-after</span><span class="token punctuation">:</span> 0.67rem<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>那么 2em 的 font-size 计算值会被忽略，直接使用根元素的 16px 进行计算，于是 margin-before 计算值是 16 像素 ×0.67 = 10.72 像素。</p>\n<p>因此，要想实现带有缩放性质的弹性布局，使用 rem 是最佳策略，但 rem 是 CSS3 单位，IE9 以上浏览器才支持，需要注意兼容性，我这里就不再多介绍了。</p>\n<p>回到 em 单位。em 实际上更适用于图文内容展示的场景，对此进行弹性布局。例如 <code class="language-text">&lt;h1&gt;～&lt;h6&gt;</code> 以及 <code class="language-text">&lt;p&gt;</code> 等与文本内容展示的元素的 margin 都是用 em 作为单位，这样，当用户把浏览器默认字号从“中”设置成“大”或改成“小”的时候，上下间距也能根据字号大小自动调整，使阅读更舒服。</p>\n<p>再举个适用于 em 的场景，如果我们使用 SVG 矢量图标，建议设置 SVG 宽高如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="23508489387920450000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`svg {\n   width: 1em;\n   height: 1em;\n}`, `23508489387920450000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">svg</span> <span class="token punctuation">{</span>\n   <span class="token property">width</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>\n   <span class="token property">height</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>这样，无论图标是个大号文字混在一起还是和小号文字混在一起，都能和当前文字大小保持一致，既省时又省力。</p>\n<h2 id="理解-font-size-的关键字属性值"><a href="#%E7%90%86%E8%A7%A3-font-size-%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97%E5%B1%9E%E6%80%A7%E5%80%BC" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>理解 font-size 的关键字属性值</h2>\n<p>font-size 支持长度值，如 1em，也支持百分比值，如 100%。这两点想必众所周知，但 font-size 还支持关键字属性值这一点怕是就有不少人不清楚了。</p>\n<p>font-size 的关键字属性值分以下两类。</p>\n<ol>\n<li>\n<p><strong>相对尺寸关键字。</strong></p>\n<p>指相对于当前元素 font-size 计算，包括：</p>\n<ul>\n<li>larger：大一点，是 <code class="language-text">&lt;big&gt;</code> 元素的默认 font-size 属性值。</li>\n<li>smaller：小一点，是 <code class="language-text">&lt;small&gt;</code> 元素的默认 font-size 属性值。</li>\n</ul>\n</li>\n<li>\n<p><strong>绝对尺寸关键字。</strong></p>\n<p>与当前元素 font-size 无关，仅受浏览器设置的字号影响。注意这里的措辞，是“浏览器设置”，而非“根元素”，两者是有区别的。</p>\n<ul>\n<li>xx-large：好大好大，和 <code class="language-text">&lt;h1&gt;</code> 元素计算值一样。</li>\n<li>x-large：好大，和 <code class="language-text">&lt;h2&gt;</code> 元素计算值一样。</li>\n<li>large：大，和 <code class="language-text">&lt;h3&gt;</code> 元素计算值近似</li>\n<li>medium：不上不下，是 font-size 的初始值，和 <code class="language-text">&lt;h4&gt;</code> 元素计算值一样。</li>\n<li>small：小，和 <code class="language-text">&lt;h5&gt;</code> 元素计算值近似。</li>\n<li>x-small：好小，和 <code class="language-text">&lt;h6&gt;</code> 元素计算值近似。</li>\n<li>xx-small：好小好小，无对应的 HTML 元素。</li>\n</ul>\n</li>\n</ol>\n<p>其中，相对尺寸关键字 larger 和 smaller 由于计算的系数在不同浏览器下差异很大，因此实用价值有限，只有类似文档页、帮助页这类对文字尺寸要求不高的场合才有用；而绝对尺寸关键字的实用性要大一些，而且在某些场合是推荐使用的关键字属性值，这个要慢慢讲。</p>\n<p>下面两个 CSS 代码有什么区别？</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="5294658330905944000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n   font-size: 14px;\n}\n\nhtml {\n   font-size: 87.5%;\n}`, `5294658330905944000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n   <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">html</span> <span class="token punctuation">{</span>\n   <span class="token property">font-size</span><span class="token punctuation">:</span> 87.5%<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>在绝大多数场景下，两者没有差别，全都计算为 14px，但是如果用户对浏览器的字号进行了调整，例如，把默认的“中”设置成了“大”，如图 8-5 所示（截自 Chrome 浏览器），那么此时，font-size: 14px 计算值还是 14px，但 font-size: 87.5% 的计算值则大了一圈，于是差别就出现了。如果是像素单位 font-size，用户改变浏览器的默认字号后，页面会微丝不动；如果是百分比值 font-size，则字号相应放大，这就涉及用户体验和可访问性问题了。</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2021-12-14-13-54-00-e41e5062f8fdbd9552cf845c2b9ac92f-f0556.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 596px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 59.56375838926174%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB7ElEQVQoz1VSy46bMBTlN6tuqq7bZX+kf9FNNYuRKs1ITTaV2pm0E5WnDcZgA+ERCIQBAhjoJUyT9ujKutb1uY9zLVnEXq9WP75/+/W0jaI4CILdbheChefzamEUzogA59N1XYlSxzRNzlmaZsMwCCG6XuRlUzyfjlV3sbw8Hcq6LMvDIQeU5TMhtpQkyX6/T/bZ9BetmBREMWFemLIgAeO7vUl97IQmxpvHzXa7VWRZUVQJGkjTNI5jyCHEAGQxTrrFZcyySqRld7WibU9gM/qum9sGGpA93+Oc930/k4fpWBz6tpr+xzAO4ziCs5ygjuR5XlW9vFtCdTveq4c71KzouKZiTYev9nBniY3XQQZIANK8kFVNe3h4XO4LuThNH75Urz8d39xO72/ydzfHt7fTq8/jx4el/j+V58XMGwijOIIRYA+E0qefG+X3NuCu59iujcOABZxijFVNRxib2KzqBsaUsiwjNoGARSzOmONQFaAjYjs6MjUDqwYyTEszkCyfI7ouy7LjuoHvSxc9mrqmNoEdNqe2rutdEBR5fixykBOKeIzB36COG8XJRTNpPGMmNw0oTimFGaB/w4AaBsbIcVxwETIgBH6czORhFm68Vl5S+D7XNA2ZlqrAL1BgQGiBMWZZBHKen1zxB7rpj8T9dgNrAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2021 12 14 13 54 00" title="" data-src="/static/2021-12-14-13-54-00-e41e5062f8fdbd9552cf845c2b9ac92f-f0556.png" data-srcset="/static/2021-12-14-13-54-00-e41e5062f8fdbd9552cf845c2b9ac92f-ae33b.png 200w,\n/static/2021-12-14-13-54-00-e41e5062f8fdbd9552cf845c2b9ac92f-daf23.png 400w,\n/static/2021-12-14-13-54-00-e41e5062f8fdbd9552cf845c2b9ac92f-f0556.png 596w" data-sizes="(max-width: 596px) 100vw, 596px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>正常情况下，14 像素的文字大小是足够的，但是，如果是高度近视的用户，或者上班急急忙忙忘记戴眼镜，或者在投影仪上投影网页内容，此时就有大字号浏览网页的需求，如果使用固定的像素单位，显然对这些使用场景是不友好的。</p>\n<p>好在浏览器还提供了“网页缩放”功能，但是此功能也是有局限性的：如果网页是定宽非响应式的，则网页放大后窗体以外的内容就看不到了，在 Chrome/Firefox 浏览器下甚至连个水平滚动条都没有，说不定重要信息就会看不到。由此可见，我们是不能轻易忽视浏览器字号设置功能的。</p>\n<p>然而，现代网页设计得很精致，要想网页布局跟随字体内容缩放实在两难，要么使用 em，但 em 计算与当前 font-size 耦合，不好维护；要么使用 rem，但 IE8 不支持，桌面端使用尴尬。因此，现实的压迫导致我们只能使用 px 进行布局，尤其桌面端网页。</p>\n<p>如何权衡“易于实现维护”“视觉还原”“可访问性”这三者，我这里有两个建议。</p>\n<ol>\n<li>\n<p>即使是定宽的传统桌面端网页，也需要做响应式处理，尤其是针对 1200 像素宽度设计的网页，但只需要响应到 800 像素即可，可以保证至少有 1.5 倍的缩放空间，如果做到这一步，那么是否需要响应浏览器的字号设置这一点就可以忽略。</p>\n</li>\n<li>\n<p>如果因各种原因无法做响应式处理，也没有必要全局都使用相对单位，毕竟成本等现实问题摆在那里，其实只需要在图文内容为主的重要局部区域使用可缩放的 font-size 处理即可。例如，小说网站的阅读页、微信公众号文章展示区、私信对话内容区、搜索引擎的落地页、评论区等，都强烈建议摒弃 px 单位，而采用下面的实践策略。</p>\n<ul>\n<li>\n<p>容器设置 font-size: medium，此时，这个局部展示区域的字号就跟着浏览器的设置走了，默认计算值是 16px。</p>\n</li>\n<li>\n<p>容器内的文字字号全部使用相对单位，如百分比值或者 em 都可以，然后基于 16px 进行转换。例如：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="20367820653421550000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`.article {\n font-size: medium;\n}\n.article h1 {\n font-size: 2em;\n margin: 0.875em 0;\n}\n.article p {\n font-size: 87.5%; /* 默认字号下计算值是 14px */\n margin: 1em 0;\n}`, `20367820653421550000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">.article</span> <span class="token punctuation">{</span>\n <span class="token property">font-size</span><span class="token punctuation">:</span> medium<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">.article h1</span> <span class="token punctuation">{</span>\n <span class="token property">font-size</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>\n <span class="token property">margin</span><span class="token punctuation">:</span> 0.875em 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">.article p</span> <span class="token punctuation">{</span>\n <span class="token property">font-size</span><span class="token punctuation">:</span> 87.5%<span class="token punctuation">;</span> <span class="token comment">/* 默认字号下计算值是 14px */</span>\n <span class="token property">margin</span><span class="token punctuation">:</span> 1em 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n</ul>\n</li>\n</ol>\n<p>同时使用自适应流体布局，间距什么的也使用相对单位，例如上面 margin 使用的是 em 单位。于是，当用户改变了浏览器的字号后，整个阅读区域的所有字样甚至布局都会跟着放大，文字一下子就看清楚了。这种局部处理的好处在于，页面的导航、侧边栏这些不需要长时间阅读的模块还是原来的像素布局，还是那么精致，丝毫不受影响。就这么很微小的变动，就可以让你的网页在可访问性这一块超越大多数的网站，何乐而不为？</p>\n<p>可以看到，绝对尺寸关键字在实际项目中还有很有价值的，但有价值的仅仅是 medium，至于其他关键字，作用仅限于字面上的那点儿，大家了解一下即可。</p>\n<h2 id="font-size-0-与文本的隐藏"><a href="#font-size-0-%E4%B8%8E%E6%96%87%E6%9C%AC%E7%9A%84%E9%9A%90%E8%97%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>font-size: 0 与文本的隐藏</h2>\n<p>桌面 Chrome 浏览器下有个 12px 的字号限制，就是文字的 font-size 计算值不能小于 12px，我猜是因为中文，如宋体，要是小于 12px，就会挤成成一团，略丑，Chrome 看不下去，就直接禁用了。</p>\n<p>正是这种限制导致我们在使用 em 或 rem 进行布局的时候，不能这么处理：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="86437163247423570000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n   font-size: 62.5%;\n}`, `86437163247423570000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n   <span class="token property">font-size</span><span class="token punctuation">:</span> 62.5%<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>理论上，此时根字号计算值是 16px*0.625=10px，于是 <code class="language-text">width: 14px</code> 可以写成 <code class="language-text">width: 1.4em</code>，省了很多计算的麻烦。但是，在 Chrome 下由于 12px 的限制，根字号计算值实际不是 10px，而是 12px，所以，可以试试处理成这样：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="68358314457937740000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n   font-size: 625%;\n}`, `68358314457937740000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n   <span class="token property">font-size</span><span class="token punctuation">:</span> 625%<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>此时根字号计算值是 100px，既计算无忧，又没有 12px 的最小字号限制。</p>\n<p>但是我个人建议还是不要这样处理，尤其使用 em 的时候，因为 font-size 属性和 line-height 属性一样，由于继承性的存在，会影响贯穿整个网页，100px 的环境 font-size 一定会将平时不显山露水的底边对齐问题、间隙问题等放大，导致出现一些明显的样式问题，如果对 CSS 了解不是很深刻，怕是很难明白为什么会发生这样的问题。同时这样做也限制了 px 等其他单位的使用，有时候是比较要命的。</p>\n<p>因此，我的建议是仍基于浏览器默认的字号进行相对计算，也就是 medium 对应的 16px，16 这个数字是一定可以整除的，因此计算成本还行，或者使用 Sass 或 Less 之类的工具辅助计算。</p>\n<p>还是回到字号限制的问题。实际上，并不是所有小于 12px 的 font-size 都会被当作 12px 处理，有一个值例外，那就是 0，也就是说，如果 font-size:0 的字号表现就是 0，那么文字会直接被隐藏掉，并且只能是 <code class="language-text">font-size: 0</code>，哪怕设置成 font-size: 0.0000001px，都还是会被当作 12px 处理的。</p>\n<p>因此，如果希望隐藏 logo 对应元素内的文字，除了 text-indent 缩进隐藏外，还可以试试下面这种方法：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="25555356444232100000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`.logo {\n   font-size: 0;\n}`, `25555356444232100000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">.logo</span> <span class="token punctuation">{</span>\n   <span class="token property">font-size</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<h1 id="字体属性家族的大家长-font-family"><a href="#%E5%AD%97%E4%BD%93%E5%B1%9E%E6%80%A7%E5%AE%B6%E6%97%8F%E7%9A%84%E5%A4%A7%E5%AE%B6%E9%95%BF-font-family" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>字体属性家族的大家长 font-family</h1>\n<p>font-family 默认值由操作系统和浏览器共同决定，例如 Windows 和 OS X 下的 Chrome 默认字体不一样，同一台 Windows 系统的 Chrome 和 Firefox 浏览器默认字体也不一样。</p>\n<p>font-family 支持两类属性值，一类是“字体名”，一类是“字体族”。“字体名”很好理解，就是使用的对应字体的名称。例如：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="20413885815126176000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body {\n   font-family: simsun;\n}`, `20413885815126176000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>\n   <span class="token property">font-family</span><span class="token punctuation">:</span> simsun<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>就表示使用的是“宋体”。如果字体名包含空格，需要使用引号包起来。例如：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="4900862036659647000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body {\n   font-family: \'Microsoft Yahei\';\n}`, `4900862036659647000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>\n   <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">\'Microsoft Yahei\'</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>根据我的实践，可以不用区分大小写。如果有多个字体设定，从左往右依次寻找本地是否有对应的字体即可。例如：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="1337777654002625300"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body {\n   font-family: \'PingFang SC\', \'Microsoft Yahei\';\n}`, `1337777654002625300`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>\n   <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">\'PingFang SC\'</span><span class="token punctuation">,</span> <span class="token string">\'Microsoft Yahei\'</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>就是先寻找是否本地有 PingFang SC 字体；如果没有，则继续寻找本地是否有 Microsoft Yahei 字体；如果都没找到，就使用默认值。</p>\n<p>但是，“字体族”分为很多类，MDN 上文档分类如下：</p>\n<ul>\n<li>font-family: serif;</li>\n<li>font-family: sans-serif;</li>\n<li>font-family: monospace;</li>\n<li>font-family: cursive;</li>\n<li>font-family: fantasy;</li>\n<li>font-family: system-ui;</li>\n</ul>\n<p>具体含义解释如下。</p>\n<ul>\n<li>serif：衬线字体。</li>\n<li>sans-serif：无衬线字体。</li>\n<li>monospace：等宽字体。</li>\n<li>cursive：手写字体。</li>\n<li>fantasy：奇幻字体。</li>\n<li>system-ui：系统 UI 字体。</li>\n</ul>\n<p>对于中文网站，cursive 和 fantasy 应用场景有限，因此这里不予探讨，这里着重介绍一下衬线字体、无衬线字体和等宽字体。</p>\n<h2 id="了解衬线字体和无衬线字体"><a href="#%E4%BA%86%E8%A7%A3%E8%A1%AC%E7%BA%BF%E5%AD%97%E4%BD%93%E5%92%8C%E6%97%A0%E8%A1%AC%E7%BA%BF%E5%AD%97%E4%BD%93" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>了解衬线字体和无衬线字体</h2>\n<p>字体分衬线字体和无衬线字体。所谓衬线字体，通俗讲就是笔画开始、结束的地方有额外装饰而且笔画的粗细会有所不同的字体。网页中常用中文衬线字体是“宋体”，常用英文衬线字体有 Times New Roman、Georgia 等。无衬线字体没有这些额外的装饰，而且笔画的粗细差不多，如中文的“雅黑”字体，英文包括 Arial、Verdana、Tahoma、Helivetica、Calibri 等</p>\n<p>以前人们排正文喜欢使用衬线字体，但是如今，不知是审美疲劳还是人们更加追求简洁干净的缘故，更喜欢使用无衬线字体，如“微软雅黑”或者“苹方”之类的字体。</p>\n<p>在 CSS 世界中，字体是有对应的属性值的，如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="78673616901270570000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`font-family: serif; /* 衬线字体 */\nfont-family: sans-serif; /* 无衬线字体 */`, `78673616901270570000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token property">font-family</span><span class="token punctuation">:</span> serif<span class="token punctuation">;</span> <span class="token comment">/* 衬线字体 */</span>\n<span class="token property">font-family</span><span class="token punctuation">:</span> sans-serif<span class="token punctuation">;</span> <span class="token comment">/* 无衬线字体 */</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>\n<p>我们在移动端 Web 开发的时候，虽然设备的默认中文字体不一样，但都是无衬线，都挺好看的，因此可以直接使用下面的 CSS 代码：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="78869689134588480000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body {\n   font-family: sans-serif;\n}`, `78869689134588480000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>\n   <span class="token property">font-family</span><span class="token punctuation">:</span> sans-serif<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>没有必要特别指定中文字体，否则说不定会画蛇添足。</p>\n<p>serif 和 sans-serif 还可以和具体的字体名称写在一起，例如：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="5319596220873457000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body {\n   font-family: \'Microsoft Yahei\', sans-serif;\n}`, `5319596220873457000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>\n   <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">\'Microsoft Yahei\'</span><span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>但是需要注意的是，serif 和 sans-serif 一定要写在最后，因为在大多数浏览器下，写在 serif 和 sans-serif 后面的所有字体都会被忽略。例如：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="24133825833000790000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body {\n   font-family: sans-serif, \'Microsoft Yahei\';\n}`, `24133825833000790000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>\n   <span class="token property">font-family</span><span class="token punctuation">:</span> sans-serif<span class="token punctuation">,</span> <span class="token string">\'Microsoft Yahei\'</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>在 Chrome 浏览器下，后面的 Microsoft Yahei 字体是不会被渲染的。据我的推测，有可能浏览器认为当前“字体族”已经满足了文本渲染的需要，没必要再往后解析了</p>\n<h2 id="等宽字体的实践价值"><a href="#%E7%AD%89%E5%AE%BD%E5%AD%97%E4%BD%93%E7%9A%84%E5%AE%9E%E8%B7%B5%E4%BB%B7%E5%80%BC" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>等宽字体的实践价值</h2>\n<p>所谓等宽字体，一般是针对英文字体而言的。据我所知，东亚字体应该都是等宽的，就是每个字符在同等 font-size 下占据的宽度是一样的。但是英文字体就不一定了，我随便写一个单词，就 iMac 吧，大家很明显地发现这个字符 i 要比 M 占据的宽度小。如果这样看着还不够清楚，那我换一种呈现方式，上下两行，上一行 6 个 i，下一行 6 个 M，如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="38066557974597170000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`iiiiii\nMMMMMM`, `38066557974597170000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title=""\n              >\n                \n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">iiiiii\nMMMMMM</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>\n<p>实际的两行文本的宽度可能就如图 8-6 所示这般差异明显。</p>\n<p>但是，如果是等宽字体（可以让英文字符同等宽度显示的字体就称为“等宽字体”），如 Consolas、Monaco、monospace，则宽度表现就不一样了，如图 8-7 所示。</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2021-12-15-11-28-20-1e4bef06e0935327554432992b9e4271-8aa68.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 758px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 17.150395778364118%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsSAAALEgHS3X78AAAAbUlEQVQI14WNQQ6DMAwE8/83lkDcUBuRCuQEirBLapVbJdSV9jCH2XW1VhUhItV3/RdmfqY0zfPxRWcVEd/c7gBd2yENqnrhHojoW49EJ7tSymvb7BlCgAAxxmVdfySbyznLvpvcP/o0jobM+QNTTK0T0xvTPwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2021 12 15 11 28 20" title="" data-src="/static/2021-12-15-11-28-20-1e4bef06e0935327554432992b9e4271-8aa68.png" data-srcset="/static/2021-12-15-11-28-20-1e4bef06e0935327554432992b9e4271-9e0f4.png 200w,\n/static/2021-12-15-11-28-20-1e4bef06e0935327554432992b9e4271-8ee5b.png 400w,\n/static/2021-12-15-11-28-20-1e4bef06e0935327554432992b9e4271-8aa68.png 758w" data-sizes="(max-width: 758px) 100vw, 758px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>等宽字体在 Web 中有什么用呢？</p>\n<ol>\n<li>\n<p>等宽字体与代码呈现</p>\n<p>首先等宽字体利于代码呈现。对于写代码的人来说，无论是什么语言，易读是第一位，使用等宽字体，我们阅读起来会更轻松舒服。因此，一般编辑器使用的字体或者 Web 上需要呈现源代码的字体都是等宽字体。例如，即将出现的演示页面的源代码如图 8-8 所示。</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2021-12-15-11-30-20-2e255f122f2cc56180ecf01cc7d98fd1-5df43.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 503px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 41.5506958250497%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsSAAALEgHS3X78AAABLElEQVQY05VRR27EMAz0/z+318W6xyq25CKrd0deZIEAOWVAELzMDIespml6PB5t2wruvqaEcDpZQEgvq8Q7Ahv4WqfSD86vN/J1pXyldA9VjNFa3492HAMlEQINkZl3OlJATkoogRhCBLedKWWlNEIYCMKM036E6hZLaRjDMOaVRgDUMCp44Hp+DWRkp3DWWWtOprvG9n0g1BVKcS5VhZCEiE3rJxAZi2Qx82JXvqEDz2yR2sQbQUpXDDFOB/PXB5UxnpJESDYmXf9EISets/ORK3Xqs5TzXorIheNaMMWE5sY4fkal4vtev8iCx+O4N9+52OTG7ZlSPnbPeVRe7XKTVpZojGWp/jj/PCDfkkrK+lXPJbQ1fdc8n08IUFO3bddvGx2GTr4F8sf+G9SJyPCpbeFTAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2021 12 15 11 30 20" title="" data-src="/static/2021-12-15-11-30-20-2e255f122f2cc56180ecf01cc7d98fd1-5df43.png" data-srcset="/static/2021-12-15-11-30-20-2e255f122f2cc56180ecf01cc7d98fd1-ac36e.png 200w,\n/static/2021-12-15-11-30-20-2e255f122f2cc56180ecf01cc7d98fd1-3a669.png 400w,\n/static/2021-12-15-11-30-20-2e255f122f2cc56180ecf01cc7d98fd1-5df43.png 503w" data-sizes="(max-width: 503px) 100vw, 503px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n</li>\n<li>\n<p>等宽字体与图形呈现案例一则</p>\n<p>假设某工具有这么一个功能：通过下拉选择，可以改变元素的边框样式，也就是 borderStyle 在 solid/dashed/dotted 间切换。</p>\n<p>大家都知道，原生的 <code class="language-text">&lt;select&gt;</code> 的 <code class="language-text">&lt;option&gt;</code> 元素的 innerHTML 只能是纯 text 字符，不能有 html，也不支持伪元素，因此，要模拟 solid、dashed 和 dotted，只能使用字符，而字符有长有短，可以模拟成像样的规整的图形吗？</p>\n<p>可以的，试试使用等宽字体。</p>\n<p><html><head></head><body><iframe data-src="https://codesandbox.io/embed/g72o6b?codemirror=1&amp;hidenavigation=1&amp;theme=light&amp;view=split" class="embedded-codesandbox lazy" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin allow-downloads"></iframe></body></html></p>\n</li>\n<li>\n<p>ch 单位与等宽字体布局</p>\n<p>ch 和 em、rem、ex 一样，是 CSS 中和字符相关的相对单位。和 ch 相关的字符是 0，没错，就是阿拉伯数字 0。1ch 表示一个 0 字符的宽度，所以 6 个 0 所占据的宽度就是 6ch。</p>\n<p>由于 ch 是个 CSS3 单位，且 IE9 浏览器的宽度和其他浏览器明显不一样，因此此处不展开，但可以提一提一些不错的应用场景。例如，有些输入框是输入手机号的，在中国，手机号是 11 位，因此我们可以设置该输入框宽度为 11ch，同时让字体等宽，则用户一眼就能看出自己是否少输入或者多输入了 1 位数字。又如，我们想实现一个屏幕上代码一个一个出现的动效，如果代码是等宽字体，此时使用 ch 单位来控制宽度，配合 overflow 属性和 CSS animation 就能在完全不使用 JavaScript 的情况下将此效果模拟出来。当然，还有其他一些应用场景，不一一说明。</p>\n</li>\n</ol>\n<h2 id="中文字体和英文名称"><a href="#%E4%B8%AD%E6%96%87%E5%AD%97%E4%BD%93%E5%92%8C%E8%8B%B1%E6%96%87%E5%90%8D%E7%A7%B0" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>中文字体和英文名称</h2>\n<p>使用中文字体，就必须要知道其对应的英文名称，下面是一些常见中文字体对应的 font-family 英文属性名称。</p>\n<ol>\n<li>Windows 常见内置中文字体和对应英文名称见图 8-10</li>\n<li>OS X 系统内置中文字体和对应英文名称见图 8-11</li>\n<li>Office 软件安装新增中文字体和对应英文名称见图 8-12</li>\n<li>其他一些中文字体和对应英文名称见图 8-13</li>\n</ol>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2021-12-15-13-39-01-82d0a90f746c275e5e4a267ccdec2e89-27a33.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 352px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 152.27272727272728%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAIAAACjcKk8AAAACXBIWXMAAA7DAAAOwwHHb6hkAAADBklEQVQ4y41ViXKiQBDl//9od2t3o6lNjMYLPBDlBgFFQeWcAbMPiBExqcqrcQqn53X3dL8BJopjjJRQQrM4SesjjOKEEEwYSUoaViwxp9Op8/Ty++ffbncwHrLPT113fyBZHoTha2/468efh9+tQZ/999jZ7P2UZhGYcFT6YsI43u08XTNte7PZuGvTPpzChFBs2u99TTMMY+04rqGbxyDC+juzIhNK325xvuCr9QpZljFxHLMsO51OG7spSTVVm8/mmq6jHG93KMiEkDAMgyBoOM7zHOue55+OR+w736Eg00va9+avEq6lHYWd585sxue3aadpYtu2ICyd7fbtMxTkJIlFUTLNdSMaMnK3m+Xyg3wuf+fmmev+chy2HPfVbuyhGUXkRNP09XptWZa5trIsvzimrrvz/QPagZp5nnc4HHzPRxWvkaMwaLdbvd5rq/XQaj8m6Xv9IL9ZgbksyyzHyooirlbD4UjR9CuZflskdwWjxZkLjZMUQLdxBT4aDRNcV12BHc9oPgyg4aFqVdR5eh6zY9S82+2NRmNQ4BhdmE2ni4WgqSqSX61WgiDwiwVOMuEm7m6PDMvIAKYyThWqUlhhItWUIg5M2BYEIZayKnL9zF8p7N30dq76XD1nFCKJY47lJFn52FzRguC0EmXcijAKG/K4EYnv+6cgQJ4NG3qLEt63o0amV4XlNTQuRn4HOGWiKOJ5XipRD05IYllru0QYRZ9HBhkawg7TNOtkSsl2uzFKQKTfSPtyKxpp35zosqdIGwU7Ho5Ao2Cw4Q5AKpihgHu1FpEhEMMwDeTceBkkia7phcI0VZYVvCs/unhDrtKplEyuoFVJCxmX64WVXoEVpu7vO5epDua194JWiaI4m89olpu62h8MhOWCX/Cqqm5sGy0csyzHcStJXi2FdvthISwlUbEchzEMzcGnwnEc28aXyXW3kijyfHGNFFl2nI2NdluWqiqSJKNt4O/23h7wPKauZ01VRuPRYNCfcIg1FRY8N5lOJhNFlsDpD4b4Wz/mf7mbuPaXmxUHAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2021 12 15 13 39 01" title="" data-src="/static/2021-12-15-13-39-01-82d0a90f746c275e5e4a267ccdec2e89-27a33.png" data-srcset="/static/2021-12-15-13-39-01-82d0a90f746c275e5e4a267ccdec2e89-a9510.png 200w,\n/static/2021-12-15-13-39-01-82d0a90f746c275e5e4a267ccdec2e89-27a33.png 352w" data-sizes="(max-width: 352px) 100vw, 352px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2021-12-15-13-39-14-e964d4aa205be3bb736a3ec31baa91ee-2a196.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 762px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 90.15748031496064%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsSAAALEgHS3X78AAACQElEQVQ4y0WTiXajMAxF+f8f6wfM2pmmlECGzTbYZgsEOtcWbXVyHC960tOTSLLs+vP7779/Lsr0WZb/+PYrTa+m65tW970tbrfn5+fXy2Ucx7Ztizwvy/IfVpZKqaQsK62Ms37bd2sd10rp9fG4r6u11hhT1zWw4/39vtw7Y8ZhsH0/DKP3PuFtnuf3aN65pmnatlnXdX88nHNtq/I8J8RxHLg10bQxOA/DkHBIX1OycXbOdn0vgbZt895ppUO2aQK8LDPhvPOEDmAyG635URJnVsgcxy5gYmdvwbiUVFAgAYHOzJw7003jFGh7wg3xCXCgzRvCUDw30zh2HcwoeIhgn0DMGH2eIeqc0H7EmiMt42LmZQ60acE0zTGTD5mts6IZtHm+3+8C5rmsyltxg4XwVFp9qesjbZyWZREwrKR+ycwrN/IKzPYhzbHvJzj2RgltvDmQjQ2qsFIwDvQ/1DxNSmsu9xPsk6oq0VNahx6AcdqiIcGVkapK6Y21fVVV9gMc1KYZT09PDClnxi4vis8+B8GUYmUfBFuWcRih/ZXZdB1/4zjEmget9TQvZ83eh5q7bl03UUTatu/HWTNnRneQMYitksCiNjyZ33UT8ERoAskgBDBIPEQwvKUTqBXH08tX8YitGuOEHdFO2kHtjxnicymKQuSJ4+lfXl4ul9fP4W2aWkb1BKMwMwiY5Owhxi17F62OJiPJyiueUzQ2CRykSK1VcSugXVd1lmV892maRtr19XrlhuqK4oZGogjA/6n9AH2sBjRgAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2021 12 15 13 39 14" title="" data-src="/static/2021-12-15-13-39-14-e964d4aa205be3bb736a3ec31baa91ee-2a196.png" data-srcset="/static/2021-12-15-13-39-14-e964d4aa205be3bb736a3ec31baa91ee-ac3c7.png 200w,\n/static/2021-12-15-13-39-14-e964d4aa205be3bb736a3ec31baa91ee-daea7.png 400w,\n/static/2021-12-15-13-39-14-e964d4aa205be3bb736a3ec31baa91ee-2a196.png 762w" data-sizes="(max-width: 762px) 100vw, 762px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2021-12-15-13-39-37-4fbc123eacb7a79030b0f8761b26bc35-dbf5d.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 789px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 83.7769328263625%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABUklEQVQ4y5WTyXKDMBBE/f9faaiUY5DQvm+4QU4qFS6WODBIeprpUXPTxt7vs5BqJXSev5SxPsTW2v7BuMUYrbVtb855Z137GR/BIQTwiBCUUsZgkJzxUqpzDjymBuCcs9a61hOOse0jmVNKSqlSCySneLSq4vk8c/AeCX0I77L3Ec29bO89SogxjTVMCFlOWEoRYxiAjTHTNOVSBM5QElNXzf3zeugNDgGccuaCS9nhkW4jOe4ZZkHD6jn+wkrpdSVwMaXs+SQ+phAT9r81o08AQKLz1/IopTA/DE8IfTy+Ic5Yh/3vq0Lm3m1IuMJaK845ArjIWqOkPP6FcwPgwyS1lNDv+eJtmOfXglobYw3SwEqn5pyEgLeLNX22/dMMC3HOsIocjHEpRK/0gHHexhiEzdNECNnotiwLoRQxeon7U1qxjaFyhtdGl2U91ghxPrwA9lblrIeGmsAAAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2021 12 15 13 39 37" title="" data-src="/static/2021-12-15-13-39-37-4fbc123eacb7a79030b0f8761b26bc35-dbf5d.png" data-srcset="/static/2021-12-15-13-39-37-4fbc123eacb7a79030b0f8761b26bc35-604dc.png 200w,\n/static/2021-12-15-13-39-37-4fbc123eacb7a79030b0f8761b26bc35-70418.png 400w,\n/static/2021-12-15-13-39-37-4fbc123eacb7a79030b0f8761b26bc35-dbf5d.png 789w" data-sizes="(max-width: 789px) 100vw, 789px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<h2 id="一些补充说明"><a href="#%E4%B8%80%E4%BA%9B%E8%A1%A5%E5%85%85%E8%AF%B4%E6%98%8E" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>一些补充说明</h2>\n<p>微软正黑体是一款全面支持 ClearType 技术的 TrueType 无衬线字体，用于繁体中文系统。相对应地，中国大陆地区用的是微软雅黑。但由于中国大陆和中国港、澳、台地区在各自的文字规范中对汉字的写法规定有很多细节上的不同，所以这两套字形在正式场合是不能混淆使用的。</p>\n<p>我们平常所说的“宋体”，指的都是“中易宋体”，英文名称 SimSun，“黑体”类似的是“中易黑体”。在 OS X 常见内置中文字体中我罗列了一个“宋体-简”，需要注意的是，这个“宋体- 简”和我们平常所说的“宋体”并不是同一个字体，其英文名称是“Songti SC”，字形表现也有差异。</p>\n<p>OS X 也就是苹果操作系统的字体名称中经常会出现“SC”，这个“SC”指的是“简体” （simplified chinese）的意思，相对应的还有“TC”，指的是“繁体”（traditional chinese）的意思。</p>\n<h1 id="字体家族其他成员"><a href="#%E5%AD%97%E4%BD%93%E5%AE%B6%E6%97%8F%E5%85%B6%E4%BB%96%E6%88%90%E5%91%98" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>字体家族其他成员</h1>\n<h2 id="貌似粗犷、实则精细无比的-font-weight"><a href="#%E8%B2%8C%E4%BC%BC%E7%B2%97%E7%8A%B7%E3%80%81%E5%AE%9E%E5%88%99%E7%B2%BE%E7%BB%86%E6%97%A0%E6%AF%94%E7%9A%84-font-weight" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>貌似粗犷、实则精细无比的 font-weight</h2>\n<p>font-weight 都支持哪些属性值。具体如下</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="67299526796873654000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`/* 平常用的最多的 */\nfont-weight: normal;\nfont-weight: bold;\n/* 相对于父级元素 */\nfont-weight: lighter;\nfont-weight: bolder;\n/* 字重的精细控制 */\nfont-weight: 100;\nfont-weight: 200;\nfont-weight: 300;\nfont-weight: 400;\nfont-weight: 500;\nfont-weight: 600;\nfont-weight: 700;\nfont-weight: 800;\nfont-weight: 900;`, `67299526796873654000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token comment">/* 平常用的最多的 */</span>\n<span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>\n<span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>\n<span class="token comment">/* 相对于父级元素 */</span>\n<span class="token property">font-weight</span><span class="token punctuation">:</span> lighter<span class="token punctuation">;</span>\n<span class="token property">font-weight</span><span class="token punctuation">:</span> bolder<span class="token punctuation">;</span>\n<span class="token comment">/* 字重的精细控制 */</span>\n<span class="token property">font-weight</span><span class="token punctuation">:</span> 100<span class="token punctuation">;</span>\n<span class="token property">font-weight</span><span class="token punctuation">:</span> 200<span class="token punctuation">;</span>\n<span class="token property">font-weight</span><span class="token punctuation">:</span> 300<span class="token punctuation">;</span>\n<span class="token property">font-weight</span><span class="token punctuation">:</span> 400<span class="token punctuation">;</span>\n<span class="token property">font-weight</span><span class="token punctuation">:</span> 500<span class="token punctuation">;</span>\n<span class="token property">font-weight</span><span class="token punctuation">:</span> 600<span class="token punctuation">;</span>\n<span class="token property">font-weight</span><span class="token punctuation">:</span> 700<span class="token punctuation">;</span>\n<span class="token property">font-weight</span><span class="token punctuation">:</span> 800<span class="token punctuation">;</span>\n<span class="token property">font-weight</span><span class="token punctuation">:</span> 900<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>如果使用数值作为 font-weight 属性值，必须是 100 ～ 900 的整百数。这里的数值关键字和字母关键字之间是有对应关系的，例如，font-weight:400 实际上等同于 font-weight: normal，font-weight:700 等同于 font-weight:bold。</p>\n<p>因此 400 和 700 是文字粗细与否的重要临界点，加上最小的 100 和最大的 900，就构成了 font-weight 完整的字重临界点。知道这个有什么意义呢？意义就在于 lighter 和 bolder 这两个具有相对特定的关键字就是基于这 4 个临界点进行解析和渲染的。</p>\n<p>以下是 lighter 和 bolder 解析规则表</p>\n<table>\n<thead>\n<tr>\n<th align="center">继承的值</th>\n<th align="center">bolder</th>\n<th align="center">lighter</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="center">100</td>\n<td align="center">400</td>\n<td align="center">100</td>\n</tr>\n<tr>\n<td align="center">200</td>\n<td align="center">400</td>\n<td align="center">100</td>\n</tr>\n<tr>\n<td align="center">300</td>\n<td align="center">400</td>\n<td align="center">100</td>\n</tr>\n<tr>\n<td align="center">400</td>\n<td align="center">700</td>\n<td align="center">100</td>\n</tr>\n<tr>\n<td align="center">500</td>\n<td align="center">700</td>\n<td align="center">100</td>\n</tr>\n<tr>\n<td align="center">600</td>\n<td align="center">900</td>\n<td align="center">400</td>\n</tr>\n<tr>\n<td align="center">700</td>\n<td align="center">900</td>\n<td align="center">400</td>\n</tr>\n<tr>\n<td align="center">800</td>\n<td align="center">900</td>\n<td align="center">700</td>\n</tr>\n<tr>\n<td align="center">900</td>\n<td align="center">900</td>\n<td align="center">700</td>\n</tr>\n</tbody>\n</table>\n<p>然而很多人发现 font-weight 无论是设置 300、400、500 还是 600，文字的粗细都没有任何变化，只有到 700 的时候才会加粗一下，感觉浏览器好像不支持这些数值，那么搞这么多档位不就是多余的吗？</p>\n<p>实际上，所有这些数值关键字浏览器都是支持的，之所以没有看到任何粗细的变化，是因为我们的系统里面缺乏对应粗细的字体。尤其我们做桌面端项目时，大部分用户都是使用 Windows 系统，而 Windows 系统中的中文字体粗细就一个型号，如“宋体”，或者说“微软雅黑”，因此，最终的效果就是 CSS 层面的“加粗”和“正常尺寸” 两种表现。</p>\n<p>假如我们的操作系统安装了该字体家族全部的字重字体，则设置 300、400、500 时，彼此之间就能看出明显的变化了。例如，OS X 系统中的“苹方”，又如我这里即将要演示的“思源黑体”。“思源黑体”是一款免费的开源字体，我自己电脑上的版本有 7 个字重，如图 8-14 所示。</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2021-12-19-22-39-31-23bd8a6cede3dd198c7fdd0bbb1c9249-db488.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 292px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 88.35616438356165%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACwklEQVQ4y5VT2XbaMBTk/7+pUILjGGIw4H2VvNuSbQJhS8OWEdCXvlUHOMjS3Lkzd9wzTNfzPEWWtZmmqu+Dfl8aSaORpLwp4/F49PIykobD38PXV/lNeZtpGucc94/H4+126xGaHA6Hqix403RdV1dVVZRFUbCasbouyxJHZYGn2NWHO6ZpGkAE2PXpx8fa91xCKCXE1HXLNG3Ldh03DEPTMgPfcVwHDx3Lmc+mEaG/BoPtdivANE62ux2rq6btOON1VYIcfJyJVdV1w3lV1WDLs4wSulp9hGH0aKHneFHXrWwTDGEQBMv5XF8s8bFMC+S6oVuGoS+XlmUTQpbLxel8WnXds20ap7vdHuVXKzzsQCrEMcZZ07VdzcDJob+E7rpu2wYYnD8N8wICzZ7jRGEURaEQbAjNnuP6vm/ZNo1CbTrzPc+yHbgHDPvrXI/EKdRnacphd9OkcZKnaRzH0FnkBerFNPLDKAwJjOjaNqZAZH++vgTYD+jm8zOJaZKkMaXQjQ+JSBSEaZphpWmKR7btCFSSRISkWf71AAchDFwBkGV5kiboP/B81/VgLGgdsXWDIEKVAFPFMKOwqvnxeDcMbR4ORy6MwbBaEZJSRINVDC6KacFCxtfrdVVUDW82mzXjzdOwxdJG1dm7quvGYrGQJUkRQRyrExWBVRSEVBlJkjySVVU1Let9qgaB/wTzpkX5okAEMqSyKiv4BOoiz/Fb30MC3cgfTvO8wOW2bc/nswBfr9fb/6/L5QJ8z7ZtwzAQ4+l0+v39jZxgTrIsjxWl3+8Ph0NN0waDQZ7nIER3OEXUgEJTPXzFO8QYjk+nE6puNhsx3jh2XRcvIC7g/+W+IBWh2O/3GBAS2nu08Wget9EFCkMtCLHFqGA/pXQymQD8T/NC86MqNkmSAIlUgA1gvCfAoy/Ums/nD5MeNNf7+gFMpcUwIPT+OgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2021 12 19 22 39 31" title="" data-src="/static/2021-12-19-22-39-31-23bd8a6cede3dd198c7fdd0bbb1c9249-db488.png" data-srcset="/static/2021-12-19-22-39-31-23bd8a6cede3dd198c7fdd0bbb1c9249-b8b66.png 200w,\n/static/2021-12-19-22-39-31-23bd8a6cede3dd198c7fdd0bbb1c9249-db488.png 292w" data-sizes="(max-width: 292px) 100vw, 292px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>此时，应用如下 HTML 和 CSS 代码：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="56413190655219860000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`<p class=&quot;f100&quot;>轻如鸿毛，重如泰山</p>\n<p class=&quot;f200&quot;>轻如鸿毛，重如泰山</p>\n<p class=&quot;f300&quot;>轻如鸿毛，重如泰山</p>\n<p class=&quot;f400&quot;>轻如鸿毛，重如泰山</p>\n<p class=&quot;f500&quot;>轻如鸿毛，重如泰山</p>\n<p class=&quot;f600&quot;>轻如鸿毛，重如泰山</p>\n<p class=&quot;f700&quot;>轻如鸿毛，重如泰山</p>\n<p class=&quot;f800&quot;>轻如鸿毛，重如泰山</p>\n<p class=&quot;f900&quot;>轻如鸿毛，重如泰山</p>\n<style>\n   p {\n      font-family: \'Source Han Sans CN\';\n   }\n   .f100 {\n      font-weight: 100;\n   }\n   .f200 {\n      font-weight: 200;\n   }\n   .f300 {\n      font-weight: 300;\n   }\n   .f400 {\n      font-weight: 400;\n   }\n   .f500 {\n      font-weight: 500;\n   }\n   .f600 {\n      font-weight: 600;\n   }\n   .f700 {\n      font-weight: 700;\n   }\n   .f800 {\n      font-weight: 800;\n   }\n   .f900 {\n      font-weight: 900;\n   }\n</style>`, `56413190655219860000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="html"\n              >\n                <span class="gatsby-code-button-language">html</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f100<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>轻如鸿毛，重如泰山<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f200<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>轻如鸿毛，重如泰山<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f300<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>轻如鸿毛，重如泰山<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f400<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>轻如鸿毛，重如泰山<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f500<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>轻如鸿毛，重如泰山<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f600<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>轻如鸿毛，重如泰山<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f700<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>轻如鸿毛，重如泰山<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f800<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>轻如鸿毛，重如泰山<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f900<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>轻如鸿毛，重如泰山<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n   <span class="token selector">p</span> <span class="token punctuation">{</span>\n      <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">\'Source Han Sans CN\'</span><span class="token punctuation">;</span>\n   <span class="token punctuation">}</span>\n   <span class="token selector">.f100</span> <span class="token punctuation">{</span>\n      <span class="token property">font-weight</span><span class="token punctuation">:</span> 100<span class="token punctuation">;</span>\n   <span class="token punctuation">}</span>\n   <span class="token selector">.f200</span> <span class="token punctuation">{</span>\n      <span class="token property">font-weight</span><span class="token punctuation">:</span> 200<span class="token punctuation">;</span>\n   <span class="token punctuation">}</span>\n   <span class="token selector">.f300</span> <span class="token punctuation">{</span>\n      <span class="token property">font-weight</span><span class="token punctuation">:</span> 300<span class="token punctuation">;</span>\n   <span class="token punctuation">}</span>\n   <span class="token selector">.f400</span> <span class="token punctuation">{</span>\n      <span class="token property">font-weight</span><span class="token punctuation">:</span> 400<span class="token punctuation">;</span>\n   <span class="token punctuation">}</span>\n   <span class="token selector">.f500</span> <span class="token punctuation">{</span>\n      <span class="token property">font-weight</span><span class="token punctuation">:</span> 500<span class="token punctuation">;</span>\n   <span class="token punctuation">}</span>\n   <span class="token selector">.f600</span> <span class="token punctuation">{</span>\n      <span class="token property">font-weight</span><span class="token punctuation">:</span> 600<span class="token punctuation">;</span>\n   <span class="token punctuation">}</span>\n   <span class="token selector">.f700</span> <span class="token punctuation">{</span>\n      <span class="token property">font-weight</span><span class="token punctuation">:</span> 700<span class="token punctuation">;</span>\n   <span class="token punctuation">}</span>\n   <span class="token selector">.f800</span> <span class="token punctuation">{</span>\n      <span class="token property">font-weight</span><span class="token punctuation">:</span> 800<span class="token punctuation">;</span>\n   <span class="token punctuation">}</span>\n   <span class="token selector">.f900</span> <span class="token punctuation">{</span>\n      <span class="token property">font-weight</span><span class="token punctuation">:</span> 900<span class="token punctuation">;</span>\n   <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>结果可以看到明显的字重变化，而不是单纯的加粗和正常两种形态，如图 8-15 所示。</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2021-12-19-22-41-24-9a79d11ff8cfbf8877a2be9071bc9aeb-a4730.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 357px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 96.63865546218487%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC70lEQVQ4y52TWVPaUBTH/bzt9As4dayj41SppVi1GkAFJKGalMWtoh21ZZPVkAVISAhZIBsEiPjgONpb2/Ghk770PNy585/zu/9zztwz8fj4+PDwAM7hcHh9XSEpCidJ/LpM01RHVRVZzheuCIrECaLeaNB1xh7Zz8jE863f79WZmihJvCgqsqSq6uhmfHs7JmiqLUlMk5MVpckLA2v4D7hRawkCw/Ntge90FMCOxzdVqtrkuDrDipJYZ5vOsNXvUxTJclyT54UW1xJa9vj2xh4VSyWggJpFUWoJ7cHA0dk0c5k06LlKETRNEBRh9KzR0Lq4OCcpulAqkDWqhOO9vuUAm4Z+dnqau8qlUplMOp3NZM3+0OqZiXg8m7s6PUnm88VSsdzr9Zxg0zhNJlNpENlCPp9JZVTN7Bk6uoumM9nL8/NKpZLL5JxhQ9cRGN7FUDSR+HZ2FovGuJZo6t1NyIfGEjswfHx0mECjmqo5w+je3sHR0cHx8UkyebB/oKia1pGh9Y3Dr0kEgU++nlx+/2GYpgOs69ra2mowtAN/jmAYFggEaywvCdz83FxkD11e9sBhBI3Gu5ruBGuqz+cNhkIhBI7HE+FQWBAVqcXNTE+HYMSz/AGBf8GqZjhPO7C9DcMRLBbd308gSIQDdJt/53LtYTG/F/qCYfuHR5ruBOuqOjM15fZ4IMgXCu0sLrwt4wTXoF+9fOHbCszPzq5+WvMHtlTHgXU7intpCbS6tR0Mh2EIggRRFnn2zfQ0HNldWnRtbm3uRjFnZ9MwlhYXP66sQF4/aNztfn9+maqWi68nJzd8ftfCwvrGunfTr/01sP+OiWw222g0BEHgeX48Htu2TZJUoVAolUrgSxWLRZZlb2ybYVlFUWq1Gk3TnU4HIOA+ASTDMMCnsyzr7u7uaTf7QJRlGYhgq4F+f3/f7XZ1XZckCdgMnsI0zT9la5oGngAnSAUYyAMltNvt0WgErBiGAW44jlNg56pVUNRv6idORdA9NIpEGwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2021 12 19 22 41 24" title="" data-src="/static/2021-12-19-22-41-24-9a79d11ff8cfbf8877a2be9071bc9aeb-a4730.png" data-srcset="/static/2021-12-19-22-41-24-9a79d11ff8cfbf8877a2be9071bc9aeb-11629.png 200w,\n/static/2021-12-19-22-41-24-9a79d11ff8cfbf8877a2be9071bc9aeb-a4730.png 357w" data-sizes="(max-width: 357px) 100vw, 357px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>也就是说，font-weight 要想真正发挥潜力，问题不在于 CSS 的支持，而在于是否存在对应的字体文件。如果没有对应的字体文件，我又想有多档字重效果，该怎么办呢？可以试试看看之后的 font-face 章节</p>\n<h2 id="具有近似姐妹花属性值的-font-style"><a href="#%E5%85%B7%E6%9C%89%E8%BF%91%E4%BC%BC%E5%A7%90%E5%A6%B9%E8%8A%B1%E5%B1%9E%E6%80%A7%E5%80%BC%E7%9A%84-font-style" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>具有近似姐妹花属性值的 font-style</h2>\n<p>font-style 表示文字造型是斜还是正，与 font-weight 相比，其属性值就要少很多，如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="38499730992696345000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`font-style: normal;\nfont-style: italic;\nfont-style: oblique;`, `38499730992696345000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>\n<span class="token property">font-style</span><span class="token punctuation">:</span> italic<span class="token punctuation">;</span>\n<span class="token property">font-style</span><span class="token punctuation">:</span> oblique<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>italic 和 oblique 这两个关键字都表示“斜体”的意思，差别在于：italic 是使用当前字体的斜体字体，而 oblique 只是单纯地让文字倾斜。如果当前字体没有对应的斜体字体，则退而求其次，解析为 oblique，也就是单纯形状倾斜。</p>\n<p>我们平常在 Web 上使用比较多的中文字体，如“宋体”“微软雅黑”等，是没有专门的倾斜字体的，因此，从最终表现上来看 font-style:italic 和 font-style:oblique 是没有区别的。但是，对于一些英文字体，如“Georgia”，情况就不一样了，因为“Georgia”有一个专门设计的斜体字体文件。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="47114925675960270000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`<p class=&quot;i&quot;>Georgia italic</p>\n<p class=&quot;o&quot;>Georgia oblique</p>\n<p>Georgia normal</p>\n<style>\n   p {\n      font-size: 50px;\n      font-family: Georgia;\n   }\n   .i {\n      font-style: italic;\n   }\n   .o {\n      font-style: oblique;\n   }\n</style>`, `47114925675960270000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="html"\n              >\n                <span class="gatsby-code-button-language">html</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>i<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Georgia italic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>o<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Georgia oblique<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Georgia normal<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n   <span class="token selector">p</span> <span class="token punctuation">{</span>\n      <span class="token property">font-size</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>\n      <span class="token property">font-family</span><span class="token punctuation">:</span> Georgia<span class="token punctuation">;</span>\n   <span class="token punctuation">}</span>\n   <span class="token selector">.i</span> <span class="token punctuation">{</span>\n      <span class="token property">font-style</span><span class="token punctuation">:</span> italic<span class="token punctuation">;</span>\n   <span class="token punctuation">}</span>\n   <span class="token selector">.o</span> <span class="token punctuation">{</span>\n      <span class="token property">font-style</span><span class="token punctuation">:</span> oblique<span class="token punctuation">;</span>\n   <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>结果可以看出，两个“倾斜”有着明显的不同，例如非常明显的字母 g，属性值为 italic 时长得像鱼钩，而为 oblique 时长得像糖葫芦，如图 8-16 所示。</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2021-12-19-22-47-44-0e5f1d6d55a8367f8b53fe55881d7cb1-ff6e4.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 479px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 56.57620041753654%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABsUlEQVQozz2SSdPBUBBF3///D5SFIXwxBWXBhoWFIlXGGBMUMU8RM8WRVH1voTrdr2+f2494v9+VSqVarU4mk+VyOZ1OCebzeafTmc1m6/W62Wz2ej2CfD5PsFgsLMvabDaXy0Wcz+d0Ok1BkqRMJhMMBrPZrCzLkUiEzGg0CofDf86RnDMejz+fz/V6pVE8n08mMIqxyJ9OJxpUVSUmzyV+t9utSwHX/X6n+Xa7/Zpfrxdtuq6vVitStm3zCRhyCFFFvdFodLvder0O6n6/5w7wVAUyqVSqWCyClEgksBCPx8FOJpPk6YnFYoFAABf8KopCiQBrSPwmm6aJEqMAYxOtVqtUKgHP5hhlOse9UCgU8EyeazgSj8ej3W5TdgmxBM/hcDgej0BRJcOLuBuiREy13+9TEtiDEIxQKASzz+eDDbBoNJrL5Wq1msfjgd/r9WLH7/fjjipPyySBEiQoDYdDeIjL5TJauGWLGOFtDcPABavmDu8PKRYgEpBgHSow3OD/wLnb7UjCCSCfeCFmEZZzxGAwYALCqPCeDOQvpWkaN1gSnwyEi+E8ErukigpdlL6bhTe18QjkZgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2021 12 19 22 47 44" title="" data-src="/static/2021-12-19-22-47-44-0e5f1d6d55a8367f8b53fe55881d7cb1-ff6e4.png" data-srcset="/static/2021-12-19-22-47-44-0e5f1d6d55a8367f8b53fe55881d7cb1-d5807.png 200w,\n/static/2021-12-19-22-47-44-0e5f1d6d55a8367f8b53fe55881d7cb1-dba8d.png 400w,\n/static/2021-12-19-22-47-44-0e5f1d6d55a8367f8b53fe55881d7cb1-ff6e4.png 479w" data-sizes="(max-width: 479px) 100vw, 479px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>之所以会专门为一个字体设计倾斜字体，就是因为单纯倾斜的时候不好看，比方说上面的 “Georgia” 字体，当字号比较小同时文字倾斜的时候，字符会挤作一团，疏密不规则，可读性比较糟糕。相比之下，专门设计的“Georgia”斜体阅读体验就要好很多。再加上没有斜体字体时 italic 表现会和 oblique 一致，因此，我们在实际开发的时候，几乎没有任何理由需要使用 font-style: oblique。</p>\n<h2 id="不适合国情的-font-variant"><a href="#%E4%B8%8D%E9%80%82%E5%90%88%E5%9B%BD%E6%83%85%E7%9A%84-font-variant" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>不适合国情的 font-variant</h2>\n<p>font-variant 是一个从 IE6 时代就过来的 CSS 属性，实现小体型大写字母，两个属性值要么 normal，要么 small-caps，font-variant: small-caps 就是可以让英文字符表现为小体型大写字母。</p>\n<p>代码示意如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="68564431881324150000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`http://www.<span style=&quot;font-variant:small-caps&quot;>css-world.com</span>/`, `68564431881324150000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="html"\n              >\n                <span class="gatsby-code-button-language">html</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html">http://www.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">font-variant</span><span class="token punctuation">:</span>small-caps</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>css-world.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>/</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2021-12-19-22-51-50-f3904a07d8406945f66f7f7a2917a761-fb41b.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 334px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 8.982035928143713%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsSAAALEgHS3X78AAAAfUlEQVQI1w3IUQqCQBAAUO9/EukAkhmFGG4alta2o4KzA21qI62LXSDf5/PaBuRTzdY654hIa0IixI6ZnZvX+Vo7mH6FGgfmzzQtv8WY18jsJadk4/v3qnr3I2GX55fiWmTnTEEt5SPcRRJqUOpWlkG4DfZRLFKARoj0GB/+3cJlS8I4QOAAAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2021 12 19 22 51 50" title="" data-src="/static/2021-12-19-22-51-50-f3904a07d8406945f66f7f7a2917a761-fb41b.png" data-srcset="/static/2021-12-19-22-51-50-f3904a07d8406945f66f7f7a2917a761-7193b.png 200w,\n/static/2021-12-19-22-51-50-f3904a07d8406945f66f7f7a2917a761-fb41b.png 334w" data-sizes="(max-width: 334px) 100vw, 334px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>也就是大小跟小写字母一样，但样式是大写。</p>\n<h1 id="font-属性"><a href="#font-%E5%B1%9E%E6%80%A7" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>font 属性</h1>\n<h2 id="作为缩写的-font-属性"><a href="#%E4%BD%9C%E4%B8%BA%E7%BC%A9%E5%86%99%E7%9A%84-font-%E5%B1%9E%E6%80%A7" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>作为缩写的 font 属性</h2>\n<p>如果在一段 CSS 代码中发现了 font 属性，八九不离十就是利用 font 属性进行文本相关样式的缩写。可以缩写在 font 属性中的属性非常多，包括 font-style、font-variant、 font-weight、font-size、line-height、font-family 等。完整语法为：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="38098838112885260000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`font: [ [ font-style || font-variant || font-weight ]? font-size [ / line-height ]? font-family ];`, `38098838112885260000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token property">font</span><span class="token punctuation">:</span> [ [ font-style || font-variant || font-weight ]? font-size [ / line-height ]? font-family ]<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<p>|| 表示或，? 和正则表达式中的 ? 的含义一致，表示 0 个或 1 个。仔细观察上面的语法，会发现 font-size 和 font-family 后面没有问号，也就是说是必需的，是不可以省略的。这和 background 属性不一样，background 属性虽然也支持缩写，但是并没有需要两个属性值同时存在的限制。</p>\n<p>因此，如果你的 font 属性缩写无效，检查一下 font-size 和 font-family 这两个属性是否同时存在。例如，下面 CSS 语句看上去写了很多属性，实际却是无效的，因为缺字体：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="53005232317515040000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`.font {\n   font: normal 700 14px/20px;\n}`, `53005232317515040000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">.font</span> <span class="token punctuation">{</span>\n   <span class="token property">font</span><span class="token punctuation">:</span> normal 700 14px/20px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>而下面这个反而是有效的：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="58616573651451920000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`.font {\n   font: 14px \'☺\';\n}`, `58616573651451920000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">.font</span> <span class="token punctuation">{</span>\n   <span class="token property">font</span><span class="token punctuation">:</span> 14px <span class="token string">\'☺\'</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>需要注意的是，font 缩写会破坏部分属性的继承性。举个简单的例子，假设你的页面行高是 20px，当你使用了下面的 CSS 后：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="25588175308358040000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`.font {\n   font: 400 30px \'Microsoft Yahei\';\n}`, `25588175308358040000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">.font</span> <span class="token punctuation">{</span>\n   <span class="token property">font</span><span class="token punctuation">:</span> 400 30px <span class="token string">\'Microsoft Yahei\'</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>.font 元素的行高 line-height 属性值就被重置为了 normal，而不同浏览器上 line-height: normal 是不一样的，因此，在使用 font 缩写的时候，如果不设定行高值，一定会出现不兼容的问题。换句话说，如果你的 CSS 代码原本就没有 line-height 属性，使用 font 缩写反而是不推荐的。</p>\n<p>另外，还有一个令人很头疼的问题，就是 font 缩写必须要带上 font-family，然而，原本真实继承的 font-family 属性值可能会很长，每次 font 缩写后面都挂一个长长的字体列表，有什么小技巧可以避免吗？</p>\n<p>这里有两个方法。</p>\n<ol>\n<li>\n<p>我们可以随便找一个系统根本不存在的字体名占位，如字母 a，或者特殊一点，用笑脸表情 ☺，然后再设置 font-family: inherit 来重置这个占位字体。例如，我们想把字号和行高合并缩写，就可以这样：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="95819726970197440000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`.font {\n  font: 30px/30px \'☺\';\n  font-family: inherit;\n}`, `95819726970197440000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">.font</span> <span class="token punctuation">{</span>\n  <span class="token property">font</span><span class="token punctuation">:</span> 30px/30px <span class="token string">\'☺\'</span><span class="token punctuation">;</span>\n  <span class="token property">font-family</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>是不是有点拆东墙补西墙的感觉？这么做主要是因为 font 缩写不能使用 inherit 等全局关键字。</p>\n</li>\n<li>\n<p>利用 @font-face 规则将我们的字体列表重定义为一个字体，这是兼容性很好、效益很高的一种解决方法，会在之后详细介绍</p>\n</li>\n</ol>\n<h2 id="使用关键字值的-font-属性"><a href="#%E4%BD%BF%E7%94%A8%E5%85%B3%E9%94%AE%E5%AD%97%E5%80%BC%E7%9A%84-font-%E5%B1%9E%E6%80%A7" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>使用关键字值的 font 属性</h2>\n<p>font 属性除了缩写用法，还支持关键字属性值，这个怕是很多人都不知道的。其语法如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="20660693058488476000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`font: caption | icon | menu | message-box | small-caption | status-bar;`, `20660693058488476000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token property">font</span><span class="token punctuation">:</span> caption | icon | menu | message-box | small-caption | status-bar<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<p>如果将 font 属性设置为上面的一个值，就等同于设置 font 为操作系统该部件对应的 font，也就是说直接使用系统字体。</p>\n<p>根据 W3C 官方维基的解释，以及我自己在 Windows 系统下的测试，各个关键字的含义如下。</p>\n<ul>\n<li>caption：活动窗口标题栏使用的字体。</li>\n<li>icon：包含图标内容所使用的字体，如所有文件夹名称、文件名称、磁盘名称，甚至浏览器窗口标题所使用的字体。</li>\n<li>menu：菜单使用的字体，如文件夹菜单。</li>\n<li>message-box：消息盒里面使用的字体。</li>\n<li>small-caption：调色板标题所使用的字体。</li>\n<li>status-bar：窗体状态栏使用的字体</li>\n</ul>\n<p>使用示例：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="53486669851259910000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`.menu {\n   font: menu;\n}`, `53486669851259910000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">.menu</span> <span class="token punctuation">{</span>\n   <span class="token property">font</span><span class="token punctuation">:</span> menu<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>需要注意的是，使用关键字作为属性值的时候必须是独立的，不能添加 font-family 或者 font-size 之类的，这和 font 属性缩写不是一个路子。如果混用，例如：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="13556370898347715000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`.menu {\n   font: 14px menu;\n}`, `13556370898347715000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">.menu</span> <span class="token punctuation">{</span>\n   <span class="token property">font</span><span class="token punctuation">:</span> 14px menu<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>则此时的 menu 是作为自定义的字体名称存在的，而不是表示系统的 menu 菜单字体。</p>\n<p>实际上，font 关键字属性值本质上也是一种缩写，里面已经包含了诸如 font-size 等信息，如图 8-17、图 8-19 所示。</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2021-12-19-23-10-10-2feb81c5ba170d9e80859d57062f94e6-c328b.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 35.820895522388064%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABBUlEQVQY02WQx27EMAxE9f/fl4UPVnFRody9lnvZjBMkWSA6EALIx5khk1IKIdI0lUpxITx551wI47qur5+ntf54PHgcR1EkhbTGNE3T9z0zxnhfVFVVFHcdhuE4juu6tm37hT2RShQmsyyz1j6fTwyM48i00UT+W7Dregju+z7P87Is/2EYtNZ1fT9PMyqDJWBFAZiwom1bWKrrBvwf7D0wcpTnORFBGR7xZ0ZrOAFvrA1hAAvb53m+23bOxjwGr6QEg91Vecdk90oiWFJK1XWNCLgE9KdpAoZsqGVZogsNecMaIe/nHOu6DhNoc84RIUkSDIF8t4382BhCSJTCzfSXEix8AkJPhPYhzRlvAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2021 12 19 23 10 10" title="" data-src="/static/2021-12-19-23-10-10-2feb81c5ba170d9e80859d57062f94e6-fee1c.png" data-srcset="/static/2021-12-19-23-10-10-2feb81c5ba170d9e80859d57062f94e6-a67b7.png 200w,\n/static/2021-12-19-23-10-10-2feb81c5ba170d9e80859d57062f94e6-0b187.png 400w,\n/static/2021-12-19-23-10-10-2feb81c5ba170d9e80859d57062f94e6-fee1c.png 800w,\n/static/2021-12-19-23-10-10-2feb81c5ba170d9e80859d57062f94e6-c328b.png 871w" data-sizes="(max-width: 800px) 100vw, 800px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2021-12-19-23-11-15-278767d697e6edde5b28f75ceeefa4ae-4fbc8.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 431px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 66.35730858468676%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAAB8UlEQVQoz0VSiZKjIBD1/79ttiaJOcoJgpyKFyIeSTbHPnWqtlNFALv7HU1EruTr68/pdDocDqc1vr938SFmjGmtkuRHSqm1lmsIKSmlZVl2XVdVVcQ5NyYvS1vkeV3XVV0Zbay1QxjGaarqep7n+9/HNM/DMNzuN9/7+/3++Xycc1FKSJJcs4ylKUEjxugPjpTWVeVa17muda5t26Zpm7a1tng8Hp81lmIUKKVxC3xrwahUUoGF934cxxDC7XYD5jROOOISRN7v928xpWmaUil4xhi6KKVSQtERaMF7yEA2akLfu4WCg9r/yIxSQinM4DxDJUyhKVuLXe/7PC/wgyNN64Zx6Hzn0WWRURtjooyhRoMnLLWFLYoCnuKv73ugNXVT2hLJOMI/3EDIMIR5mpC8IAupBAeyNDqH4IxzayskFSYHiMlz2AbBC+PO+XVIEA0tEYVghTEqISQ8AwvBBZwLfaiaJaBtWp3rkb7Ud8/nE5pBJxKc/5CUUjBgKMPbuF6J0hr8Oc5CwAeMXa9h9NIaZeiDRxFt1k3QEwKmj2eASWCPG/iMFcfX6wU0fMUGyduKiLYdfI7jGE8PUHgG2BNCgBnHh+PxuNvtoBNQGwXnlmmh6S/ydtgoJElyuVyyLDufz9hjRdP9fo/iDXbLRPwDfcnMf5qKYxQAAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2021 12 19 23 11 15" title="" data-src="/static/2021-12-19-23-11-15-278767d697e6edde5b28f75ceeefa4ae-4fbc8.png" data-srcset="/static/2021-12-19-23-11-15-278767d697e6edde5b28f75ceeefa4ae-3b445.png 200w,\n/static/2021-12-19-23-11-15-278767d697e6edde5b28f75ceeefa4ae-b6b36.png 400w,\n/static/2021-12-19-23-11-15-278767d697e6edde5b28f75ceeefa4ae-4fbc8.png 431w" data-sizes="(max-width: 431px) 100vw, 431px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>这 3 张图透露出不少重要的信息。从 Windows 下 Chrome 和 IE 浏览器部分关键字的字体和字号表现不一样可以看出，同一系统下浏览器的表现是有差异的。既然 font 关键字属性值的样式表现是跟着系统走的，那为何同一系统下不同浏览器的表现会不一样呢？</p>\n<p>显然是某个浏览器出现了问题。后来，通过设置修改 Windows 系统相关控件的默认字体我发现，这次是 Chrome 浏览器拖了后腿。caption、icon、message-box 这 3 个关键字在 Windows 系统下的 Chrome 浏览器中似乎是无效的，并不会实时跟着系统字体走。</p>\n<p>而所有这些问题在 Firefox 和 IE 浏览器中一个都没有，表现非常一致，非常符合预期，例如，修改“图标”字体为“思源黑体”，如图 8-20 所示，则所有文件名称全部变成了“思源黑体”，同时 font: icon 所在元素 font-family 计算值也成了“思源黑体”，如图 8-21 所示。</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2021-12-19-23-14-51-eb81252f8bc0145b4b704c36203fa8f4-7c992.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 18.28463713477851%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAkElEQVQI12VPOQ7DIBDk/2+LOzoHZJAAmcNcokGCZBQUF8kUq9md2YtQSkMI3vvwhdY6xvT6YM55x38QxlgpJeecUoox1lpbazmXMcZvD9I57yII2R4b5/w4hLV2rcU4EMi9d0ioCCGcczgH07EGKlIQcp7n/twZZ6sNVaXUisYYnCOFhHu1xeuSUuJHOOF/A2QL4JyByeKIAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2021 12 19 23 14 51" title="" data-src="/static/2021-12-19-23-14-51-eb81252f8bc0145b4b704c36203fa8f4-fee1c.png" data-srcset="/static/2021-12-19-23-14-51-eb81252f8bc0145b4b704c36203fa8f4-a67b7.png 200w,\n/static/2021-12-19-23-14-51-eb81252f8bc0145b4b704c36203fa8f4-0b187.png 400w,\n/static/2021-12-19-23-14-51-eb81252f8bc0145b4b704c36203fa8f4-fee1c.png 800w,\n/static/2021-12-19-23-14-51-eb81252f8bc0145b4b704c36203fa8f4-7c992.png 1061w" data-sizes="(max-width: 800px) 100vw, 800px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>考虑到 Chrome 浏览器的市场占有率，我们在使用 font 属性的时候，要避开 caption、icon 和 message-box 这 3 个关键字。</p>\n<p>对于不同的操作系统，字体表现不一样，这是预料之中的，毕竟使用系统字体，而不同系统默认字体肯定是不一样的；然后字体大小也不一样。例如，在 Windows 下 Chrome 的 caption 字体大小 16px，而在 OS X 下却只有 13px。因此，在实际使用时，我们还需要在下面再设定一下 font-size 大小来保证一致性。照理讲，直接这样设置就可以了：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="29556235340318704000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n   font: menu;\n   font-size: 16px;\n}`, `29556235340318704000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n   <span class="token property">font</span><span class="token punctuation">:</span> menu<span class="token punctuation">;</span>\n   <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>但是，实际上 IE8 浏览器会莫名其妙地忽略这里的 font-size: 16px，因此，一般都是下面这样处理：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="39402827582430814000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n   font: menu;\n}\nbody {\n   font-size: 16px;\n}`, `39402827582430814000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n   <span class="token property">font</span><span class="token punctuation">:</span> menu<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">body</span> <span class="token punctuation">{</span>\n   <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>除了 caption、icon、menu、message-box、small-caption 和 status-bar，还有很多其他非标准的关键字，如 button、checkbox、checkbox-group、combo-box、desktop、dialog、document、field、hyperlink、list-menu、menu-item、menubar、outline-tree、password、pop-up-menu、 pull-down-menu、push-button、radio-button、radio-group、range、signature、tab、tooltip、window 和 workspace。不过，这些关键字浏览器大多不支持，尽管 Firefox 浏览器支持一部分，但是需要添加私有前缀 -moz-。例如：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="87128459339545500000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`font: -moz-button;`, `87128459339545500000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token property">font</span><span class="token punctuation">:</span> -moz-button<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<p>因此，它们的实际应用价值不大。另外，WebKit 浏览器还支持其他关键字，如 font: -webkit-control，如下图所示。</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2021-12-19-23-20-00-bd6052472aca2dc0286023e9454c9225-f5a61.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 226px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 62.38938053097345%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB60lEQVQoz01Si46bMBDk//+pUlWpTXXNpWpCHryOtzGYRzAGG0Ogc0l6vZVlrWFnZ2ZtoyzLjFLKWKdUkmUZzQllGWUJoUVZN62QahKD6oTsein+LRylGo11XSetVV0rSmXTJEXz/eXw5dvL1x+vppPsTHezPbpxWfUrbfSnNeWVMKZ5XuZ5jGPlOCLPeS/jNLMcz3J9WtRYYURiUrCad/2opkXpm9LLOK9cDAbnfJ7n9R63260XIvD9y/li23Zd11VVkYwUeZ4RIqVcPwWOhhACRaLrcEZeVXUUxQA7rvfIKc2v1/Z6vcZxQrIsTVKlFIqHYTCKorAdJ0nSdVnqe2B+juO67+Aqz3NCCGNlyUp0YYw1TaO1fjI/5OowHCyr9wP88zzPPJin0xngKAwBC4LAsuzgHrD2XzY8o9NtHBelJqU473Bfb29eFEZoBCow4zpRVhQMQrBD3RMMAx/NpmmCE4BB7r/5bduCPE1TfEFZdY/yHk/PaHa+XGjBeilHrTvO77IPp9MJgt/dlhWoIPhoHh+cy7I8wdAsWs6jSOIyuq7tuiAIMeogDMMoRl4wFsUxJg8LbcshAYKxA2iggRqGCcJcd6AUM/2z3e42P/e7nbnf//61PR8Or5uNfb7MegIhHsU4QqIeBvkXWGSZcLi35d4AAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2021 12 19 23 20 00" title="" data-src="/static/2021-12-19-23-20-00-bd6052472aca2dc0286023e9454c9225-f5a61.png" data-srcset="/static/2021-12-19-23-20-00-bd6052472aca2dc0286023e9454c9225-a2845.png 200w,\n/static/2021-12-19-23-20-00-bd6052472aca2dc0286023e9454c9225-f5a61.png 226w" data-sizes="(max-width: 226px) 100vw, 226px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<h2 id="font-关键字属性值的应用价值"><a href="#font-%E5%85%B3%E9%94%AE%E5%AD%97%E5%B1%9E%E6%80%A7%E5%80%BC%E7%9A%84%E5%BA%94%E7%94%A8%E4%BB%B7%E5%80%BC" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>font 关键字属性值的应用价值</h2>\n<p>font 关键字属性值的价值如何呢？有没有合适的使用场景呢？有，并且相当适合！</p>\n<p>目前，非常多网站的通用 font-family 直接就是：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="14006606628865570000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n   font-family: \'Microsoft YaHei\';\n}`, `14006606628865570000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n   <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">\'Microsoft YaHei\'</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>知道问题在哪里吗？这样一设置，就意味着所有操作系统下的所有浏览器都要使用“微软雅黑”字体。假如说用户的 iMac 或者 macbook 因为某些原因安装了“微软雅黑”字体，那岂不是这些系统原本更加漂亮的中文字体就不能使用了？</p>\n<p>于是，人们就会有这样的需求：希望非 Windows 系统下不要使用“微软雅黑”字体，而是使用其系统字体。怎么处理呢？</p>\n<p>一种方法是可以试试使用非标准的 -apple-system 等关键字字体，具体方法如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="87512977099013880000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n   font-family: -apple-system, BlinkMacSystemFont, \'Microsoft YaHei\';\n}`, `87512977099013880000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n   <span class="token property">font-family</span><span class="token punctuation">:</span> -apple-system<span class="token punctuation">,</span> BlinkMacSystemFont<span class="token punctuation">,</span> <span class="token string">\'Microsoft YaHei\'</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>这能够一定程度上满足我们的需求，但是毕竟是非标准的属性值，说不定哪天就被浏览器舍弃了，因此若非迫不得已，还是少用为妙。</p>\n<p>顺便多说两句，实际上还真有标准的系统字体关键字，叫作 system-ui，使用示例如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="79384460302857000000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n   font-family: system-ui;\n}`, `79384460302857000000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n   <span class="token property">font-family</span><span class="token punctuation">:</span> system-ui<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>在我写这段内容的时候，仅 Chrome 浏览器支持它（从版本 56 开始），并且，根据我的在 Windows 电脑上的测试，Chrome 浏览器的 system-ui 指的就是“调色板标题”对应关键字 small-caption 使用的字体，有点儿出乎我的意料。</p>\n<p>显然还有个更好的方法就是使用这里的 font 关键字，这是标准属性，10 年前浏览器就支持了，可以放心使用。CSS 代码如下（三选一即可）：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="23866738063626002000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n   font: menu;\n}\nbody {\n   font-size: 16px;\n}\n\nhtml {\n   font: small-caption;\n}\nbody {\n   font-size: 16px;\n}\n\nhtml {\n   font: status-bar;\n}\nbody {\n   font-size: 16px;\n}`, `23866738063626002000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n   <span class="token property">font</span><span class="token punctuation">:</span> menu<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">body</span> <span class="token punctuation">{</span>\n   <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">html</span> <span class="token punctuation">{</span>\n   <span class="token property">font</span><span class="token punctuation">:</span> small-caption<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">body</span> <span class="token punctuation">{</span>\n   <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">html</span> <span class="token punctuation">{</span>\n   <span class="token property">font</span><span class="token punctuation">:</span> status-bar<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">body</span> <span class="token punctuation">{</span>\n   <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>这几个声明就可以让各个系统使用各自引以为傲的字体，推荐最短的：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="74860881606350550000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n   font: menu;\n}\nbody {\n   font-size: 16px;\n}`, `74860881606350550000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n   <span class="token property">font</span><span class="token punctuation">:</span> menu<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">body</span> <span class="token punctuation">{</span>\n   <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>最后，我要对 font 关键字属性值的用法做一个点评。</p>\n<p>让网页的字体跟系统走，对设计师而言，其实是一个比较冒险的做法，因为最终呈现的字体是不可控的。举个例子，某女生非常喜欢可爱风格，于是就把她的电脑主题变成了非常可爱的风格，菜单栏的字体全部变成那种很可爱的字体，此时，font: menu 所呈现的就不是“微软雅黑”，而是这个用户定义的“可爱字体”，这可能不是设计师想看到的，因为往往会跟自己的网页设计风格不一致。但是，转念一想，万一这是用户想看到的呢？既然用户把自己的主题设为该字体，那就说明这个用户对这个字体并不排斥，而是喜欢。当她浏览网页的时候，发现就你的网站呈现出了她喜欢的那种字体，你说会不会给用户一种“你懂我的心”的感觉呢？对用户而言，反而成了一种情感化的设计！</p>\n<p>另外，让网页的字体跟系统走，还有一个更加长远的好处。随着软件的不断发展，我们的操作系统的默认中文字体一定是越来越好看，如果网页的 font-family 定死为某个字体，用户就无法及时享受到新系统新字体带来的愉悦的视觉感受。举个例子，OS X 的默认中文字体其实已经变过好多次了，例如，你今天写了个页面，字体设置为很潮的“苹方”，过两年说不定会出来更好的名叫“梨方”的字体，我打包票，网站绝对是不会跟进的，因为大多数的线上项目维护都不会管 font-family 这种边边角角的事情，因此，就算很多年过去了，网站使用的依然是老字体。但是，如果使用的是 font 关键字属性值，就完全不会有这样的问题，网站字体能时时刻刻与时俱进。</p>\n<p>// TODO CSS 世界读书笔记待完成</p>',
excerpt:"line-height 的另外一个朋友 font-size 第 5 章介绍过 line-height 和 vertical-align 的好朋友关系，实际上 font-size 也和 line-height 是好朋友，同样也无处不在，并且纸面上 line-height…",frontmatter:{date:"2021-12-14 14:07:08",path:"/css-world-text-processing/",tags:"前端, CSS, CSS世界, 读书笔记",title:"CSS世界强大文本处理能力",draft:null}}},pathContext:{mainPostPath:"/typescript-practice-test/",nextPostPath:"/gatsby-plugin-transformation/",prePostPath:"/css-world-text-processing/"}}}});