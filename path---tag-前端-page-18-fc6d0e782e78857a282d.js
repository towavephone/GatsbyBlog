webpackJsonp([0xcdfd63963513],{1538:function(n,a){n.exports={data:{site:{siteMetadata:{title:"女王控的博客",description:'前端工程师，黑猫女王控，欢迎勾搭，技术相关<a href="https://github.com/towavephone" target="_blank">@towavephone</a>，QQ闲聊<a href="tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=634407147&website=www.oicqzone.com">@towave</a>，bili关注<a href="https://space.bilibili.com/11507708#/" target="_blank">@towave</a>',siteUrl:"https://blog.towavephone.com"}}},pathContext:{posts:[{excerpt:"一些常见不必要 CSS 样式 与默认 CSS 样式一致 我们有时候写的 CSS 样式会与浏览器默认的 CSS 样式一致，有时候您自己都可能没有意识到。 常见的例子有： width / height 很显然，这段样式是没有必要的，默认的任何块状元素的高度几乎都是 auto。 padding 上面有关 body,p 等标签的样式中有个样式是无效的，与默认值一致的，这个样式就是 padding:0，对于 body,p,h1~6 这些标签，本身的 padding 值就是 0，所以只需要 margin:…",html:'<h1 id="一些常见不必要-css-样式"><a href="#%E4%B8%80%E4%BA%9B%E5%B8%B8%E8%A7%81%E4%B8%8D%E5%BF%85%E8%A6%81-css-%E6%A0%B7%E5%BC%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>一些常见不必要 CSS 样式</h1>\n<h2 id="与默认-css-样式一致"><a href="#%E4%B8%8E%E9%BB%98%E8%AE%A4-css-%E6%A0%B7%E5%BC%8F%E4%B8%80%E8%87%B4" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>与默认 CSS 样式一致</h2>\n<p>我们有时候写的 CSS 样式会与浏览器默认的 CSS 样式一致，有时候您自己都可能没有意识到。</p>\n<p>常见的例子有：</p>\n<h3 id="width--height"><a href="#width--height" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>width / height</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="8692246738761277000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`div {\n  width: auto;\n  height: auto;\n}`, `8692246738761277000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>很显然，这段样式是没有必要的，默认的任何块状元素的高度几乎都是 auto。</p>\n<h3 id="padding"><a href="#padding" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>padding</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="41916117894566400000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body,\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin: 0;\n  padding: 0;\n}`, `41916117894566400000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body,\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6</span> <span class="token punctuation">{</span>\n  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>上面有关 body,p 等标签的样式中有个样式是无效的，与默认值一致的，这个样式就是 padding:0，对于 body,p,h1~6 这些标签，本身的 padding 值就是 0，所以只需要 margin:0 就可以了。</p>\n<p>因为 ul,ol 还要独立设置 list-style 样式，而且常用的标签就 ul,ol 列表元素有默认的 padding 值，高效的写法应该是：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="91090805173446590000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body,\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin: 0;\n}\n\nul,\nol {\n  list-type: none;\n  margin: 0;\n  padding: 0;\n}`, `91090805173446590000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body,\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6</span> <span class="token punctuation">{</span>\n  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">ul,\nol</span> <span class="token punctuation">{</span>\n  <span class="token property">list-type</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>\n  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="display-inline"><a href="#display-inline" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>display: inline</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="31130669740770566000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`span {\n  display: inline;\n  float: left;\n  margin-left: 3px;\n}`, `31130669740770566000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">span</span> <span class="token punctuation">{</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> inline<span class="token punctuation">;</span>\n  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>\n  <span class="token property">margin-left</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>出现这种情况的原因可能与 IE6 的浮动双边距 bug 有关，我们可以用设置 display:inline 的方法修复 IE6 的这个 bug。</p>\n<p>但是对于 span/a/em/cite/i/b/strong 等行内元素默认就是 display:inline 的，所以给其设置 display:inline 属性是多此一举。</p>\n<p>类似的情况还有对本身就是 block 水平的元素设置 display:block 属性，例如：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="86679511218759090000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`li {\n  display: block;\n  padding: 4px 0;\n}`, `86679511218759090000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">li</span> <span class="token punctuation">{</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>\n  <span class="token property">padding</span><span class="token punctuation">:</span> 4px 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>上面的情况屡见不鲜，甚至在比较优秀的网站上也会有这类低级的样式问题。</p>\n<h3 id="其他"><a href="#%E5%85%B6%E4%BB%96" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>其他</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="78060558891985270000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`div {\n  margin: auto;\n}\n\ntextarea {\n  overflow: auto;\n}\n\nimg,\ninput,\nbutton {\n  vertical-align: baseline;\n}\n\ndiv {\n  background-position: 0 0;\n}`, `78060558891985270000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">textarea</span> <span class="token punctuation">{</span>\n  <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">img,\ninput,\nbutton</span> <span class="token punctuation">{</span>\n  <span class="token property">vertical-align</span><span class="token punctuation">:</span> baseline<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">background-position</span><span class="token punctuation">:</span> 0 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="没有必要出现的样式"><a href="#%E6%B2%A1%E6%9C%89%E5%BF%85%E8%A6%81%E5%87%BA%E7%8E%B0%E7%9A%84%E6%A0%B7%E5%BC%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>没有必要出现的样式</h2>\n<p>最常见的就是 clear:both 的使用。<br>\n如果前后没有浮动元素干扰，使用 clear:both 是没有道理的。<br>\n比如说新浪新版博客个人博客的首页，clear:both 属性可以说是滥用：</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2020-01-06-20-15-47-9ca964bdded7e2e5d1358e8d990b9b63-7cd76.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 382px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 32.19895287958116%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABQElEQVQY02WNz0oCYRRHr6iDMKijK32Dwpdwp58QRD5Pi54icGUgpKscjFyUmORnjn/SNCvHkkbSaXQUHYckHedrDFtEl7O4i9/hAFmR82Ha3/Z7eI+z6WQeGFfd5Wg4vG/e+DSe+kyJuji6yqXSFxmMcxifsexxJJLHeIExLFdLQkinL+xUdqEJtrKNKlEUR1FVyspZoQYncoyUnsYcfk8kpGy2l8kUolHjWRSLW7n90fVVfJaGxV6w02Wa5mg6TzN3DAiQnCTJkmiFW8KyRNe3aJqqKPD1I99Lj+6qG1pgKpuMGlwD3IBZMMMAjvqH/MtlT24aszXR14RohkyIqqrbsqQNw3w48BoItULoGaEOQl2E6ijIB8PCwV53PzY93cgb1wj/yoqiSENJHslzcT4f/EXcoAyUWX82Ecejf/cNmIX9xtSdewoAAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2020 01 06 20 15 47" title="" data-src="/static/2020-01-06-20-15-47-9ca964bdded7e2e5d1358e8d990b9b63-7cd76.png" data-srcset="/static/2020-01-06-20-15-47-9ca964bdded7e2e5d1358e8d990b9b63-1cbbb.png 200w,\n/static/2020-01-06-20-15-47-9ca964bdded7e2e5d1358e8d990b9b63-7cd76.png 382w" data-sizes="(max-width: 382px) 100vw, 382px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>在博客列表主体处基本上每个 div 标签都使用了 clear:both 属性，而这里所有的 clear:both 属性都是可以去除的。</p>\n<p>clear:both 的多余使用可以说是相当普遍使用的情况。像是开心网底部网站信息：</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2020-01-06-20-16-09-d428f90038bb1f636d08684f8146390b-f1382.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 533px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 44.652908067542214%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABzUlEQVQoz2WNWW/aUBCF/d8bAqF9CkuSiqrbC7TJWx8iVYaECqhDiFl8vXFtc40XbC5gvGFMSHopUl86Ovp05syMhqJ7uFa3b+5m1/+pRpvfG3atblVp89DWLaJDQptV2vrRsqkv10amoOUvtFxZO/unv22mALMlNVtUTs7HubJ6WlROC5DkhCfnSumzSt18gsU34CrHX+aEqzPxIssTHn3lrUz4Pi9V3o2Phug4LWeEryWBsiesDFpQ7gocM2A7GmRFvg0lRgDtLvNTAC1u0Pzdvh2y9/1egxBKD+q4q44fVNijpmgMRoyq8LI8UqUnC3GOIdqmwLIdpvMLaWL/scW0GmDIcIMOIVnWJyOkDTVlRIXxlhMX3OMEDhFUFgBFPIqQE84cvI68eTi3PNsJHC9Zrvxw6cXP+32y3e92r2maUsgNy9/4auG2dkl//NAulJr5Sp/pKq+JP/NdYIKh0X9SRhwSZXPCidYEea4bY7xJkoTak3p5eU5SZ7rydLxzsQlUB0hxs2lOJcmFyHR1PTCMMAzStbcLgjSK0u12fziOQlKB760WSPdte42x5WJnuV7MsYtta27N3RXG5NsqCPzNJozjYLOJoiggV38AV4u5SoV+RQgAAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2020 01 06 20 16 09" title="" data-src="/static/2020-01-06-20-16-09-d428f90038bb1f636d08684f8146390b-f1382.png" data-srcset="/static/2020-01-06-20-16-09-d428f90038bb1f636d08684f8146390b-7cec2.png 200w,\n/static/2020-01-06-20-16-09-d428f90038bb1f636d08684f8146390b-dfa51.png 400w,\n/static/2020-01-06-20-16-09-d428f90038bb1f636d08684f8146390b-f1382.png 533w" data-sizes="(max-width: 533px) 100vw, 533px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>要是前后没有直接的浮动元素，使用 clear:both 就是多余的。</p>\n<h2 id="不起作用的单样式"><a href="#%E4%B8%8D%E8%B5%B7%E4%BD%9C%E7%94%A8%E7%9A%84%E5%8D%95%E6%A0%B7%E5%BC%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>不起作用的单样式</h2>\n<p>有些 CSS 样式只针对特定显示水平的标签起作用。</p>\n<h3 id="inline-水平"><a href="#inline-%E6%B0%B4%E5%B9%B3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>inline 水平</h3>\n<p>inline 水平的元素对很多 CSS 样式都不起反应，例如 height/width, clear, margin-top/margin-bottom, overflow 等。举个实例吧，拿 overflow:hidden 属性举例，对于 inline 水平的元素而言，设置 overflow:hidden 属性是没有作用的。例如下面的测试代码：</p>\n<html><head></head><body><div class="gatsby-code-button-container" data-toaster-id="60198602726399030000" data-toaster-class="gatsby-code-button-toaster" data-toaster-text-class="gatsby-code-button-toaster-text" data-toaster-text="复制成功" data-toaster-duration="3500" onclick="copyToClipboard(`<span style=&quot;overflow: hidden;&quot;>\n  <img data-src=&quot;mm1.jpg&quot; style=&quot;margin-left: -5px;&quot;/>\n  <span></span\n></span>`, `60198602726399030000`)">\n              <div class="gatsby-code-button" title="html">\n                <span class="gatsby-code-button-language">html</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div></body></html>\n<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mm1.jpg<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">margin-left</span><span class="token punctuation">:</span> -5px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span>\n<span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>对比于：</p>\n<html><head></head><body><div class="gatsby-code-button-container" data-toaster-id="1855530305333164000" data-toaster-class="gatsby-code-button-toaster" data-toaster-text-class="gatsby-code-button-toaster-text" data-toaster-text="复制成功" data-toaster-duration="3500" onclick="copyToClipboard(`<span style=&quot;display: inline-block; overflow: hidden;&quot;>\n  <img data-src=&quot;mm1.jpg&quot; style=&quot;margin-left: -5px;&quot;/>\n  <span></span\n></span>`, `1855530305333164000`)">\n              <div class="gatsby-code-button" title="html">\n                <span class="gatsby-code-button-language">html</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div></body></html>\n<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span> <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mm1.jpg<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">margin-left</span><span class="token punctuation">:</span> -5px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span>\n<span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>对比图如下：</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2020-01-06-20-35-24-a806dd805b9e328f78b849aaacc0c610-aa023.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 392px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 65.81632653061224%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACI0lEQVQoz4VR3W/SUBTnH/RlDzNxJj6Y+KAxMQZjFvFhPvjgx5aAGnXLlIgTBluYhMBcGXN0sghrWFo61tJBhgRuGG1vKaXQj7vbuqlbQvzll5vfOfd83HOuRx8aUNVhX++ICuiIsqIpqn7OgdLXx7Gnah61r4tQl3pGvQGy2/kmkKBqiHAA+wbsm5IyHMNRq33iGRmGZVkj0y7TjD7QLAemZduKLEqdFhamY18m9kuS5DFNEyHbRii3ughKqZMKuZcIApY8zsfYzBIaD1mWz5IthACV1PbDxZVAcPoOk1xUS8v1rSDugEYjpGnIMJzzt1BV7JQh/NuZXg8JKf/bmYe+65NkLFL7Nk9F53BR1GigDIE2CESSiCDQVhZtZhAAsqKcJeMY4pM/OnPT7707eeXa8yevNt88ivkfOxfNJuI4xDBOldoRKhQc8e+zcVA+Ff0eXcglVve2c0QynV96Tbx/iao8KhacEZ2Qc7j6QvIxW4AHhMTtUPEFORfvZkL19EdnQgzLcoij/ohLCxMFSqU+//gy+8F7i16b75UiR3hhlvX/bWOjXiK5r7MBn9d7dSIbCfOpd8XlOdNNdj8fL94B/mb7QmfXKJProempwP3bUxM3nvpm0y/uhZ89GA6H+y44jmNohqbpsguhKrRbbY+u6wqEsqL+Eiq76ZVsYo3a2d1IJCki/jOb7na71apQZg94jj+sHPJ8tVars2WW5wUAwCnpf64JyDMqYAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2020 01 06 20 35 24" title="" data-src="/static/2020-01-06-20-35-24-a806dd805b9e328f78b849aaacc0c610-aa023.png" data-srcset="/static/2020-01-06-20-35-24-a806dd805b9e328f78b849aaacc0c610-b2451.png 200w,\n/static/2020-01-06-20-35-24-a806dd805b9e328f78b849aaacc0c610-aa023.png 392w" data-sizes="(max-width: 392px) 100vw, 392px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<h3 id="block-水平"><a href="#block-%E6%B0%B4%E5%B9%B3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>block 水平</h3>\n<p>block 水平的元素对 vertical-align 属性没有作用。</p>\n<h3 id="组合起作用"><a href="#%E7%BB%84%E5%90%88%E8%B5%B7%E4%BD%9C%E7%94%A8" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>组合起作用</h3>\n<p>有些样式需要和其他一些特定的 CSS 属性一起使用才有作用。常见的就是 z-index 与 position 属性的组合使用，left/top/bottom/right 与 position 属性的组合使用。</p>\n<h2 id="组合样式中多余的-css-代码"><a href="#%E7%BB%84%E5%90%88%E6%A0%B7%E5%BC%8F%E4%B8%AD%E5%A4%9A%E4%BD%99%E7%9A%84-css-%E4%BB%A3%E7%A0%81" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>组合样式中多余的 CSS 代码</h2>\n<h3 id="displayblock"><a href="#displayblock" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>display:block;</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="46939837176075640000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`a {\n  display: block;\n  float: left;\n  margin-top: 2px;\n}`, `46939837176075640000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">a</span> <span class="token punctuation">{</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>\n  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>\n  <span class="token property">margin-top</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>这可以说是最常见的含有多余样式的例子了，开心网个人首页可谓随处可见，见下图：</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2020-01-06-20-37-48-1dd2651504ce7cb548d5b983b36a332d-037b2.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 499px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 58.517034068136276%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACcklEQVQozzWRWW/aUBCF/ev71odKlfKSNlEjtalaJU3E0oQkhB3iDWy84C3GO2Dje72CsXHdqD365miezkhnEM91jaVgbTzb8wEEURgm6X67hSsXuooGWAHwss+JPitCTgT/gYIS+D5i2+acRBmSled84HtxGltr0B1TtVa39+XSmHHSC25LmiHpK8V0FEvjVXvpyD3M4ReI8uv55n2r0aEbHVLojBJvU5RlvIv82NdFQ8NejFHXuP1tN+7Meu31+qdVr20bjVJVIfCR1zZ+86F11561+pSIUQn0j2V5PBbFMXfAHpcc2oaL77foxbfH84vB18tpvTk+PXdVC4QhsvJsjkZxlCQIStC0MPB2aZym0a4iCcMQBlULDJ2FIIuCQxRUvg9hFAJ/6yEk1iWIsazQ9LTHUv0FM5yhT/x8UC0CMyQnLVGYMPdXVK8uSKjAj3l2sOCG8mJkWyoyJSYkPlGXC9MSbUuwdGZlsoqIiQuUZSeyTOgGSzzU8eatqHA0MRx17sf9B24+MfRXZL9LAQjkMdu/bPeuBv0m0WtR7SY5ahHM08v0EUN5T69+Q89cCCD0D/khO2R5kQcQIOWbbJxrX01+nPbPPvZqJ3fNk8bNp+f7z+3hu7P5dTuyDPj8xJsCo3PT5Yy3BckRN94aqZqt9Dcgz3LD3Gur0lRLQy7NZaSr4VovY5jWayk1lbHukhiqGGEMUZmV7Y3773J5LH2QrB2Q7w/HPC+yQ5W3L4qsyNOidJ1VMsXZWddgOIOxEpIvV+sgiZE0TQAIRXGj61sYxOkuTdI3kqSabJc6LpSWVqApMj5QCFTFKW8uhJ4HA/AHtCBvFRJowmcAAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2020 01 06 20 37 48" title="" data-src="/static/2020-01-06-20-37-48-1dd2651504ce7cb548d5b983b36a332d-037b2.png" data-srcset="/static/2020-01-06-20-37-48-1dd2651504ce7cb548d5b983b36a332d-fd89b.png 200w,\n/static/2020-01-06-20-37-48-1dd2651504ce7cb548d5b983b36a332d-a94ea.png 400w,\n/static/2020-01-06-20-37-48-1dd2651504ce7cb548d5b983b36a332d-037b2.png 499w" data-sizes="(max-width: 499px) 100vw, 499px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>这里的 display 属性完全没有必要，对于 a 或是 span 标签而言，没有任何理由使用 display+float 的组合，因为 float 所产生的“包裹”作用已经让元素如同一个 inline-block 水平的元素，这种作用大于直接的 display 设置。</p>\n<p>仅仅一种情况下有必要使用 display+float 的组合，就是 block 水平的元素在 IE6 下的双边距 bug 问题，这种情况的唯一写法就是 display:inline; float:left; margin-left:3px;一定要有与 float 浮动同方向的 margin 值，否则 display:inline 是多余的，可以直接去掉。</p>\n<h3 id="height25px"><a href="#height25px" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>height:25px;</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="28263678441945883000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`div {\n  height: 25px;\n  line-height: 25px;\n}`, `28263678441945883000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>\n  <span class="token property">line-height</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>这又是一种常见的平时不注意的可以精简的 CSS 代码，这段代码高度与 line-height 值一致，通常作用是实现单行文字的垂直居中显示。但是实际上，很多情况下，这里的 height 是个多余的值，尤其在模块标题处。对于单行文字而言，您设置 line-height 多大，其实际占据的垂直高度就是多高，没有任何的兼容性问题，可以放心使用。</p>\n<p>但是，有时候这里的 height 值是有必要的，什么时候呢？就是 IE6/7 清除浮动影响的时候，IE6/7 下设置 height 值可以让元素 haslayout 从而清除浮动的影响，而 line-height 无此作用，还有就是其他一些需要 layout 的情况。</p>\n<h3 id="width100"><a href="#width100" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>width:100%;</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="12130603741482248000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`span {\n  display: block;\n  width: 100%;\n}\n\ndiv {\n  width: 100%;\n}\n\nbody {\n  width: 100%;\n}`, `12130603741482248000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">span</span> <span class="token punctuation">{</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">body</span> <span class="token punctuation">{</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>这也是常见的使用多余 CSS 样式的情况，width:100%。在一般情况下，对于 block 属性的元素，width:100%这个属性绝对是多余的。默认的，block 水平的元素就是宽度相对于父标签 100%显示的。</p>\n<p>当然，不使用 100%的情况不是绝对的，下面这个组合可能使用 width:100%是有必要的。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="85950484344523720000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`div {\n  width: 100%;\n  overflow: hidden;\n}`, `85950484344523720000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>在 IE6/7（没有 IE8）下，对于 block 水平的元素，我们可以使用 width:100%清除浮动造成的影响，原因与上例一样，haslayout，除了这种情况，纯粹的{width:100%;}样式（无 float 或是 position:absolute 之类的样式）是不可能出现的。所以，如果您的 CSS 代码中出现上述情况，检查下您的 width:100%是不是多余的。（下图为搜狐白社会动态列表中多余 width:100%情况）</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2020-01-06-20-42-33-b8f514cad4cdaae22163b92cf43848d9-ad786.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 457px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 48.57768052516411%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB5klEQVQoz33GTW+acACAcT7gLvtGS3bZYcuSZe2Sdafu0HRpbGJWBZzUVgWUiogKCCLwR1BAKq/Ki8JctuPS5JcnD3TFLG4m4Hqk3AomAgJY9eqaD78I0fyfqq9ufOgdAT70jPek/om2zsbP5+zzF8Y5Y90XnLPuR8ZldAeq42uEsBDSRog1QrlYnWv9kk6DkhZK2mjvPxo9u4bbsuZA6yXQ1cWpvuuUZVmIQrmPimNenhyyY5YUeVpk6Wn+fPbvyzwLvC0kCuRM6LOjtiRSCk8qzeqAupelJ3b4OJ3gBmBVmQYqY+js6XVt9BdQh46lQ9NRh+zAU6bN8SSNI8zd9UToj+mWxBMj+gGFbyVhMOg3G8gN1qhQBILjcP8J63ZqssRBgczHC75YznfBZt+Cs3H/kPpptJFkDQAgy6IkCcJsYi6Xq5W13UWetfJM3Xcsd+NAInAuqtpl3fhaW8Gf77CrbrVl2GHhJ6kXRX4aU9pkZiuKGUsgKuaKV6nQl98P9DAKQ0hZ7169oV+/Zb4hS1m05gNZJPhoruUYmsyE7Zzj0B8m+aDWCKtJ7u8fC9PMVLX0vDAMIFlx2kOD4tZZEhdFeiyyQ+zvA88VeXPGb6Ys6DZtogcwMhDF8JDHWbbLszhJfM/7DcV0+5IhMRkpAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2020 01 06 20 42 33" title="" data-src="/static/2020-01-06-20-42-33-b8f514cad4cdaae22163b92cf43848d9-ad786.png" data-srcset="/static/2020-01-06-20-42-33-b8f514cad4cdaae22163b92cf43848d9-aaeb0.png 200w,\n/static/2020-01-06-20-42-33-b8f514cad4cdaae22163b92cf43848d9-4d187.png 400w,\n/static/2020-01-06-20-42-33-b8f514cad4cdaae22163b92cf43848d9-ad786.png 457w" data-sizes="(max-width: 457px) 100vw, 457px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<h3 id="vertical-alignmiddle"><a href="#vertical-alignmiddle" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>vertical-align:middle;</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="58599518366300996000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`div {\n  float: left; /* 或display:inline;*/\n  vertical-align: middle;\n}`, `58599518366300996000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span> <span class="token comment">/* 或display:inline;*/</span>\n  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>设置无用的 vertical-align 属性也是常见的。对于 block/inline 水平的元素或是设置了浮动属性或是 absolute 绝对定位的元素，其都不支持 vertical-align 属性。所以这些属性与 vertical-align 同时出现时，vertical-align 属性不起任何作用是多余的。</p>\n<p>例如人人网右侧的垂直菜单 block 水平的 li 元素：</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2020-01-06-20-44-52-a73793a69bf13b2389dbc7dbe5906121-a2b3c.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 434px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 56.22119815668203%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACX0lEQVQoz02SSW/TUBSF/df4C/wCEBLqoG5YIHXJihaKBAtgA6UtCImWUmhLaEXrpEoT0mauYydxnhPbz47tPA/xHMcTpiuOru7u3Hv06WB+EIqWD01fMGeiHQjWDJqeN49GXI8eEEiXwzCcz4P5rWb/ybZtbOIE25S2SRlbffMTiXY6aJPSBTdaW3+wsXpn/2Q7DhNN03RdRwhl/iiKsnNxHFuWhQVxSoPueYen7dTmBBnKI8ML4uTJ2srjR3dzJwdpmmZPfN93XDdOkiRNb1fqeS6mGVOm22UAlFTLvOmoSEeGbUwtwIBqvc7zPFJ1BWmKqksTTVM1e2qot0nGooiJkKHr+SHd5VmgFPNwzIkCm40sQRWNFVmQxH95JuQN+LpPHB619r+pOC5zzIhlsFqt3GxdcRzZquIMfghAtUuWSKII+pUeeXnTKlz/OaW6ZeriuP55izz4QhzsCufHfL9C968xUWBosjJgW+gyR3/frjbzA6pSKZ00a+d9qnL2+2ejVqY6lYv84Sn+o7m3Nfz4tnh11m4U8vgRpih6ucYWWxDsHjdyJUazg8gP5g4nymDICgILIKCHPYKk+DHkWFoqFWQd+Z6bAcAkZK2+7y2+7Dx81X34tI7vFNKJNEOm7QaaqcdhjBRkaZYG/bmaJHaaQj0Jwox2xh+L4yiKo0Cf+lB24MQbq2obmOWGWyrFv3K8OVgXnj/j119Lb1703m3QH3aIjTa6zMyO62BZV4IwMqA8bg+kgegMuQmHeAYBCkoNikDXC8rCsry0JC0vSYsr8vL90b29yW4apVNr+hd0EzJio2ZFxwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2020 01 06 20 44 52" title="" data-src="/static/2020-01-06-20-44-52-a73793a69bf13b2389dbc7dbe5906121-a2b3c.png" data-srcset="/static/2020-01-06-20-44-52-a73793a69bf13b2389dbc7dbe5906121-6a6e0.png 200w,\n/static/2020-01-06-20-44-52-a73793a69bf13b2389dbc7dbe5906121-8250c.png 400w,\n/static/2020-01-06-20-44-52-a73793a69bf13b2389dbc7dbe5906121-a2b3c.png 434w" data-sizes="(max-width: 434px) 100vw, 434px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>或是淘宝新版首页左上侧的垂直列表：</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2020-01-06-20-45-11-218d51b782b673d8eccf2d4e33336783-ab1e0.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 530px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 43.20754716981132%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACBUlEQVQozy3MW2/SYACA4f5Nf4HxdnGamWXGmKjhRm90OreZbBduc8qGxY7DkI1BCdDRltNXevp6ppSPlkPLaVC58Oa5eZMXOz+CRMVJKehaQldwwJi9gObHtG6Uboun72v4XgP/QuLHdDqd3Y0K786NfRzuXyqfomq8gF2eyL9JPaP0K1UxZ004x120VOOQpL7tFr9HCgcvqJNI8viDFi+TH/GjR9v9jR+9rWj/2S/t7QXWtWoKT1mwMaTzyGo7BuiYfMcU+FZZFVkJlOR11YAtcbYpAK5iANbmG512Qwd1jAM0yxQYJs8RP2vMXZFMlUtpqpy+r2SYarZUTNToLA+K+VxCqFPgPl/KJUtkkq5myEISEyVVFjSBh3PiYsI3EDJdR+shczp1/WG3aymaLktQqYlMFv69kTPXfKIFayPPVVUZm8+X0VsrciodRPnPZ+ArYexdWWcxLn0D7+rewyqcLWZjd8yM6E3h6Rs9st14zQ7YMAxH/ghDKGCBx/KuKCERmG3oiqZvqshqQoMCC9148PpD117OV7becUw06y0GcLmchZMgwDqOPxosPMcPB/1QV1b+ZH0NV6v/+v6Dqa1SmVQv9th48tza3DJebnA7O8YrohvHFNWB0AXAGovSsMl53igIAt/3g/EafzqfDScTQ1abiMERnnAIwoknen9wO0aZ5X+7uMBUpZKc1gAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2020 01 06 20 45 11" title="" data-src="/static/2020-01-06-20-45-11-218d51b782b673d8eccf2d4e33336783-ab1e0.png" data-srcset="/static/2020-01-06-20-45-11-218d51b782b673d8eccf2d4e33336783-8e92d.png 200w,\n/static/2020-01-06-20-45-11-218d51b782b673d8eccf2d4e33336783-d963f.png 400w,\n/static/2020-01-06-20-45-11-218d51b782b673d8eccf2d4e33336783-ab1e0.png 530w" data-sizes="(max-width: 530px) 100vw, 530px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<h3 id="displayinline-floatleft-margin-left10px"><a href="#displayinline-floatleft-margin-left10px" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>display:inline; float:left; margin-left:10px;</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="51695938955832220000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`div {\n  position: absolute;\n  left: 0;\n  top: 0;\n  display: inline;\n  float: left;\n  margin-left: 10px;\n}`, `51695938955832220000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>\n  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> inline<span class="token punctuation">;</span>\n  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>\n  <span class="token property">margin-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>设置了绝对定位属性的元素相对特殊些，其不支持的 CSS 样式可就多了，首先对于 display 属性，完全没有必要，无论是 block/inline-block/inline 都是如此，除了显示隐藏外，没有任何组合使用的理由。还有其他很多属性都不支持，例如 clear，vertical-align 等。</p>\n<h3 id="zoom1"><a href="#zoom1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>zoom:1;</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="13512989382292462000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`div {\n  height: 20px; /* 或width:200px; */\n  zoom: 1;\n  overflow: hidden;\n}`, `13512989382292462000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token comment">/* 或width:200px; */</span>\n  <span class="token property">zoom</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>\n  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>我们可能会使用 zoom 清除 IE6/7（对 IE8 无效）浏览器下浮动造成的影响。但是对于 IE6/7 而言，如果您已经设置了高度值或是宽度值，那么 zoom:1 完全就是多余的，在 IE6/7 下含有定值的 height 或是 width 与 zoom:1 起到了同样的一个作用，就是使元素 haslayout，可用来清除浮动产生的影响，所以，width/height 与 zoom:1 同时出现也是没有任何理由的。</p>\n<h3 id="其他-1"><a href="#%E5%85%B6%E4%BB%96-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>其他</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="67315316714766025000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`a {\n  display: inline-block;\n  *display: inline;\n  *zoom: 1;\n}`, `67315316714766025000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">a</span> <span class="token punctuation">{</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>\n  *<span class="token property">display</span><span class="token punctuation">:</span> inline<span class="token punctuation">;</span>\n  *<span class="token property">zoom</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>这是设置元素的 inline-block 属性，但是对于 inline 行内元素来说，后面的两个样式就是多余的，因为 display:inline-block 可以让 inline 水平的元素表现的就如同真正的 inline-block 水平一样。</p>\n<p>所以，下图人人网样式代码中标注的代码就是多余的。如果是 div，则需要上面完整代码。</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2020-01-06-20-50-33-a58bc595b5fe1df55a9884219e683534-f1382.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 533px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 46.90431519699812%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABXklEQVQoz31RyY3CQBB0VHx4EgIpkAOOgQyIAQkRAB9+SMgGixWXbJDvC+ODAc9pb9to5c/ulkat6dZUV0+1xDknhJRlSSlljBHGRJZRhAil7/cblyWHCufdaVFVFcZYAjJCKEkSy7IMXTcdx1utbopimGYYBDlC9R8APQnafBLbtq/XK7SIwhBSGAQid93n+Rxqmr/bRdst8zwogizERvlDhtxxHMMwTqdTFMdRFDV/wThT1dtyuZnNlPn8a7FINY0KUcJ3MC6KolM+XA5rZa3u1aN+3Ow2vuenWZam6QtepSmFKV+ve5LkeQ7Fx+MRx3FHxiF+Ws/4EotEiEIwzup/0RomONxITSbuZGyM5Zssm/I0muZJLqrG1Q9+N6xRqGpUo6E+7O/7g2DQC3qjcFQLKHcc2AgYAaMGLe4tJHAVvBFc1DCBaE/VRP4DWD4o+76v6zrQYB2u64K70Osb9Pbz7jsrz1oAAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2020 01 06 20 50 33" title="" data-src="/static/2020-01-06-20-50-33-a58bc595b5fe1df55a9884219e683534-f1382.png" data-srcset="/static/2020-01-06-20-50-33-a58bc595b5fe1df55a9884219e683534-7cec2.png 200w,\n/static/2020-01-06-20-50-33-a58bc595b5fe1df55a9884219e683534-dfa51.png 400w,\n/static/2020-01-06-20-50-33-a58bc595b5fe1df55a9884219e683534-f1382.png 533w" data-sizes="(max-width: 533px) 100vw, 533px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>',
id:"/home/runner/work/GatsbyBlog/GatsbyBlog/blog/去除冗余 – 精简您的CSS样式代码/index.md absPath of file >>> MarkdownRemark",timeToRead:6,frontmatter:{date:"2020-01-06 19:50:59",path:"/simplify-your-css-code/",tags:"前端, CSS, CSS知识点",title:"去除冗余 – 精简您的CSS样式代码",draft:null}},{excerpt:"API 目前页面可见性 API 有两个属性，一个事件，如下： document.hidden: Boolean 值，表示当前页面可见还是不可见 document.visibilityState: 返回当前页面的可见状态 hidden visible prerender preview visibilitychange…",html:'<h1 id="api"><a href="#api" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API</h1>\n<p>目前页面可见性 API 有两个属性，一个事件，如下：</p>\n<ul>\n<li>document.hidden: Boolean 值，表示当前页面可见还是不可见</li>\n<li>\n<p>document.visibilityState: 返回当前页面的可见状态</p>\n<ul>\n<li>hidden</li>\n<li>visible</li>\n<li>prerender</li>\n<li>preview</li>\n</ul>\n</li>\n<li>visibilitychange: 当可见状态改变时候触发的事件</li>\n</ul>\n<h1 id="兼容"><a href="#%E5%85%BC%E5%AE%B9" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>兼容</h1>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="82125005740131470000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`var pageVisibility = (function() {\n  var prefixSupport,\n    keyWithPrefix = function(prefix, key) {\n      if (prefix !== \'\') {\n        // 首字母大写\n        return prefix + key.slice(0, 1).toUpperCase() + key.slice(1);\n      }\n      return key;\n    };\n  var isPageVisibilitySupport = (function() {\n    var support = false;\n    if (typeof window.screenX === \'number\') {\n      [\'webkit\', \'moz\', \'ms\', \'o\', \'\'].forEach(function(prefix) {\n        if (support == false && document[keyWithPrefix(prefix, \'hidden\')] != undefined) {\n          prefixSupport = prefix;\n          support = true;\n        }\n      });\n    }\n    return support;\n  })();\n\n  var isHidden = function() {\n    if (isPageVisibilitySupport) {\n      return document[keyWithPrefix(prefixSupport, \'hidden\')];\n    }\n    return undefined;\n  };\n\n  var visibilityState = function() {\n    if (isPageVisibilitySupport) {\n      return document[keyWithPrefix(prefixSupport, \'visibilityState\')];\n    }\n    return undefined;\n  };\n\n  return {\n    hidden: isHidden(),\n    visibilityState: visibilityState(),\n    visibilitychange: function(fn, usecapture) {\n      usecapture = undefined || false;\n      if (isPageVisibilitySupport && typeof fn === \'function\') {\n        return document.addEventListener(\n          prefixSupport + \'visibilitychange\',\n          function(evt) {\n            this.hidden = isHidden();\n            this.visibilityState = visibilityState();\n            fn.call(this, evt);\n          }.bind(this),\n          usecapture\n        );\n      }\n      return undefined;\n    }\n  };\n})(undefined);`, `82125005740131470000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="js"\n              >\n                <span class="gatsby-code-button-language">js</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">var</span> pageVisibility <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">var</span> prefixSupport<span class="token punctuation">,</span>\n    <span class="token function-variable function">keyWithPrefix</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">prefix<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>prefix <span class="token operator">!==</span> <span class="token string">\'\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token comment">// 首字母大写</span>\n        <span class="token keyword">return</span> prefix <span class="token operator">+</span> key<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> key<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n      <span class="token keyword">return</span> key<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token keyword">var</span> isPageVisibilitySupport <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">var</span> support <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window<span class="token punctuation">.</span>screenX <span class="token operator">===</span> <span class="token string">\'number\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token punctuation">[</span><span class="token string">\'webkit\'</span><span class="token punctuation">,</span> <span class="token string">\'moz\'</span><span class="token punctuation">,</span> <span class="token string">\'ms\'</span><span class="token punctuation">,</span> <span class="token string">\'o\'</span><span class="token punctuation">,</span> <span class="token string">\'\'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">prefix</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>support <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token operator">&amp;&amp;</span> document<span class="token punctuation">[</span><span class="token function">keyWithPrefix</span><span class="token punctuation">(</span>prefix<span class="token punctuation">,</span> <span class="token string">\'hidden\'</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          prefixSupport <span class="token operator">=</span> prefix<span class="token punctuation">;</span>\n          support <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> support<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">var</span> <span class="token function-variable function">isHidden</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>isPageVisibilitySupport<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> document<span class="token punctuation">[</span><span class="token function">keyWithPrefix</span><span class="token punctuation">(</span>prefixSupport<span class="token punctuation">,</span> <span class="token string">\'hidden\'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">var</span> <span class="token function-variable function">visibilityState</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>isPageVisibilitySupport<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> document<span class="token punctuation">[</span><span class="token function">keyWithPrefix</span><span class="token punctuation">(</span>prefixSupport<span class="token punctuation">,</span> <span class="token string">\'visibilityState\'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    hidden<span class="token punctuation">:</span> <span class="token function">isHidden</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    visibilityState<span class="token punctuation">:</span> <span class="token function">visibilityState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token function-variable function">visibilitychange</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> usecapture</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      usecapture <span class="token operator">=</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>isPageVisibilitySupport <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> fn <span class="token operator">===</span> <span class="token string">\'function\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>\n          prefixSupport <span class="token operator">+</span> <span class="token string">\'visibilitychange\'</span><span class="token punctuation">,</span>\n          <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">this</span><span class="token punctuation">.</span>hidden <span class="token operator">=</span> <span class="token function">isHidden</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token keyword">this</span><span class="token punctuation">.</span>visibilityState <span class="token operator">=</span> <span class="token function">visibilityState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> evt<span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          usecapture\n        <span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n      <span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>与<code class="language-text">原生属性事件</code>对应关系如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="81191700907522020000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`pageVisibility.hidden === document.hidden（兼容处理）\npageVisibility.visibilityState=== document.visibilityState（兼容处理）\npageVisibility.visibilitychange(function() { /* this指的就是pageVisibility */ }); === document.addEventListener(&quot;visibilitychange&quot;, function() {});（兼容处理）`, `81191700907522020000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="js"\n              >\n                <span class="gatsby-code-button-language">js</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js">pageVisibility<span class="token punctuation">.</span>hidden <span class="token operator">===</span> document<span class="token punctuation">.</span>hidden（兼容处理）\npageVisibility<span class="token punctuation">.</span>visibilityState<span class="token operator">===</span> document<span class="token punctuation">.</span>visibilityState（兼容处理）\npageVisibility<span class="token punctuation">.</span><span class="token function">visibilitychange</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* this指的就是pageVisibility */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">===</span> document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"visibilitychange"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>（兼容处理）</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<h1 id="应用"><a href="#%E5%BA%94%E7%94%A8" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>应用</h1>\n<h2 id="视频播放"><a href="#%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>视频播放</h2>\n<p>进入页面播放，离开页面暂停。</p>\n<div>\n          <div\n            class="gatsby-resp-iframe-wrapper"\n            style="padding-bottom: 75%; position: relative; height: 0; overflow: hidden;margin-bottom: 2em"\n          >\n            <iframe src="/examples/page-visibility-api-introduction-extend/play-video.html" style="\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n          "></iframe>\n          </div>\n          </div>\n<p><div class="gatsby-highlight">\n        <pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ie=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n    <span class="token selector">html,\n    body</span> <span class="token punctuation">{</span>\n      <span class="token property">background-color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>\n      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>show<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>videoElement<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./cat2.mp4<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>320<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>240<span class="token punctuation">"</span></span> <span class="token attr-name">controls</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">autoplay</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> pageVisibility <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">var</span> prefixSupport<span class="token punctuation">,</span> <span class="token function-variable function">keyWithPrefix</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">prefix<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">if</span> <span class="token punctuation">(</span>prefix <span class="token operator">!==</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                <span class="token comment">// 首字母大写</span>\n                <span class="token keyword">return</span> prefix <span class="token operator">+</span> key<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> key<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n            <span class="token keyword">return</span> key<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">;</span>\n        <span class="token keyword">var</span> isPageVisibilitySupport <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">var</span> support <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window<span class="token punctuation">.</span>screenX <span class="token operator">===</span> <span class="token string">"number"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                <span class="token punctuation">[</span><span class="token string">"webkit"</span><span class="token punctuation">,</span> <span class="token string">"moz"</span><span class="token punctuation">,</span> <span class="token string">"ms"</span><span class="token punctuation">,</span> <span class="token string">"o"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">prefix</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                    <span class="token keyword">if</span> <span class="token punctuation">(</span>support <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token operator">&amp;&amp;</span> document<span class="token punctuation">[</span><span class="token function">keyWithPrefix</span><span class="token punctuation">(</span>prefix<span class="token punctuation">,</span> <span class="token string">"hidden"</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                        prefixSupport <span class="token operator">=</span> prefix<span class="token punctuation">;</span>\n                        support <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n                    <span class="token punctuation">}</span>\n                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n            <span class="token keyword">return</span> support<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">var</span> <span class="token function-variable function">isHidden</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">if</span> <span class="token punctuation">(</span>isPageVisibilitySupport<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                <span class="token keyword">return</span> document<span class="token punctuation">[</span><span class="token function">keyWithPrefix</span><span class="token punctuation">(</span>prefixSupport<span class="token punctuation">,</span> <span class="token string">"hidden"</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n            <span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">var</span> <span class="token function-variable function">visibilityState</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">if</span> <span class="token punctuation">(</span>isPageVisibilitySupport<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                <span class="token keyword">return</span> document<span class="token punctuation">[</span><span class="token function">keyWithPrefix</span><span class="token punctuation">(</span>prefixSupport<span class="token punctuation">,</span> <span class="token string">"visibilityState"</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n            <span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">return</span> <span class="token punctuation">{</span>\n            hidden<span class="token punctuation">:</span> <span class="token function">isHidden</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            visibilityState<span class="token punctuation">:</span> <span class="token function">visibilityState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token function-variable function">visibilitychange</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> usecapture</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                usecapture <span class="token operator">=</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n                <span class="token keyword">if</span> <span class="token punctuation">(</span>isPageVisibilitySupport <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> fn <span class="token operator">===</span> <span class="token string">"function"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                    <span class="token keyword">return</span> document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>prefixSupport <span class="token operator">+</span> <span class="token string">"visibilitychange"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                        <span class="token keyword">this</span><span class="token punctuation">.</span>hidden <span class="token operator">=</span> <span class="token function">isHidden</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                        <span class="token keyword">this</span><span class="token punctuation">.</span>visibilityState <span class="token operator">=</span> <span class="token function">visibilityState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                        <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> evt<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                    <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span> usecapture<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                <span class="token punctuation">}</span>\n                <span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token comment">// 以上为方法，以下为测试执行脚本</span>\n    <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> pageVisibility<span class="token punctuation">.</span>hidden <span class="token operator">!==</span> <span class="token string">"undefined"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">var</span> eleVideo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#videoElement"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token comment">// 视频时间更新的时候</span>\n        eleVideo<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"timeupdate"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">"第"</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>videoElement<span class="token punctuation">.</span>currentTime<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"秒"</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token comment">// 视频暂停的时候</span>\n        eleVideo<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n          <span class="token keyword">if</span> <span class="token punctuation">(</span>pageVisibility<span class="token punctuation">.</span>hidden<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token comment">// 如果是因为页面不可见导致的视频暂停</span>\n            sessionStorage<span class="token punctuation">.</span>pauseByVisibility <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token comment">// 视频播放时候</span>\n        eleVideo<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"play"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          sessionStorage<span class="token punctuation">.</span>pauseByVisibility <span class="token operator">=</span> <span class="token string">"false"</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token comment">// 本页面可见性改变的时候</span>\n        pageVisibility<span class="token punctuation">.</span><span class="token function">visibilitychange</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hidden<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token comment">// 页面不可见</span>\n            eleVideo<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>sessionStorage<span class="token punctuation">.</span>pauseByVisibility <span class="token operator">===</span> <span class="token string">"true"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token comment">// 页面可见</span>\n            eleVideo<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"弹框？？？没错，因为你的这个浏览器不支持Page Visibility API的啦！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>\n        </div></p>\n<h2 id="登录同步"><a href="#%E7%99%BB%E5%BD%95%E5%90%8C%E6%AD%A5" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>登录同步</h2>\n<ol>\n<li>去淘宝买东西，未登录状态下，进入首页。</li>\n<li>然后新窗口打开任意页面，登录并成功返回。</li>\n<li>再次访问刚才打开的首页，发现页面还是未登录状态（见下图），实际上用户已经登录了。</li>\n</ol>\n<div>\n          <div\n            class="gatsby-resp-iframe-wrapper"\n            style="padding-bottom: 75%; position: relative; height: 0; overflow: hidden;margin-bottom: 2em"\n          >\n            <iframe src="/examples/page-visibility-api-introduction-extend/login-sync-step-1.html" style="\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n          "></iframe>\n          </div>\n          </div>\n<p><div class="gatsby-highlight">\n        <pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ie=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n    <span class="token selector">html,\n    body</span> <span class="token punctuation">{</span>\n      <span class="token property">background-color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>\n      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n\n  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>show<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>loginInfo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> pageVisibility <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">var</span> prefixSupport<span class="token punctuation">,</span> <span class="token function-variable function">keyWithPrefix</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">prefix<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">if</span> <span class="token punctuation">(</span>prefix <span class="token operator">!==</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                <span class="token comment">// 首字母大写</span>\n                <span class="token keyword">return</span> prefix <span class="token operator">+</span> key<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> key<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n            <span class="token keyword">return</span> key<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">;</span>\n        <span class="token keyword">var</span> isPageVisibilitySupport <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">var</span> support <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window<span class="token punctuation">.</span>screenX <span class="token operator">===</span> <span class="token string">"number"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                <span class="token punctuation">[</span><span class="token string">"webkit"</span><span class="token punctuation">,</span> <span class="token string">"moz"</span><span class="token punctuation">,</span> <span class="token string">"ms"</span><span class="token punctuation">,</span> <span class="token string">"o"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">prefix</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                    <span class="token keyword">if</span> <span class="token punctuation">(</span>support <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token operator">&amp;&amp;</span> document<span class="token punctuation">[</span><span class="token function">keyWithPrefix</span><span class="token punctuation">(</span>prefix<span class="token punctuation">,</span> <span class="token string">"hidden"</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                        prefixSupport <span class="token operator">=</span> prefix<span class="token punctuation">;</span>\n                        support <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n                    <span class="token punctuation">}</span>\n                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n            <span class="token keyword">return</span> support<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">var</span> <span class="token function-variable function">isHidden</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">if</span> <span class="token punctuation">(</span>isPageVisibilitySupport<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                <span class="token keyword">return</span> document<span class="token punctuation">[</span><span class="token function">keyWithPrefix</span><span class="token punctuation">(</span>prefixSupport<span class="token punctuation">,</span> <span class="token string">"hidden"</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n            <span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">var</span> <span class="token function-variable function">visibilityState</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">if</span> <span class="token punctuation">(</span>isPageVisibilitySupport<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                <span class="token keyword">return</span> document<span class="token punctuation">[</span><span class="token function">keyWithPrefix</span><span class="token punctuation">(</span>prefixSupport<span class="token punctuation">,</span> <span class="token string">"visibilityState"</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n            <span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">return</span> <span class="token punctuation">{</span>\n            hidden<span class="token punctuation">:</span> <span class="token function">isHidden</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            visibilityState<span class="token punctuation">:</span> <span class="token function">visibilityState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token function-variable function">visibilitychange</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> usecapture</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                usecapture <span class="token operator">=</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n                <span class="token keyword">if</span> <span class="token punctuation">(</span>isPageVisibilitySupport <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> fn <span class="token operator">===</span> <span class="token string">"function"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                    <span class="token keyword">return</span> document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>prefixSupport <span class="token operator">+</span> <span class="token string">"visibilitychange"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                        <span class="token keyword">this</span><span class="token punctuation">.</span>hidden <span class="token operator">=</span> <span class="token function">isHidden</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                        <span class="token keyword">this</span><span class="token punctuation">.</span>visibilityState <span class="token operator">=</span> <span class="token function">visibilityState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                        <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> evt<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                    <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span> usecapture<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                <span class="token punctuation">}</span>\n                <span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token comment">// 以上为方法，以下为测试执行脚本</span>\n    <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> pageVisibility<span class="token punctuation">.</span>hidden <span class="token operator">!==</span> <span class="token string">"undefined"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">var</span> eleLoginInfo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#loginInfo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">var</span> <span class="token function-variable function">funLoginInfo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token keyword">var</span> username <span class="token operator">=</span> localStorage<span class="token punctuation">.</span>username <span class="token operator">||</span> sessionStorage<span class="token punctuation">.</span>username<span class="token punctuation">;</span>\n          <span class="token keyword">if</span> <span class="token punctuation">(</span>username<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            eleLoginInfo<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">\'欢迎回来，&lt;strong>\'</span> <span class="token operator">+</span> username <span class="token operator">+</span> <span class="token string">\'&lt;/strong>\'</span><span class="token punctuation">;</span>\n            sessionStorage<span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>\n          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n            eleLoginInfo<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">\'您尚未登录，请&lt;a target="_blank" href="\'</span><span class="token operator">+</span> location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"-1."</span><span class="token punctuation">,</span> <span class="token string">"-2."</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">\'">登录&lt;/a>\'</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n        pageVisibility<span class="token punctuation">.</span><span class="token function">visibilitychange</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>hidden<span class="token punctuation">)</span> <span class="token function">funLoginInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token function">funLoginInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token comment">// 页面关闭清除localStorage</span>\n        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"unload"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"弹框？？？没错，因为你的这个浏览器不支持Page Visibility API的啦！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>\n        </div></p>\n<p>只要该页面不被关闭，你怎样刷新，都是“欢迎回来，某某某”。不过，在实际应用中，检测到已经登录成功，直接刷新当前页面的居多！IE10 下，貌似本地存储无法同源不同页面共享，这使得通过 HTML5 本地存储共享信息的做法遇到了些许阻碍。</p>\n<h2 id="精确的在线时长"><a href="#%E7%B2%BE%E7%A1%AE%E7%9A%84%E5%9C%A8%E7%BA%BF%E6%97%B6%E9%95%BF" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>精确的在线时长</h2>\n<p>这个不用多说，只有用户当前这个页面可见的时候，才计算在线时间，这样可以避免挂机的情况，时长计算更准确（这个可能不是个好 idea）。</p>\n<h2 id="在线聊天离开状态"><a href="#%E5%9C%A8%E7%BA%BF%E8%81%8A%E5%A4%A9%E7%A6%BB%E5%BC%80%E7%8A%B6%E6%80%81" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>在线聊天离开状态</h2>\n<p>网页聊天的时候，可以知道用户是否“离开”还是“离线”还是“下线”。当前页面不可见，但连接还在的时候，我们可以确定该人是离开的（涉及隐私，可能也不是个好 idea）。</p>',
id:"/home/runner/work/GatsbyBlog/GatsbyBlog/blog/Page Visibility(页面可见性) API介绍/index.md absPath of file >>> MarkdownRemark",timeToRead:5,frontmatter:{date:"2020-01-03 21:04:40",path:"/page-visibility-api-introduction-extend/",tags:"前端, JS, JS知识点",title:"Page Visibility(页面可见性) API介绍",draft:null}},{excerpt:"解析差异 上面一行是 11.9 像素大小的文字，下面一行是 11.4 像素大小的文字，看看各个浏览器下都表现得怎么样： IE6 浏览器下（IE 下与此表现一致，避免重复，IE7 下图略） Firefox 浏览器下 chrome 浏览器下（Safari 同内核，同表现） 当文字大小 11.9 像素时，IE6 和 Firefox 等浏览器的表现是不一致的。IE6 下显示的是 11 像素大小的文字效果，而 Firefox 等 w3c 标准的浏览器则 1…",html:'<h1 id="解析差异"><a href="#%E8%A7%A3%E6%9E%90%E5%B7%AE%E5%BC%82" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>解析差异</h1>\n<p>上面一行是 11.9 像素大小的文字，下面一行是 11.4 像素大小的文字，看看各个浏览器下都表现得怎么样：</p>\n<p>IE6 浏览器下（IE 下与此表现一致，避免重复，IE7 下图略）</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2020-01-03-18-01-47-737c8918c3883d718a0023a96bdcdaa5-124ef.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 440px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 41.13636363636364%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABQUlEQVQY02WQy27DIBRE/f+fki/IJrvss6wVO7GhYAzGPMzD2Mmik1RqK3V0GV0egjNUj8cjpZxSKqWsL5Vt2+ExYmV7e4kh5G0rzycmuRQcjjHmnCsMxijnVGultTRmCsHBKe29nwnppJS3vhs+PvrzuTmdhrYllNZ1Pc9zte+FMd+2njEHbxrXdbZtHSH+enVKOWeNS9lfLvXhoI7H0LZLzt39Pk1TBewYi7XFudXaFe599n4NoRizIs0rCRKl9AgBhYT7vo/jaK2tsCelkHJwzjg3L4vNOXpvh4Gl5DlnwKOUqGmSWlPGpFKc89vtprWucKsQE+eTUrMQKKOUHUfDuRICjTLGIDYgcfqnIYQopYANhni/R87hCQ2lse8jY6lp4jzjX8NfLQsiZ/FWhQnnn4CE4EL8OgrY//WNjZe/AKe+uSL5iIVcAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2020 01 03 18 01 47" title="" data-src="/static/2020-01-03-18-01-47-737c8918c3883d718a0023a96bdcdaa5-124ef.png" data-srcset="/static/2020-01-03-18-01-47-737c8918c3883d718a0023a96bdcdaa5-add0a.png 200w,\n/static/2020-01-03-18-01-47-737c8918c3883d718a0023a96bdcdaa5-7a35e.png 400w,\n/static/2020-01-03-18-01-47-737c8918c3883d718a0023a96bdcdaa5-124ef.png 440w" data-sizes="(max-width: 440px) 100vw, 440px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>Firefox 浏览器下</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2020-01-03-18-02-17-c93d82f707057baeb7d9621438bb1172-8c445.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 489px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 36.809815950920246%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABGElEQVQY031Qy5KDIBD0/38olWO+IJXbxkch6IIgT0FE95DtuDnvVBcMPUVPz1THccQY13UtpeScS9n3HUwqZQO5bVtCNedt3+P5XpYln4FSZa1tmmffEyEE56MxGkzXtUJMlFLOedM0fV0bzp+PB+26Z10zSp1zSqkKAuO4MBbbNlAKeMZ830drfQjBex9z1tcruVzk7bbe7yElNB+G4f0Zbr1PIYBa4SilEmMGA2N/4ywpJUL811dq21UIUD/HAXfGmAoyUgqtpfcmBAtd54xSAj2naYL8wJjx/hu5MSPnep5frxcEpZQVtAmxhLimcW2LaW3fWyTzbE51nO/7g5PCwFjHuzPsaW2VwgKc1h/Ms/snYEqe8QtT04M//MDWzAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2020 01 03 18 02 17" title="" data-src="/static/2020-01-03-18-02-17-c93d82f707057baeb7d9621438bb1172-8c445.png" data-srcset="/static/2020-01-03-18-02-17-c93d82f707057baeb7d9621438bb1172-a1b71.png 200w,\n/static/2020-01-03-18-02-17-c93d82f707057baeb7d9621438bb1172-622b8.png 400w,\n/static/2020-01-03-18-02-17-c93d82f707057baeb7d9621438bb1172-8c445.png 489w" data-sizes="(max-width: 489px) 100vw, 489px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>chrome 浏览器下（Safari 同内核，同表现）</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2020-01-03-18-02-36-c75e1af3b51207a4eccfedbd92fee2e8-f1150.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 505px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 35.049504950495056%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABDklEQVQY021Q24rDIBT0/7+q9CmUvpdSSqLRo0bNRaOmDXR32LLLLuxwOHjuM7Jaawh+HEOMy7qmbaswZHLO4zjGGJ1zy7LgMQzDNE3e2przvu/rujIUbre263oiJ4TR2hEN9zu31kopiahtWw0QdZz3h8P1eKTTablctHPs8diMyUplzpMQSakoZSLKOIXdKaW3B3IpsWl007imGc5n4z0rpczzlFIsZYXVWtAMCegGqRm1acKiEML8Fezb9vF6YQrUGApSKiKrNUS5EEatLZFBzRgD2kopsBZCwEMI1D+eT2xEyPA94Nn3kfPYdbHvFynhcfx/YAyM3osYJOGIc8Mv2B/8Cb4z+H/Q8d5/Aj+5gkNCn8CGAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2020 01 03 18 02 36" title="" data-src="/static/2020-01-03-18-02-36-c75e1af3b51207a4eccfedbd92fee2e8-f1150.png" data-srcset="/static/2020-01-03-18-02-36-c75e1af3b51207a4eccfedbd92fee2e8-3fb71.png 200w,\n/static/2020-01-03-18-02-36-c75e1af3b51207a4eccfedbd92fee2e8-b8618.png 400w,\n/static/2020-01-03-18-02-36-c75e1af3b51207a4eccfedbd92fee2e8-f1150.png 505w" data-sizes="(max-width: 505px) 100vw, 505px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>当文字大小 11.9 像素时，IE6 和 Firefox 等浏览器的表现是不一致的。IE6 下显示的是 11 像素大小的文字效果，而 Firefox 等 w3c 标准的浏览器则 12 像素显示，这就是差异所在，也是本文的关键核心所在。但在 12.4 像素下，各个浏览器表现都是一致的。</p>\n<p>IE（IE8 未测）与其他浏览器对于小数像素的解析差异：IE 对小数像素采取取整的策略，类似于 Math.floor()方法，就算你大小为 11.999999 像素，最后还是显示 11 像素文字的大小（已测试）；而 Firefox 等一些浏览器则采取四舍五入的策略，类似于 Math.round()方法，11.4 像素就表现为 11 像素，11.5 像素就表现为 12 像素（已测试）。由于平时很少有人用小数值，所以这种差异很少有人注意，所以很少有人关注。然而这个不起眼的浏览器差异有时候却是解决一些兼容性问题的绝妙武器。</p>\n<p>IE8 浏览器下对于小数的解析与 Firefox，Chrome 等浏览器一致。</p>\n<h1 id="应用"><a href="#%E5%BA%94%E7%94%A8" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>应用</h1>\n<p>例如，淘宝首页 css 代码里面有这么一段 hack，见下图（图对应淘宝网首页上部搜索选项卡样式）：</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2020-01-03-19-41-05-e1bdc11095fb07f676237d47b1742f0a-87f29.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 602px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 24.25249169435216%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABEElEQVQY0xWP207CQABE+/++YDBVxCC3QhsQuRgISkJCfJBqFLrbve92ty0tlZ9wTSaTzJx5GQchhAmhlAohYggZpVIIbEuEKCEQgH9GiKWMc8asmFIJhJYARyt1MsmlyItTVhZZVeZWRWYuVZFqpZXI0iQ1ymj5W+aX8ylLRK5t1Jxz5wfxye74EtLF5DXoPk9G67G/Gg2X1gNv4ffngb8MWuPZdDPf4+UHnr6Dty+SaCOldMKItFd7fwf7DyP3qule9xr1QdP172+821r7ru41XP+x1um0nnrbY3cdDrbRcPMJ49gecWIYCQw0x4Iiw4mmsUSRxMAwTI7fZyMVBglFkqIqN8puBEmlPc4Oh8MfTUXvhXtK5J0AAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2020 01 03 19 41 05" title="" data-src="/static/2020-01-03-19-41-05-e1bdc11095fb07f676237d47b1742f0a-87f29.png" data-srcset="/static/2020-01-03-19-41-05-e1bdc11095fb07f676237d47b1742f0a-38577.png 200w,\n/static/2020-01-03-19-41-05-e1bdc11095fb07f676237d47b1742f0a-26124.png 400w,\n/static/2020-01-03-19-41-05-e1bdc11095fb07f676237d47b1742f0a-87f29.png 602w" data-sizes="(max-width: 602px) 100vw, 602px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>这段 hack 是个相差 1 像素的 hack，用“*”表示区分 IE 和其他浏览器。我们验证过 IE 和其他浏览器对小数值的解析是有差异的，准确说是小数点后大于 5 的小数值像素解析是有差异的，而这个差异正好可以解决这里的兼容性问题，于是这个 hack 就可以一脚踢掉了。直接改成下面的样式就可以了：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="95095662906267710000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`padding: 0 11.9px;`, `95095662906267710000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token property">padding</span><span class="token punctuation">:</span> 0 11.9px<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<p>不仅仅缩短的代码的长度，还节省了一个 css hack。首先加载文件小了，其次去掉一个 hack，资源消耗少了。不用小看这么一点小小的节省，这可是淘宝网的首页，每天的浏览量可是相当惊人的哦！</p>\n<p>附上 demo 实例页面验证结果图放大 800 倍的对比图，从 photoshop 上沿标尺可以读出 padding 值，您可以发现 IE6 下 11 像素，而 Firefox 浏览器下 12 像素。这与 hack 达到了同样的功效，但是代码却是没有 hack，更简短更简明，更神奇，您不妨也试试！</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2020-01-03-19-50-40-e50ef1fb43818eece45eb81baca607c4-02705.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 309px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 121.68284789644012%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAIAAAB1KUohAAAACXBIWXMAAAsSAAALEgHS3X78AAAEPElEQVQ4y5WSyU8bVxzHH5S2R6fi0B66qrdW6qXH/gW9pGmiVqIVKFISSEVDkipNBbE94zWBGuNA2FEA1zZLaEBqaMwWh1WFBsxiB6+Yzft4w/YsXub1zThtkiaH9umjr2bevM/8fprfAPzJkuAS6f8F8B4mxa9JsGv4P4j/Rd3T/WeOIRkTYzKRoh9v0OONBglCpUeJqwcQEvUAph7ENHcwlQFX6aV/P+UOqPQAvaH7x9rl3jFz7+/tfS6JnqgfJPDbPsXtQ6XWr9T5bxm8as268he/XEfItP6GIaJxJHJjINQ8GgN1ON5/9apzyHCg0z2YsBvNKcPkzuyCb0k7Ndt61zaytKjsCdVKlyYshuk9kzk1NOX5bSEws3akG7cDDBPK5ertFYd77RER9B7FQm6HNUEngzuO8OhIxPzoaMoYc9i88cjhroMi4x63LejbJ1Mx+/YmwMRCubJ5wxZMU8lcHtJMNp9niVw+FyaSk1PL942xB6a800VAmM3mSSabybFMNkcx6I4FOCaUyNSmuS0yfQQhZFkWZQryKx6FsQiMhNlcjoQvWVzbMoVmw+IlSU7O83KQydr8MQeRshEpeyRlD8bXI7QzDh3PU5BvLv/pItMxpKGmUU44fEWV7W/U9AgudAu4bCvVbAq0UNDLCnrhsT4o6OMStS2SyBrnlz2bh6Q1AM0HeQ8BWxb8oEJbUjkIzvKc7n8Vt4KbEDTlijUsULOgiU+hSNjUqGnQB1//av6D7w8+vnjwbrX//Zrgse8ib1ZH37sUfqcm9GFdsrQ6+lZVoLQq/Pb5wKc/BT76wf/JFT8Qi0U3rjcI29yfXVn5XLZ3pj15QhU5ie8dv2D5onrt1KWNLy9byk+Nll9er2gOHv85dlKT+lrlr2hLfaOJ8HNWNN6dJhwev3VrI5FIunfcLstW4rHFOTWZXFslVv44bLieXF197HR53C4iHFrf2IzGYi6XG8kiJA9PhJ27gUQ8SpIkQ1HxTCaazaUfzlpGR/dNJnppKcyyaZqmKTqdSmcyGXSMokhOlslVbfrtNYuLoflxsiwNIYMuFhftd0b2jUY4N4ceZPgpPj9nsVChUI89iO/6ojSVLuxSENLc3LIwk4EMgy44+WU/CVdZO7Zv9/iflUmWWzkWIiALU6gdFvWE/qKn8JWV6p5hl9niytBUQc68UAc1kn2xslgsVCqbRibC6Gujr1HYtYYSJzqnv+2eKSvQNV3W97BsmimbgWUzLJ8cXNtSuapj2LXl9jIMledlkzsAylteOd0KClTcKjrfDVrSoA2CVha0wieIMVG9pP5XndW+asn6vPlsDslznhA411FS1VXMU3Su87WLfSUdZFEXLO5ii7nkALWY+J5Eujuz4JybJ+bn8xYLJ6PKZ9qLKztBgbMdJTW9xe0k6ISgk+WTB8mTEsnOvfub4+NeozFnNv93+S8AwP9hJob2TgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2020 01 03 19 50 40" title="" data-src="/static/2020-01-03-19-50-40-e50ef1fb43818eece45eb81baca607c4-02705.png" data-srcset="/static/2020-01-03-19-50-40-e50ef1fb43818eece45eb81baca607c4-c6440.png 200w,\n/static/2020-01-03-19-50-40-e50ef1fb43818eece45eb81baca607c4-02705.png 309w" data-sizes="(max-width: 309px) 100vw, 309px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<h1 id="总结"><a href="#%E6%80%BB%E7%BB%93" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>总结</h1>\n<p>虽说这个小数值解决一些兼容性问题很神奇，但是它的缺点也很明显，就是适用范围问题，只能解决相差 1 像素的浏览器差异，只能解决 IE 下值小 1 像素的浏览器差异。</p>',id:"/home/runner/work/GatsbyBlog/GatsbyBlog/blog/浏览器样式小数的处理/index.md absPath of file >>> MarkdownRemark",timeToRead:1,frontmatter:{date:"2020-01-03 17:59:21",path:"/browser-style-decimal/",tags:"前端, CSS, CSS知识点",title:"浏览器样式小数的处理",draft:null}},{excerpt:"背景色 一般情况下，我们 css 控制的最高节点就是 body，例如设置： body 作为一个根节点起作用了， 标签未被激活，body 担当类似于根节点的节点，其 background 背景色被浏览器俘获，浏览器界面背景色为 background 的背景色 按照对一般标签的理解，100 像素的外边距应该不含有背景色的，然而显示的结果是（Firefox 下表现与此类似）： 一旦设置了 节点的 background…",html:'<h1 id="背景色"><a href="#%E8%83%8C%E6%99%AF%E8%89%B2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>背景色</h1>\n<p>一般情况下，我们 css 控制的最高节点就是 body，例如设置：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="46202450157904180000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body {\n  background: #069;\n}`, `46202450157904180000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> #069<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>body 作为一个根节点起作用了，<code class="language-text">&lt;html&gt;</code>标签未被激活，body 担当类似于根节点的节点，其 background 背景色被浏览器俘获，浏览器界面背景色为 background 的背景色</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="13442568013448653000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body {\n  background: #069;\n  margin: 100px;\n  border: 30px solid #093;\n}`, `13442568013448653000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> #069<span class="token punctuation">;</span>\n  <span class="token property">margin</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>\n  <span class="token property">border</span><span class="token punctuation">:</span> 30px solid #093<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>按照对一般标签的理解，100 像素的外边距应该不含有背景色的，然而显示的结果是（Firefox 下表现与此类似）：</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2019-12-31-11-12-34-08fb218744ec38c807eef68100770926-28759.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 500px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 60.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABQ0lEQVQoz63RTUvCABwG8MfGom/UJ6hGde3lkAs136BAL0EWddgiUzBFbC82rZCCTSIzaxsly4OzvPYJIiMrxY+QGXYpRCH4HZ4/PM/pj8xNLaW9HOvPabXG5Z8krX5iNJN6Q9Baot4StWZH44v6IarvgvrGX71Ker1gPELSjeDZHaMYrHLLyjqbLYZzpUzJlM2qUqkq5oNi3itmpctsk8vlWOE8Xy4BtgRoDov7HZ1AJ7rnb+0CR9gEzEQnQjkMOyWsBizBWQtDW1jrN/TA0MTuPFwMFVFBupLwbWNjGWt+BHx98BObK7AHqcg1SA+HpQM40nCk+kQ4D7GQoKKXIN08XDzcXP8ILw9r/GcsDITwiP8xHvHwQ26RGATpTYKOT0YLgL3HV/9G2DnMxajwBcZ2Tqci2f5N72XHQ/Lo1tG6UvwEIqUpkhXxRK8AAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2019 12 31 11 12 34" title="" data-src="/static/2019-12-31-11-12-34-08fb218744ec38c807eef68100770926-28759.png" data-srcset="/static/2019-12-31-11-12-34-08fb218744ec38c807eef68100770926-6ac48.png 200w,\n/static/2019-12-31-11-12-34-08fb218744ec38c807eef68100770926-4b8bf.png 400w,\n/static/2019-12-31-11-12-34-08fb218744ec38c807eef68100770926-28759.png 500w" data-sizes="(max-width: 500px) 100vw, 500px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>一旦设置了<code class="language-text">&lt;html&gt;</code>节点的 background 背景色之后，<code class="language-text">&lt;body&gt;</code>的背景色将失效。例如下面的简短代码：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="68652021207434674000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n  background: #999;\n}\n\nbody {\n  background: #069;\n  margin: 100px;\n  border: 30px solid #093;\n}`, `68652021207434674000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">body</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> #069<span class="token punctuation">;</span>\n  <span class="token property">margin</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>\n  <span class="token property">border</span><span class="token punctuation">:</span> 30px solid #093<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2019-12-31-11-13-45-bd4b9c129a9334d0400f4fd8afce379a-28759.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 500px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 60.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABRklEQVQoz63LzUoCUQAF4Pscbcp3aVG9QK30ASrIZUErCVqk83Pn/syMmgvNAiNnpnunmtT8AS2LFoI5oavI0ErrDRpxGcQIHT4OZ3OAftVH7E21XzHvC/kXyAfxwli2RwL/luwviY8lPpL4p8Q8HyJ7F9lQsAbQHp6V2uCxWb4uV1jhxnaK3HF4oVSoVNutRrdz33Mfeq7XzZ57N9XteG6fnxr1uum2qkCGCEKCFIwQxsgbSFG85e3fyBTB6kFUzBsGSNHEurYzJ64GYqEFITgRC87/IRoKwLVdJeKwC5Cg+ra6twg3luXwkrzlQ3gFb0bg/iXjgFCSVOMZ7TCjJ3060lMIIsYsQCklKkUq8Q9rVIaQsfPJWZ0xmqbB/zlrM0bXdQgVzs8BmgTPhBAiipJlmSB7nDWNnOGbaZ7mcifpdKpWK/4AE5e0mzUfDbgAAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2019 12 31 11 13 45" title="" data-src="/static/2019-12-31-11-13-45-bd4b9c129a9334d0400f4fd8afce379a-28759.png" data-srcset="/static/2019-12-31-11-13-45-bd4b9c129a9334d0400f4fd8afce379a-6ac48.png 200w,\n/static/2019-12-31-11-13-45-bd4b9c129a9334d0400f4fd8afce379a-4b8bf.png 400w,\n/static/2019-12-31-11-13-45-bd4b9c129a9334d0400f4fd8afce379a-28759.png 500w" data-sizes="(max-width: 500px) 100vw, 500px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>此时的<code class="language-text">&lt;html&gt;</code>标签最顶级，背景色被浏览器获取，成为浏览器的背景色。</p>\n<h1 id="margin-支持"><a href="#margin-%E6%94%AF%E6%8C%81" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>margin 支持</h1>\n<p>IE6 浏览器下 html 对 margin 不敏感不支持，Firefox 浏览器下 html 标签支持 margin 外边距</p>\n<h1 id="滚动条"><a href="#%E6%BB%9A%E5%8A%A8%E6%9D%A1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>滚动条</h1>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="49891813766546560000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n  overflow-y: scroll;\n}`, `49891813766546560000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n  <span class="token property">overflow-y</span><span class="token punctuation">:</span> scroll<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>可以让 IE 和 Firefox（包括 chrome）浏览器默认产生滚动条的滚动槽了。</p>\n<h1 id="background-的-fixed-固定定位"><a href="#background-%E7%9A%84-fixed-%E5%9B%BA%E5%AE%9A%E5%AE%9A%E4%BD%8D" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>background 的 fixed 固定定位</h1>\n<p>Firefox 是支持 background:fixed 定位的，IE6 只能说是半支持，就是背景图片固定的效果似乎只在根结点起作用。举个很简单的例子：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="34307330550430224000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body {\n  background: url(../image/404.png) no-repeat fixed center center;\n}\n\ndiv {\n  height: 2000px;\n}`, `34307330550430224000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>../image/404.png<span class="token punctuation">)</span></span> no-repeat fixed center center<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 2000px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="27324015557003300000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`<body>\n  <div></div>\n</body>`, `27324015557003300000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="html"\n              >\n                <span class="gatsby-code-button-language">html</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>其结果是无论 IE6 还是火狐浏览器下，背景图片都是固定的死死的，不错。但是，一旦<code class="language-text">&lt;html&gt;</code>标签带着 background 属性掺和进来，事情就要发生转变了。问题代码：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="26090744944304390000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n  background: white;\n}\n\nbody {\n  background: url(../image/404.png) no-repeat fixed center center;\n}\n\ndiv {\n  height: 2000px;\n}`, `26090744944304390000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">body</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>../image/404.png<span class="token punctuation">)</span></span> no-repeat fixed center center<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 2000px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>结果 IE6 下，背景不固定了，只看到背景图片随着滚动条上下移动而移动，IE11 下背景图片随着滚动条上下而抖动。</p>\n<p>要解决这个问题呢，也是有办法的，就是将 fixed 属性值转移到 html 标签上就可以了。即：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="64949117268685580000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n  background: white url(../image/404.png) no-repeat fixed center center;\n}\n\ndiv {\n  height: 2000px;\n}`, `64949117268685580000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> white <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>../image/404.png<span class="token punctuation">)</span></span> no-repeat fixed center center<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 2000px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="height100"><a href="#height100" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>height:100%</h1>\n<p>要想高度百分比起作用，一般来说，要满足两个条件：其一，父标签有高度可寻，就是向上遍历父标签要找到一个定值高度（body，html 另外讨论），如果中途有个 height 为 auto 或是没有设置 height 属性，则高度百分比不起作用；其二，标签本身的属性，如果 inline 属性的标签，如果没有浮动，zoom，或是绝对定位之类属性是不支持百分比高度的，block 或 inline-block 属性可以说是高度百分比起作用的前提条件之一吧。</p>\n<p>而这里要讲的是关于 body 和 html 的高度百分比显示的。</p>\n<p>默认状态下，<code class="language-text">&lt;body&gt;</code>不是高度 100%显示的，不要看<code class="language-text">&lt;body&gt;</code>定义 background 属性好像<code class="language-text">&lt;body&gt;</code>就是满屏显示的，正如上面所推断的，此背景已非<code class="language-text">&lt;body&gt;</code>之背景。用下面这个一测便知。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="45443143442720270000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body {\n  background: #039;\n  border: 50px solid #c00;\n}`, `45443143442720270000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> #039<span class="token punctuation">;</span>\n  <span class="token property">border</span><span class="token punctuation">:</span> 50px solid #c00<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>看边框范围是否高度 100%显示，答案是否定的。见下图（截自 IE6，Firefox 浏览器下表现一致）：</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2019-12-31-11-53-12-0d689f4dbcb9584adea40c94355a5fd0-28759.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 500px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 60.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABMElEQVQoz2NYcPDVzIPv5x1+O+vA20m7Xs84+HHBiW9TDnyduP/H5AM/Ju3/CkZfJu37PGnfp0n7PgLRhD0fph74uPHgDYYNyzbtWLR228I1W+et2DR7yc5Fq/csXXd41eZj67ad2LAdhNZvBaMtMLT52PrN6+fMObBjF8M8TtkFDKJTmGSnAxGz7DRGmWmM0tOADCasSG46k9wUVuU5DGw7vCIYmiSs+vn1OoRMO4WM4ahD0LhDCAkJoiJR8w4m5cVhBQws5rMZjGYxGJOAmM1mM6hP9cjdxsBmNoPBaCaDMQmI2WwWg/pkj5wtDKxDUzOHxQwmk1nMpiQgVovZDJqTvXK3MjDoTWXQmMagSQJi1p3OIDfRI3UTg2vacu+c1cQjn9w1bhkrzaMWVE/aCwB65wXxbesevgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2019 12 31 11 53 12" title="" data-src="/static/2019-12-31-11-53-12-0d689f4dbcb9584adea40c94355a5fd0-28759.png" data-srcset="/static/2019-12-31-11-53-12-0d689f4dbcb9584adea40c94355a5fd0-6ac48.png 200w,\n/static/2019-12-31-11-53-12-0d689f4dbcb9584adea40c94355a5fd0-4b8bf.png 400w,\n/static/2019-12-31-11-53-12-0d689f4dbcb9584adea40c94355a5fd0-28759.png 500w" data-sizes="(max-width: 500px) 100vw, 500px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>要想让 Firefox 浏览器也支持<code class="language-text">&lt;body&gt;</code>的 height:100%是简单的，就是设置<code class="language-text">&lt;html&gt;</code>标签 height:100%，一旦设置了 height:100%则无论哪个浏览器下<code class="language-text">&lt;body&gt;</code>都支持 height:100%了，而<code class="language-text">&lt;body&gt;</code>内部的容器也可以支持 height:100%了。</p>\n<p>透明层无论滚动与否都满屏显示，其实就是对<code class="language-text">&lt;html&gt;</code>和<code class="language-text">&lt;body&gt;</code>标签做一番手脚，两者高度 100%显示，同时溢出隐藏（overflow:hidden），然后用一个<code class="language-text">&lt;div&gt;</code>高度 100%显示，溢出滚动。而这个透明层就使用绝对定位且与这个<code class="language-text">&lt;div&gt;</code>平级，高宽 100%显示，就可以使得无论怎么滚动这个透明覆盖层都是满屏显示的。这其实也就解决 IE6 下浮动层固定定位的经典方法。</p>\n<h1 id="body-overflow"><a href="#body-overflow" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>body overflow</h1>\n<p>单纯如下 body overflow 是无法隐藏高度不足一屏的元素的，例如：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="53707103795796220000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body {\n  height: 30px;\n  overflow: hidden;\n}\nbody > div {\n  height: 300px;\n  background-color: #cd0000;\n}`, `53707103795796220000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>\n  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">body > div</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>\n  <span class="token property">background-color</span><span class="token punctuation">:</span> #cd0000<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>此时 body 的子元素 div 依然保持 300px 高度的显示，如果想要隐藏，需要设置 html 的 overflow:hidden。</p>\n<p>并不是说 body overflow 无效，而是 body 天然的 overflow 计算容器是一屏高度，因此，如果 div 高度很高，例如 3000px：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="83723798457140580000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body > div {\n  height: 3000px;\n  background-color: #cd0000;\n}`, `83723798457140580000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                title="css"\n              >\n                <span class="gatsby-code-button-language">css</span>\n                <span class="gatsby-code-button-text-icon">复制代码</span>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body > div</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 3000px<span class="token punctuation">;</span>\n  <span class="token property">background-color</span><span class="token punctuation">:</span> #cd0000<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>大家可以看到 body 的子元素 div 也就显示了屏幕的高度。</p>',
id:"/home/runner/work/GatsbyBlog/GatsbyBlog/blog/html与body的一些特性/index.md absPath of file >>> MarkdownRemark",timeToRead:3,frontmatter:{date:"2019-12-31 11:07:41",path:"/html-body-some-feature/",tags:"前端, CSS, CSS知识点",title:"html与body的一些特性",draft:null}},{excerpt:"产生的条件 对于 14 像素大小的字体是没有本篇所要探讨的单（复）选框与文字对齐的问题的。（见下图） 但是，对于 12 像素大小的文字，则就存在对齐问题了，尤其在 Firefox 火狐浏览器以及 chrome 谷歌浏览器下。（见下图） 这就是本文所要研究与解决的问题，可以肯定的是单复选框与文字默认以 vertical-align:baseline 的方式对齐的。 解决方案 vertical-align: text-bottom css 代码如下：vertical-align:text…",html:'<h1 id="产生的条件"><a href="#%E4%BA%A7%E7%94%9F%E7%9A%84%E6%9D%A1%E4%BB%B6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>产生的条件</h1>\n<p>对于 14 像素大小的字体是没有本篇所要探讨的单（复）选框与文字对齐的问题的。（见下图）</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2019-12-31-10-07-51-438de0850c22c422574e079d51e7a132-cf31b.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 480px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 13.750000000000002%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAm0lEQVQI102NPRKCMBgFuX9FRUVLxxFsvACNGcI4ESIqoYGEQH6+EIiMFrrFzlbvRYz1lDbWGAPu1THa1Eqp8M++H9o4lwhpQuaqEhgrjMMwRHXbX8mdi6Vl4412pH6IaZlm8+zFKD4r23YIEDrH8SXPiyw7JUmRpqEso1mBsZ5LI6TW1hnw4LzSwKVaFPz+vQ8AwdqwrsG5b7wBGsmmLkIQJRgAAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2019 12 31 10 07 51" title="" data-src="/static/2019-12-31-10-07-51-438de0850c22c422574e079d51e7a132-cf31b.png" data-srcset="/static/2019-12-31-10-07-51-438de0850c22c422574e079d51e7a132-ad6a6.png 200w,\n/static/2019-12-31-10-07-51-438de0850c22c422574e079d51e7a132-552c4.png 400w,\n/static/2019-12-31-10-07-51-438de0850c22c422574e079d51e7a132-cf31b.png 480w" data-sizes="(max-width: 480px) 100vw, 480px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>但是，对于 12 像素大小的文字，则就存在对齐问题了，尤其在 Firefox 火狐浏览器以及 chrome 谷歌浏览器下。（见下图）</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2019-12-31-10-08-02-52f6c7e647beb6264c3fb4888650801b-9cb4a.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 510px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 13.137254901960786%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAqUlEQVQI102KWwuCMABG/f8/RH2TKLrRUwhS9JBFBN3TdOg2t7m5qfOS9NTHeTmcz4AQNm2LKQMAcM77vu+6rv/fT9X1cjLN12Lu29beto6WxVzXCMIoY/IRJrf7G2FCcoWJiBI6IIpS6wYRgZj8+OetMz6s1t5otpsuN87kufYMLusU81yUharLWhNWDO84pUGcCVnVuoEZjxMKkGCiwmSoUipdSA2p+gIZqaLXoxmfZgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2019 12 31 10 08 02" title="" data-src="/static/2019-12-31-10-08-02-52f6c7e647beb6264c3fb4888650801b-9cb4a.png" data-srcset="/static/2019-12-31-10-08-02-52f6c7e647beb6264c3fb4888650801b-931d4.png 200w,\n/static/2019-12-31-10-08-02-52f6c7e647beb6264c3fb4888650801b-3a665.png 400w,\n/static/2019-12-31-10-08-02-52f6c7e647beb6264c3fb4888650801b-9cb4a.png 510w" data-sizes="(max-width: 510px) 100vw, 510px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p>这就是本文所要研究与解决的问题，可以肯定的是单复选框与文字默认以 vertical-align:baseline 的方式对齐的。</p>\n<h1 id="解决方案"><a href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>解决方案</h1>\n<h2 id="vertical-align-text-bottom"><a href="#vertical-align-text-bottom" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>vertical-align: text-bottom</h2>\n<p>css 代码如下：vertical-align:text-bottom; margin-bottom:2px; margin-bottom:-2px\\9;</p>\n<p>结果如下图（以 IE6 浏览器和 Firefox 浏览器示例）：</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2019-12-31-10-09-31-cef0f5e3e9b4f4a232081ea64a4d50ce-352a0.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 511px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 14.285714285714285%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAj0lEQVQI1yWOORLCMAxFff+b5CSpaCgoSAg4izMm3uPEA16Esf88zTypkIS6/iEFt+7zxBPGrxgTAOTKkgM1RfyI+6axbQvG1CG6dfNIOHnrhQpCuTKOKbtuusfbTJW2TplT6lPsTi50vVzFfdjlztQh9IGGiTN5pLK9kPLNEGLFF7J8ffDlKw8QYvq3If4AYeqqlOyPAcAAAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2019 12 31 10 09 31" title="" data-src="/static/2019-12-31-10-09-31-cef0f5e3e9b4f4a232081ea64a4d50ce-352a0.png" data-srcset="/static/2019-12-31-10-09-31-cef0f5e3e9b4f4a232081ea64a4d50ce-1fc3e.png 200w,\n/static/2019-12-31-10-09-31-cef0f5e3e9b4f4a232081ea64a4d50ce-43cce.png 400w,\n/static/2019-12-31-10-09-31-cef0f5e3e9b4f4a232081ea64a4d50ce-352a0.png 511w" data-sizes="(max-width: 511px) 100vw, 511px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2019-12-31-10-09-36-09e3e618c92448d3831c439df60e2f04-352a0.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 511px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 16.04696673189824%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAkElEQVQI1z1O4Q6CIBj0/V+pnI9Qs9r642YYKCHwCaKLPiAdrftxu9vddlfAbElHQKvl7R+EDEOfUooxpj+yllIcD31V2bJMiDkuuDT3hrZP0fXAuOSjVuAkOMqh6Uah58msk/OKCXa6kPr2Ol+dXUdwxq2FnhbCdEsVmCXPIIYQ4gfRY9j07nb+ndkYY8ydLyO+qdcA/6pxAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2019 12 31 10 09 36" title="" data-src="/static/2019-12-31-10-09-36-09e3e618c92448d3831c439df60e2f04-352a0.png" data-srcset="/static/2019-12-31-10-09-36-09e3e618c92448d3831c439df60e2f04-1fc3e.png 200w,\n/static/2019-12-31-10-09-36-09e3e618c92448d3831c439df60e2f04-43cce.png 400w,\n/static/2019-12-31-10-09-36-09e3e618c92448d3831c439df60e2f04-352a0.png 511w" data-sizes="(max-width: 511px) 100vw, 511px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<h2 id="vertical-aligntext-top"><a href="#vertical-aligntext-top" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>vertical-align:text-top</h2>\n<p>css 代码如下：height:13px; vertical-align:text-top; margin-top:0;</p>\n<p>结果如下图（以 IE7 浏览器和 chrome 浏览器截图示例）：</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2019-12-31-10-10-12-19eae97e4a8dc85bc74ae04ae82ccb52-352a0.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 511px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 12.524461839530332%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAjElEQVQI112NSw6DMAxEuf+xWKD0Fog2EEgIbpyPicCp1e46msXT00jTGbPczBDithrnbGuNmdtfvoaNgYeCvm/W/mQ3Ti/AMmoroJeVzivEgolWF6QCmWoplW6mp9aDcoMqs8kXF6odplNG1seQTkwVQvbvtEMc9T7NftvRQxIpB4kqesQjCLsjAuYP4AOpookpMs8AAAAASUVORK5CYII=\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2019 12 31 10 10 12" title="" data-src="/static/2019-12-31-10-10-12-19eae97e4a8dc85bc74ae04ae82ccb52-352a0.png" data-srcset="/static/2019-12-31-10-10-12-19eae97e4a8dc85bc74ae04ae82ccb52-1fc3e.png 200w,\n/static/2019-12-31-10-10-12-19eae97e4a8dc85bc74ae04ae82ccb52-43cce.png 400w,\n/static/2019-12-31-10-10-12-19eae97e4a8dc85bc74ae04ae82ccb52-352a0.png 511w" data-sizes="(max-width: 511px) 100vw, 511px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2019-12-31-10-10-16-a5b139351df5d75839225aaf6911ac21-352a0.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 511px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 12.524461839530332%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAeElEQVQI142MWQ7CMBBDc/870kKVRKSFrLM0EwjMEeoPy3q2bLyzY4yG7JwPIcw5f5dlbusWMyz2WB72vnmgHgs1PH3ILuRYEFmYhVhkfNTpFCVIXYMBkleCVKnLV3PDngpVYLfn51H2d4sZQWFlZHUqjbXVU539AcZWrB3E1el2AAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2019 12 31 10 10 16" title="" data-src="/static/2019-12-31-10-10-16-a5b139351df5d75839225aaf6911ac21-352a0.png" data-srcset="/static/2019-12-31-10-10-16-a5b139351df5d75839225aaf6911ac21-1fc3e.png 200w,\n/static/2019-12-31-10-10-16-a5b139351df5d75839225aaf6911ac21-43cce.png 400w,\n/static/2019-12-31-10-10-16-a5b139351df5d75839225aaf6911ac21-352a0.png 511w" data-sizes="(max-width: 511px) 100vw, 511px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<h2 id="vertical-alignbottom"><a href="#vertical-alignbottom" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>vertical-align:bottom</h2>\n<p>css 代码如下：height:15px; vertical-align:bottom; margin-bottom:3px; margin-top:-1px;</p>\n<p>结果如下图（以 IE6 和 Firefox 浏览器截图做示例）：</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2019-12-31-10-10-57-2d25c8c0ceaa7be28c3998cca3b73518-352a0.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 511px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 15.655577299412915%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAi0lEQVQI102OyQ7CMBBD+/9f0o/hUO5pEqVQIPtOqbIwrThgPY2s8cEerI8IoeC9DXnGRHDee2+tVaA28L1WODshdBy3aep/Gl7K44XTm5yZeHCjXTQ+K5voXeFFShOtSzps4SnWy9VgBql2yYU3MIT0kSaxVQMp72fT0VlqPQF/qLUOM2ADfEr5RV9m76qN1M6ocAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2019 12 31 10 10 57" title="" data-src="/static/2019-12-31-10-10-57-2d25c8c0ceaa7be28c3998cca3b73518-352a0.png" data-srcset="/static/2019-12-31-10-10-57-2d25c8c0ceaa7be28c3998cca3b73518-1fc3e.png 200w,\n/static/2019-12-31-10-10-57-2d25c8c0ceaa7be28c3998cca3b73518-43cce.png 400w,\n/static/2019-12-31-10-10-57-2d25c8c0ceaa7be28c3998cca3b73518-352a0.png 511w" data-sizes="(max-width: 511px) 100vw, 511px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2019-12-31-10-11-01-2d25c8c0ceaa7be28c3998cca3b73518-352a0.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 511px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 15.655577299412915%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAi0lEQVQI102OyQ7CMBBD+/9f0o/hUO5pEqVQIPtOqbIwrThgPY2s8cEerI8IoeC9DXnGRHDee2+tVaA28L1WODshdBy3aep/Gl7K44XTm5yZeHCjXTQ+K5voXeFFShOtSzps4SnWy9VgBql2yYU3MIT0kSaxVQMp72fT0VlqPQF/qLUOM2ADfEr5RV9m76qN1M6ocAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2019 12 31 10 11 01" title="" data-src="/static/2019-12-31-10-11-01-2d25c8c0ceaa7be28c3998cca3b73518-352a0.png" data-srcset="/static/2019-12-31-10-11-01-2d25c8c0ceaa7be28c3998cca3b73518-1fc3e.png 200w,\n/static/2019-12-31-10-11-01-2d25c8c0ceaa7be28c3998cca3b73518-43cce.png 400w,\n/static/2019-12-31-10-11-01-2d25c8c0ceaa7be28c3998cca3b73518-352a0.png 511w" data-sizes="(max-width: 511px) 100vw, 511px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<h2 id="vertical-aligntop"><a href="#vertical-aligntop" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>vertical-align:top</h2>\n<p>css 代码如下：height:14px; vertical-align:top; 结果如下图（chrome 下文字略微偏上，其他浏览器下很完美，以 IE7 和 chrome 浏览器示例）：</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2019-12-31-10-11-57-7bef99c295797fa56e135b483883f76b-352a0.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 511px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 15.655577299412915%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAhUlEQVQI101NWw7DIAzj/ifaLtBDTKNqu6krFAbhuVZAl/RjmmVZjmMlzIV45xzAQsjDMAqxHMfRWvvpP2jet/V6yV2HlgkF41OiviQs0ijjjUvaxml+9w8ltLc+YRLTZl2C8LEQ1a3XfJpXx3Ad844na6VPSDTIUmqpJ8mcSSWQx3KjwhfqoavSGgg8mwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2019 12 31 10 11 57" title="" data-src="/static/2019-12-31-10-11-57-7bef99c295797fa56e135b483883f76b-352a0.png" data-srcset="/static/2019-12-31-10-11-57-7bef99c295797fa56e135b483883f76b-1fc3e.png 200w,\n/static/2019-12-31-10-11-57-7bef99c295797fa56e135b483883f76b-43cce.png 400w,\n/static/2019-12-31-10-11-57-7bef99c295797fa56e135b483883f76b-352a0.png 511w" data-sizes="(max-width: 511px) 100vw, 511px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2019-12-31-10-12-01-f9c768a198e5707b773b86dfbac700c7-352a0.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 511px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 15.655577299412915%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAi0lEQVQI1z2MaQrCMBSEc//76I/SawiKEkiK2ZrdpotJExOLDh/D8N4w4BUWhJB3NqxvhAfGWCkl51x+OrLrumff0/MpQXhcqwE6OogZE5YIR7kW0hk/KxMw0XCQXHnrZ+MXe4f0clPXhyGjnVbtAuEWcOmnsNWhGPfqlZT2Soyp8c2V9iqNlPO/8AE0eqpFEff9mQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2019 12 31 10 12 01" title="" data-src="/static/2019-12-31-10-12-01-f9c768a198e5707b773b86dfbac700c7-352a0.png" data-srcset="/static/2019-12-31-10-12-01-f9c768a198e5707b773b86dfbac700c7-1fc3e.png 200w,\n/static/2019-12-31-10-12-01-f9c768a198e5707b773b86dfbac700c7-43cce.png 400w,\n/static/2019-12-31-10-12-01-f9c768a198e5707b773b86dfbac700c7-352a0.png 511w" data-sizes="(max-width: 511px) 100vw, 511px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<h2 id="vertical-alignmiddle"><a href="#vertical-alignmiddle" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>vertical-align:middle</h2>\n<p>css 代码如下：vertical-align:middle; margin-top:-2px; margin-bottom:1px; 结果如下截图（以 IE6 和 Firefox 示例）：</p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2019-12-31-10-13-22-b7dea6495ca62e6c8116de37aa7b9ff8-352a0.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 511px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 12.524461839530332%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAjklEQVQI12VLOQ7CMBDM/7+SN6RDoqRIRcFlOwcG+dq117HihKWhYYrRnM04qlqrDaCU0vq5/2Pbvgwwt63sur3vf01zeyjj4lXquxjEMGNa2AYkOVkxGRaUS1rWaIM+HOdTD+dLWSvPEpUGqbwdBsyZF1RiWhwQYB611waMjx6IWw59IGfBYebby6KD9AGB+6la/2PvyQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2019 12 31 10 13 22" title="" data-src="/static/2019-12-31-10-13-22-b7dea6495ca62e6c8116de37aa7b9ff8-352a0.png" data-srcset="/static/2019-12-31-10-13-22-b7dea6495ca62e6c8116de37aa7b9ff8-1fc3e.png 200w,\n/static/2019-12-31-10-13-22-b7dea6495ca62e6c8116de37aa7b9ff8-43cce.png 400w,\n/static/2019-12-31-10-13-22-b7dea6495ca62e6c8116de37aa7b9ff8-352a0.png 511w" data-sizes="(max-width: 511px) 100vw, 511px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<p><html><head></head><body><a class="gatsby-resp-image-link" href="/static/2019-12-31-10-13-27-a37c5ff9fc983985daf6507578ab2e53-352a0.png" style="display: block" target="_blank" rel="noopener">\n  \n  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; ; max-width: 511px; margin-left: auto; margin-right: auto;">\n    <span class="gatsby-resp-image-background-image" style="padding-bottom: 14.87279843444227%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAlklEQVQI102MzQqDMBCEff/38eA7CFJKD6WlWIkxWo2JRvO32XRPpR/DwMzAFOawjDGtlY/A+TAKkf9ARHLfNF1Z9lXl6vpXEsW8mmc7cLEwobp+4mJe9Sn1ySfdsuUj9+0M6tX1l9twvctHa1xclNmM3Q9XvLkc551unI8JMWGOEUIE68JhvQ8AkID6nEmAmSKt5BHSFzGFqhBh65ZMAAAAAElFTkSuQmCC\'); background-size: cover; display: block;">\n      <img class="gatsby-resp-image-image lazy" style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;" alt="2019 12 31 10 13 27" title="" data-src="/static/2019-12-31-10-13-27-a37c5ff9fc983985daf6507578ab2e53-352a0.png" data-srcset="/static/2019-12-31-10-13-27-a37c5ff9fc983985daf6507578ab2e53-1fc3e.png 200w,\n/static/2019-12-31-10-13-27-a37c5ff9fc983985daf6507578ab2e53-43cce.png 400w,\n/static/2019-12-31-10-13-27-a37c5ff9fc983985daf6507578ab2e53-352a0.png 511w" data-sizes="(max-width: 511px) 100vw, 511px">\n    </span>\n  </span>\n  \n  </a>\n    </body></html></p>\n<h1 id="总结"><a href="#%E6%80%BB%E7%BB%93" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>总结</h1>\n<p>vertical-align:bottom 和 vertical-align:middle 从兼容性，代码的利用率，css 的消耗等来讲都是我非常推荐的两种方法</p>',id:"/home/runner/work/GatsbyBlog/GatsbyBlog/blog/复选框单选框与文字对齐问题/index.md absPath of file >>> MarkdownRemark",timeToRead:2,frontmatter:{date:"2019-12-31 10:05:52",path:"/checkbox-radio-text-align/",tags:"前端, CSS, CSS知识点",title:"复选框单选框与文字对齐问题",draft:null}}],length:166,tag:"前端",pagesSum:34,page:18}}}});