<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="preload" href="/component---src-layouts-index-js-9f803d04457066733240.js" as="script"/><link rel="preload" href="/component---src-templates-blog-post-js-bce65c0f16598ce7aa0f.js" as="script"/><link rel="preload" href="/path---typescript-introduce-learn-2154976b77a081470069.js" as="script"/><link rel="preload" href="/app-a412a9ebcef14201b60b.js" as="script"/><link rel="preload" href="/commons-dfbd6b1b914582b06b95.js" as="script"/><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><title data-react-helmet="true">TypeScript 入门学习 - 女王控的博客</title><meta data-react-helmet="true" charset="utf-8"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-react-helmet="true" http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta data-react-helmet="true" name="HandheldFriendly" content="True"/><meta data-react-helmet="true" name="description" content="背景知识 TypeScript 入门教程 深入理解 TypeScript 一份不可多得的 TS 学习指南 React 中的用法 组件声明 类组件 类组件的定义形式有两种：  和  ，它们都是泛型接口，接收两个参数，第一个是 props 类型的定义，第二个是 state…"/><meta data-react-helmet="true" name="keywords" content="前端, TypeScript, ts"/><meta data-react-helmet="true" property="og:site_name" content="女王控"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="TypeScript 入门学习"/><meta data-react-helmet="true" property="og:description" content="背景知识 TypeScript 入门教程 深入理解 TypeScript 一份不可多得的 TS 学习指南 React 中的用法 组件声明 类组件 类组件的定义形式有两种：  和  ，它们都是泛型接口，接收两个参数，第一个是 props 类型的定义，第二个是 state…"/><meta data-react-helmet="true" property="og:url" content="https://blog.towavephone.com/typescript-introduce-learn/"/><meta data-react-helmet="true" property="og:image" content="https://blog.towavephone.com/static/avatar.a4ccbab8.png"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="TypeScript 入门学习"/><meta data-react-helmet="true" name="twitter:description" content="背景知识 TypeScript 入门教程 深入理解 TypeScript 一份不可多得的 TS 学习指南 React 中的用法 组件声明 类组件 类组件的定义形式有两种：  和  ，它们都是泛型接口，接收两个参数，第一个是 props 类型的定义，第二个是 state…"/><meta data-react-helmet="true" name="twitter:url" content="https://blog.towavephone.com/typescript-introduce-learn/"/><meta data-react-helmet="true" name="twitter:image" content="https://blog.towavephone.com/static/avatar.a4ccbab8.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#fafafa"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="canonical" href="https://blog.towavephone.com/typescript-introduce-learn/" data-baseprotocol="https:" data-basehost="blog.towavephone.com"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><style>.gatsby-code-button-container{-ms-touch-action:none;touch-action:none;display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;position:relative;z-index:100;pointer-events:none}.gatsby-code-button{position:absolute;cursor:pointer;pointer-events:auto;top:10px;right:14px;color:#999;font-size:14px}.gatsby-code-button:after{visibility:hidden;position:absolute;display:none;padding:5px;content:attr(data-tooltip);color:#fff;font-size:16px;background-color:#000;white-space:nowrap}.gatsby-code-button .gatsby-code-button-language{max-width:120px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;display:inline-block;vertical-align:middle}.gatsby-code-button .gatsby-code-button-text-icon{vertical-align:middle}.gatsby-code-button[data-tooltip]:after{top:26px;right:0}.gatsby-code-button[data-tooltip]:focus:after,.gatsby-code-button[data-tooltip]:hover:after{visibility:visible;display:block;z-index:200}.gatsby-code-button-toaster{z-index:500;position:fixed;top:0;bottom:0;left:0;right:0;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;height:100vh;width:100vw;pointer-events:none}.gatsby-code-button-toaster-text{width:100%;margin:0 15px;max-width:850px;padding:20px;font-size:24px;letter-spacing:-1px;font-family:monospace;color:#fff;background-color:#000;border-radius:2px;text-align:center;opacity:0;animation:animation 3s cubic-bezier(.98,.01,.53,.47)}.gatsby-code-button-buffer{position:fixed;top:-9999px;opacity:0}@keyframes animation{0%,50%{opacity:1}50%,to{opacity:0}}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.ais-Breadcrumb-list,.ais-CurrentRefinements-list,.ais-HierarchicalMenu-list,.ais-Hits-list,.ais-InfiniteHits-list,.ais-InfiniteResults-list,.ais-Menu-list,.ais-NumericMenu-list,.ais-Pagination-list,.ais-RatingMenu-list,.ais-RefinementList-list,.ais-Results-list,.ais-ToggleRefinement-list{margin:0;padding:0;list-style:none}.ais-ClearRefinements-button,.ais-CurrentRefinements-delete,.ais-CurrentRefinements-reset,.ais-GeoSearch-redo,.ais-GeoSearch-reset,.ais-HierarchicalMenu-showMore,.ais-InfiniteHits-loadMore,.ais-InfiniteHits-loadPrevious,.ais-InfiniteResults-loadMore,.ais-Menu-showMore,.ais-RangeInput-submit,.ais-RefinementList-showMore,.ais-SearchBox-reset,.ais-SearchBox-submit,.ais-VoiceSearch-button{padding:0;overflow:visible;font:inherit;line-height:normal;color:inherit;background:none;border:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ais-ClearRefinements-button::-moz-focus-inner,.ais-CurrentRefinements-delete::-moz-focus-inner,.ais-CurrentRefinements-reset::-moz-focus-inner,.ais-GeoSearch-redo::-moz-focus-inner,.ais-GeoSearch-reset::-moz-focus-inner,.ais-HierarchicalMenu-showMore::-moz-focus-inner,.ais-InfiniteHits-loadMore::-moz-focus-inner,.ais-InfiniteHits-loadPrevious::-moz-focus-inner,.ais-InfiniteResults-loadMore::-moz-focus-inner,.ais-Menu-showMore::-moz-focus-inner,.ais-RangeInput-submit::-moz-focus-inner,.ais-RefinementList-showMore::-moz-focus-inner,.ais-SearchBox-reset::-moz-focus-inner,.ais-SearchBox-submit::-moz-focus-inner,.ais-VoiceSearch-button::-moz-focus-inner{padding:0;border:0}.ais-ClearRefinements-button[disabled],.ais-CurrentRefinements-delete[disabled],.ais-CurrentRefinements-reset[disabled],.ais-GeoSearch-redo[disabled],.ais-GeoSearch-reset[disabled],.ais-HierarchicalMenu-showMore[disabled],.ais-InfiniteHits-loadMore[disabled],.ais-InfiniteHits-loadPrevious[disabled],.ais-InfiniteResults-loadMore[disabled],.ais-Menu-showMore[disabled],.ais-RangeInput-submit[disabled],.ais-RefinementList-showMore[disabled],.ais-SearchBox-reset[disabled],.ais-SearchBox-submit[disabled],.ais-VoiceSearch-button[disabled]{cursor:default}.ais-Breadcrumb-item,.ais-Breadcrumb-list,.ais-Pagination-list,.ais-PoweredBy,.ais-RangeInput-form,.ais-RatingMenu-link{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ais-GeoSearch,.ais-GeoSearch-map{height:100%}.ais-HierarchicalMenu-list .ais-HierarchicalMenu-list{margin-left:1em}.ais-PoweredBy-logo{display:block;height:1.2em;width:auto}.ais-RatingMenu-starIcon{display:block;width:20px;height:20px}.ais-SearchBox-input::-ms-clear,.ais-SearchBox-input::-ms-reveal{display:none;width:0;height:0}.ais-SearchBox-input::-webkit-search-cancel-button,.ais-SearchBox-input::-webkit-search-decoration,.ais-SearchBox-input::-webkit-search-results-button,.ais-SearchBox-input::-webkit-search-results-decoration{display:none}.ais-RangeSlider .rheostat{overflow:visible;margin-top:40px;margin-bottom:40px}.ais-RangeSlider .rheostat-background{height:6px;top:0;width:100%}.ais-RangeSlider .rheostat-handle{margin-left:-12px;top:-7px}.ais-RangeSlider .rheostat-background{position:relative;background-color:#fff;border:1px solid #aaa}.ais-RangeSlider .rheostat-progress{position:absolute;top:1px;height:4px;background-color:#333}.rheostat-handle{position:relative;z-index:1;width:20px;height:20px;background-color:#fff;border:1px solid #333;border-radius:50%;cursor:-webkit-grab;cursor:grab}.rheostat-marker{margin-left:-1px;position:absolute;width:1px;height:5px;background-color:#aaa}.rheostat-marker--large{height:9px}.rheostat-value{padding-top:15px}.rheostat-tooltip,.rheostat-value{margin-left:50%;position:absolute;text-align:center;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.rheostat-tooltip{top:-22px}.ais-Breadcrumb-list,.ais-CurrentRefinements-list,.ais-HierarchicalMenu-list,.ais-Hits-list,.ais-InfiniteHits-list,.ais-InfiniteResults-list,.ais-Menu-list,.ais-NumericMenu-list,.ais-Pagination-list,.ais-RatingMenu-list,.ais-RefinementList-list,.ais-Results-list,.ais-ToggleRefinement-list{margin:0;padding:0;list-style:none}.ais-ClearRefinements-button,.ais-CurrentRefinements-delete,.ais-CurrentRefinements-reset,.ais-GeoSearch-redo,.ais-GeoSearch-reset,.ais-HierarchicalMenu-showMore,.ais-InfiniteHits-loadMore,.ais-InfiniteHits-loadPrevious,.ais-InfiniteResults-loadMore,.ais-Menu-showMore,.ais-RangeInput-submit,.ais-RefinementList-showMore,.ais-SearchBox-reset,.ais-SearchBox-submit,.ais-VoiceSearch-button{padding:0;overflow:visible;font:inherit;line-height:normal;color:inherit;background:none;border:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ais-ClearRefinements-button::-moz-focus-inner,.ais-CurrentRefinements-delete::-moz-focus-inner,.ais-CurrentRefinements-reset::-moz-focus-inner,.ais-GeoSearch-redo::-moz-focus-inner,.ais-GeoSearch-reset::-moz-focus-inner,.ais-HierarchicalMenu-showMore::-moz-focus-inner,.ais-InfiniteHits-loadMore::-moz-focus-inner,.ais-InfiniteHits-loadPrevious::-moz-focus-inner,.ais-InfiniteResults-loadMore::-moz-focus-inner,.ais-Menu-showMore::-moz-focus-inner,.ais-RangeInput-submit::-moz-focus-inner,.ais-RefinementList-showMore::-moz-focus-inner,.ais-SearchBox-reset::-moz-focus-inner,.ais-SearchBox-submit::-moz-focus-inner,.ais-VoiceSearch-button::-moz-focus-inner{padding:0;border:0}.ais-ClearRefinements-button[disabled],.ais-CurrentRefinements-delete[disabled],.ais-CurrentRefinements-reset[disabled],.ais-GeoSearch-redo[disabled],.ais-GeoSearch-reset[disabled],.ais-HierarchicalMenu-showMore[disabled],.ais-InfiniteHits-loadMore[disabled],.ais-InfiniteHits-loadPrevious[disabled],.ais-InfiniteResults-loadMore[disabled],.ais-Menu-showMore[disabled],.ais-RangeInput-submit[disabled],.ais-RefinementList-showMore[disabled],.ais-SearchBox-reset[disabled],.ais-SearchBox-submit[disabled],.ais-VoiceSearch-button[disabled]{cursor:default}.ais-Breadcrumb-item,.ais-Breadcrumb-list,.ais-Pagination-list,.ais-PoweredBy,.ais-RangeInput-form,.ais-RatingMenu-link{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ais-GeoSearch,.ais-GeoSearch-map{height:100%}.ais-HierarchicalMenu-list .ais-HierarchicalMenu-list{margin-left:1em}.ais-PoweredBy-logo{display:block;height:1.2em;width:auto}.ais-RatingMenu-starIcon{display:block;width:20px;height:20px}.ais-SearchBox-input::-ms-clear,.ais-SearchBox-input::-ms-reveal{display:none;width:0;height:0}.ais-SearchBox-input::-webkit-search-cancel-button,.ais-SearchBox-input::-webkit-search-decoration,.ais-SearchBox-input::-webkit-search-results-button,.ais-SearchBox-input::-webkit-search-results-decoration{display:none}.ais-RangeSlider .rheostat{overflow:visible;margin-top:40px;margin-bottom:40px}.ais-RangeSlider .rheostat-background{height:6px;top:0;width:100%}.ais-RangeSlider .rheostat-handle{margin-left:-12px;top:-7px}.ais-RangeSlider .rheostat-background{position:relative;background-color:#fff;border:1px solid #aaa}.ais-RangeSlider .rheostat-progress{position:absolute;top:1px;height:4px;background-color:#333}.rheostat-handle{position:relative;z-index:1;width:20px;height:20px;background-color:#fff;border:1px solid #333;border-radius:50%;cursor:-webkit-grab;cursor:grab}.rheostat-marker{margin-left:-1px;position:absolute;width:1px;height:5px;background-color:#aaa}.rheostat-marker--large{height:9px}.rheostat-value{padding-top:15px}.rheostat-tooltip,.rheostat-value{margin-left:50%;position:absolute;text-align:center;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.rheostat-tooltip{top:-22px}[class^=ais-]{font-size:1rem;-webkit-box-sizing:border-box;box-sizing:border-box}a[class^=ais-]{text-decoration:none}.ais-Breadcrumb,.ais-ClearRefinements,.ais-CurrentRefinements,.ais-GeoSearch,.ais-HierarchicalMenu,.ais-Hits,.ais-HitsPerPage,.ais-InfiniteHits,.ais-InfiniteResults,.ais-Menu,.ais-MenuSelect,.ais-NumericMenu,.ais-NumericSelector,.ais-Pagination,.ais-Panel,.ais-PoweredBy,.ais-RangeInput,.ais-RangeSlider,.ais-RatingMenu,.ais-RefinementList,.ais-Results,.ais-ResultsPerPage,.ais-SearchBox,.ais-SortBy,.ais-Stats,.ais-ToggleRefinement{color:#3a4570}.ais-Breadcrumb-item--selected,.ais-HierarchicalMenu-item--selected,.ais-Menu-item--selected{font-weight:700}.ais-Breadcrumb-separator{margin:0 .3em;font-weight:400}.ais-Breadcrumb-link,.ais-HierarchicalMenu-link,.ais-Menu-link,.ais-Pagination-link,.ais-RatingMenu-link{color:#0096db;-webkit-transition:color .2s ease-out;transition:color .2s ease-out}.ais-Breadcrumb-link:focus,.ais-Breadcrumb-link:hover,.ais-HierarchicalMenu-link:focus,.ais-HierarchicalMenu-link:hover,.ais-Menu-link:focus,.ais-Menu-link:hover,.ais-Pagination-link:focus,.ais-Pagination-link:hover,.ais-RatingMenu-link:focus,.ais-RatingMenu-link:hover{color:#0073a8}.ais-ClearRefinements-button,.ais-CurrentRefinements-reset,.ais-GeoSearch-redo,.ais-GeoSearch-reset,.ais-HierarchicalMenu-showMore,.ais-InfiniteHits-loadMore,.ais-InfiniteHits-loadPrevious,.ais-InfiniteResults-loadMore,.ais-Menu-showMore,.ais-RefinementList-showMore{padding:.3rem .5rem;font-size:.8rem;color:#fff;background-color:#0096db;border-radius:5px;-webkit-transition:background-color .2s ease-out;transition:background-color .2s ease-out;outline:none}.ais-ClearRefinements-button:focus,.ais-ClearRefinements-button:hover,.ais-CurrentRefinements-reset:focus,.ais-CurrentRefinements-reset:hover,.ais-GeoSearch-redo:focus,.ais-GeoSearch-redo:hover,.ais-GeoSearch-reset:focus,.ais-GeoSearch-reset:hover,.ais-HierarchicalMenu-showMore:focus,.ais-HierarchicalMenu-showMore:hover,.ais-InfiniteHits-loadMore:focus,.ais-InfiniteHits-loadMore:hover,.ais-InfiniteHits-loadPrevious:focus,.ais-InfiniteHits-loadPrevious:hover,.ais-InfiniteResults-loadMore:focus,.ais-InfiniteResults-loadMore:hover,.ais-Menu-showMore:focus,.ais-Menu-showMore:hover,.ais-RefinementList-showMore:focus,.ais-RefinementList-showMore:hover{background-color:#0073a8}.ais-ClearRefinements-button--disabled,.ais-GeoSearch-redo--disabled,.ais-GeoSearch-reset--disabled,.ais-HierarchicalMenu-showMore--disabled,.ais-InfiniteHits-loadMore--disabled,.ais-InfiniteResults-loadMore--disabled,.ais-Menu-showMore--disabled,.ais-RefinementList-showMore--disabled{opacity:.6;cursor:not-allowed}.ais-ClearRefinements-button--disabled:focus,.ais-ClearRefinements-button--disabled:hover,.ais-GeoSearch-redo--disabled:focus,.ais-GeoSearch-redo--disabled:hover,.ais-GeoSearch-reset--disabled:focus,.ais-GeoSearch-reset--disabled:hover,.ais-HierarchicalMenu-showMore--disabled:focus,.ais-HierarchicalMenu-showMore--disabled:hover,.ais-InfiniteHits-loadMore--disabled:focus,.ais-InfiniteHits-loadMore--disabled:hover,.ais-InfiniteResults-loadMore--disabled:focus,.ais-InfiniteResults-loadMore--disabled:hover,.ais-Menu-showMore--disabled:focus,.ais-Menu-showMore--disabled:hover,.ais-RefinementList-showMore--disabled:focus,.ais-RefinementList-showMore--disabled:hover{background-color:#0096db}.ais-InfiniteHits-loadPrevious--disabled{display:none}.ais-CurrentRefinements{margin-top:-.3rem}.ais-CurrentRefinements,.ais-CurrentRefinements-list{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.ais-CurrentRefinements-item{margin-right:.3rem;margin-top:.3rem;padding:.3rem .5rem;display:-webkit-box;display:-ms-flexbox;display:flex;background-color:#495588;border-radius:5px}.ais-CurrentRefinements-category{margin-left:.3em;display:-webkit-box;display:-ms-flexbox;display:flex}.ais-CurrentRefinements-delete{margin-left:.3rem}.ais-CurrentRefinements-categoryLabel,.ais-CurrentRefinements-delete,.ais-CurrentRefinements-label{white-space:nowrap;font-size:.8rem;color:#fff}.ais-CurrentRefinements-reset{margin-top:.3rem;white-space:nowrap}.ais-CurrentRefinements-reset+.ais-CurrentRefinements-list{margin-left:.3rem}.ais-GeoSearch{position:relative}.ais-GeoSearch-control{position:absolute;top:.8rem;left:3.75rem}.ais-GeoSearch-label{display:block;padding:.3rem .5rem;font-size:.8rem;background-color:#fff;border-radius:5px;-webkit-transition:background-color .2s ease-out;transition:background-color .2s ease-out;-webkit-box-shadow:rgba(0,0,0,.1) 0 1px 1px;box-shadow:0 1px 1px rgba(0,0,0,.1);outline:none}.ais-GeoSearch-input{margin:0 .25rem 0 0}.ais-GeoSearch-label,.ais-GeoSearch-redo,.ais-GeoSearch-reset{white-space:nowrap}.ais-GeoSearch-reset{position:absolute;bottom:1.25rem;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.ais-HierarchicalMenu-link,.ais-Menu-link{display:block;line-height:1.5}.ais-HierarchicalMenu-list,.ais-Menu-list,.ais-NumericMenu-list,.ais-RatingMenu-list,.ais-RefinementList-list{font-weight:400;line-height:1.5}.ais-HierarchicalMenu-link:after{margin-left:.3em;content:"";width:10px;height:10px;display:none;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M7.3 24l-2.8-2.8 9.3-9.2-9.3-9.2L7.3 0l12.2 12z' fill='%233A4570'/%3E%3C/svg%3E");background-size:100% 100%}.ais-HierarchicalMenu-item--parent>.ais-HierarchicalMenu-link:after{display:inline-block}.ais-HierarchicalMenu-item--selected>.ais-HierarchicalMenu-link:after{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ais-CurrentRefinements-count,.ais-RatingMenu-count{font-size:.8rem}.ais-CurrentRefinements-count:before,.ais-RatingMenu-count:before{content:"("}.ais-CurrentRefinements-count:after,.ais-RatingMenu-count:after{content:")"}.ais-HierarchicalMenu-count,.ais-Menu-count,.ais-RefinementList-count,.ais-ToggleRefinement-count{padding:.1rem .4rem;font-size:.8rem;color:#3a4570;background-color:#dfe2ee;border-radius:8px}.ais-HierarchicalMenu-showMore,.ais-Menu-showMore,.ais-RefinementList-showMore{margin-top:.5rem}.ais-Highlight-highlighted,.ais-Snippet-highlighted{background-color:#ffc168}.ais-Hits-list,.ais-InfiniteHits-list,.ais-InfiniteResults-list,.ais-Results-list{margin-top:-1rem;margin-left:-1rem;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.ais-Panel-body .ais-Hits-list,.ais-Panel-body .ais-InfiniteHits-list,.ais-Panel-body .ais-InfiniteResults-list,.ais-Panel-body .ais-Results-list{margin:.5rem 0 0 -1rem}.ais-Hits-item,.ais-InfiniteHits-item,.ais-InfiniteResults-item,.ais-Results-item{margin-top:1rem;margin-left:1rem;padding:1rem;width:calc(25% - 1rem);border:1px solid #c4c8d8;-webkit-box-shadow:0 2px 5px 0 #e3e5ec;box-shadow:0 2px 5px 0 #e3e5ec}.ais-Panel-body .ais-Hits-item,.ais-Panel-body .ais-InfiniteHits-item,.ais-Panel-body .ais-InfiniteResults-item,.ais-Panel-body .ais-Results-item{margin:.5rem 0 .5rem 1rem}.ais-InfiniteHits-loadMore,.ais-InfiniteResults-loadMore{margin-top:1rem}.ais-InfiniteHits-loadPrevious{margin-bottom:1rem}.ais-HitsPerPage-select,.ais-MenuSelect-select,.ais-NumericSelector-select,.ais-ResultsPerPage-select,.ais-SortBy-select{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:.3rem 2rem .3rem .3rem;max-width:100%;background-color:#fff;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M0 7.3l2.8-2.8 9.2 9.3 9.2-9.3L24 7.3 12 19.5z' fill='%233A4570'/%3E%3C/svg%3E");background-repeat:no-repeat;background-size:10px 10px;background-position:92% 50%;border:1px solid #c4c8d8;border-radius:5px}.ais-Panel--collapsible{position:relative}.ais-Panel--collapsible.ais-Panel--collapsed .ais-Panel-body,.ais-Panel--collapsible.ais-Panel--collapsed .ais-Panel-footer{display:none}.ais-Panel--collapsible .ais-Panel-collapseButton{position:absolute;top:0;right:0;padding:0;border:none;background:none}.ais-Panel-header{margin-bottom:.5rem;padding-bottom:.5rem;font-size:.8rem;font-weight:700;text-transform:uppercase;border-bottom:1px solid #c4c8d8}.ais-Panel-footer{margin-top:.5rem;font-size:.8rem}.ais-RangeInput-input{padding:0 .2rem;width:5rem;height:1.5rem;line-height:1.5rem}.ais-RangeInput-separator{margin:0 .3rem}.ais-RangeInput-submit{margin-left:.3rem;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0 .5rem;height:1.5rem;line-height:1.5rem;font-size:.8rem;color:#fff;background-color:#0096db;border:none;border-radius:5px;-webkit-transition:.2s ease-out;transition:.2s ease-out;outline:none}.ais-RangeInput-submit:focus,.ais-RangeInput-submit:hover{background-color:#0073a8}.ais-RatingMenu-count{color:#3a4570}.ais-Pagination-list{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ais-Pagination-item+.ais-Pagination-item{margin-left:.3rem}.ais-Pagination-link{padding:.3rem .6rem;display:block;border:1px solid #c4c8d8;border-radius:5px;-webkit-transition:background-color .2s ease-out;transition:background-color .2s ease-out}.ais-Pagination-link:focus,.ais-Pagination-link:hover{background-color:#e3e5ec}.ais-Pagination-item--disabled .ais-Pagination-link{opacity:.6;cursor:not-allowed;color:#a5abc4}.ais-Pagination-item--disabled .ais-Pagination-link:focus,.ais-Pagination-item--disabled .ais-Pagination-link:hover{color:#a5abc4;background-color:#fff}.ais-Pagination-item--selected .ais-Pagination-link{color:#fff;background-color:#0096db;border-color:#0096db}.ais-Pagination-item--selected .ais-Pagination-link:focus,.ais-Pagination-item--selected .ais-Pagination-link:hover{color:#fff}.ais-PoweredBy-text,.ais-Stats-text,.rheostat-tooltip,.rheostat-value{font-size:.8rem}.ais-PoweredBy-logo{margin-left:.3rem}.ais-RangeSlider .rheostat-progress{background-color:#495588}.ais-RangeSlider .rheostat-background{border-color:#878faf;-webkit-box-sizing:border-box;box-sizing:border-box}.ais-RangeSlider .rheostat-handle{border-color:#878faf}.ais-RangeSlider .rheostat-marker{background-color:#878faf}.ais-Panel-body .ais-RangeSlider{margin:2rem 0}.ais-RangeSlider-handle{width:20px;height:20px;position:relative;z-index:1;background:#fff;border:1px solid #46aeda;border-radius:50%;cursor:pointer}.ais-RangeSlider-tooltip{position:absolute;background:#fff;top:-22px;font-size:.8em}.ais-RangeSlider-value{width:40px;position:absolute;text-align:center;margin-left:-20px;padding-top:15px;font-size:.8em}.ais-RangeSlider-marker{position:absolute;background:#ddd;margin-left:-1px;width:1px;height:5px}.ais-RatingMenu-item--disabled .ais-RatingMenu-count,.ais-RatingMenu-item--disabled .ais-RatingMenu-label{color:#c4c8d8}.ais-RatingMenu-item--selected{font-weight:700}.ais-RatingMenu-link{line-height:1.5}.ais-RatingMenu-link>*+*{margin-left:.3rem}.ais-RatingMenu-starIcon{position:relative;top:-1px;width:15px;fill:#ffc168}.ais-RatingMenu-item--disabled .ais-RatingMenu-starIcon{fill:#c4c8d8}.ais-HierarchicalMenu-searchBox>*,.ais-Menu-searchBox>*,.ais-RefinementList-searchBox>*{margin-bottom:.5rem}.ais-SearchBox-form{display:block;position:relative}.ais-SearchBox-input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:.3rem 1.7rem;width:100%;position:relative;background-color:#fff;border:1px solid #c4c8d8;border-radius:5px}.ais-SearchBox-input::-webkit-input-placeholder{color:#a5aed1}.ais-SearchBox-input::-moz-placeholder{color:#a5aed1}.ais-SearchBox-input:-ms-input-placeholder{color:#a5aed1}.ais-SearchBox-input:-moz-placeholder{color:#a5aed1}.ais-SearchBox-loadingIndicator,.ais-SearchBox-reset,.ais-SearchBox-submit{-webkit-appearance:none;-moz-appearance:none;appearance:none;position:absolute;z-index:1;width:20px;height:20px;top:50%;right:.3rem;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.ais-SearchBox-submit{left:.3rem}.ais-SearchBox-reset{right:.3rem}.ais-SearchBox-loadingIcon,.ais-SearchBox-resetIcon,.ais-SearchBox-submitIcon{position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.ais-SearchBox-resetIcon path,.ais-SearchBox-submitIcon path{fill:#495588}.ais-SearchBox-submitIcon{width:14px;height:14px}.ais-SearchBox-resetIcon{width:12px;height:12px}.ais-SearchBox-loadingIcon{width:16px;height:16px}.ais-VoiceSearch-button{border:none;width:24px;height:24px;padding:4px;border-radius:50%;color:#3a4570;background-color:transparent}.ais-VoiceSearch-button svg{color:currentColor}.ais-VoiceSearch-button:hover{cursor:pointer;background-color:#a5aed1;color:#fff}.ais-VoiceSearch-button:disabled{color:#a5aed1}.ais-VoiceSearch-button:disabled:hover{color:#a5aed1;cursor:not-allowed;background:inherit}@font-face{font-family:KaTeX_AMS;src:url(/static/KaTeX_AMS-Regular.3d8245dc.woff2) format("woff2"),url(/static/KaTeX_AMS-Regular.ac1d46d9.woff) format("woff"),url(/static/KaTeX_AMS-Regular.c67be87a.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url(/static/KaTeX_Caligraphic-Bold.970d3e76.woff2) format("woff2"),url(/static/KaTeX_Caligraphic-Bold.445f96a3.woff) format("woff"),url(/static/KaTeX_Caligraphic-Bold.3f61a84d.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url(/static/KaTeX_Caligraphic-Regular.0ef0f2e3.woff2) format("woff2"),url(/static/KaTeX_Caligraphic-Regular.74f6918c.woff) format("woff"),url(/static/KaTeX_Caligraphic-Regular.c3bc8fce.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url(/static/KaTeX_Fraktur-Bold.950649ba.woff2) format("woff2"),url(/static/KaTeX_Fraktur-Bold.1aca7ef7.woff) format("woff"),url(/static/KaTeX_Fraktur-Bold.e11e6bf0.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url(/static/KaTeX_Fraktur-Regular.135ccd74.woff2) format("woff2"),url(/static/KaTeX_Fraktur-Regular.c5b430bf.woff) format("woff"),url(/static/KaTeX_Fraktur-Regular.a9509497.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Main;src:url(/static/KaTeX_Main-Bold.c5b67fb3.woff2) format("woff2"),url(/static/KaTeX_Main-Bold.0ba875a1.woff) format("woff"),url(/static/KaTeX_Main-Bold.aaaa1b76.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Main;src:url(/static/KaTeX_Main-BoldItalic.0719833c.woff2) format("woff2"),url(/static/KaTeX_Main-BoldItalic.5aeca883.woff) format("woff"),url(/static/KaTeX_Main-BoldItalic.bdbadb27.ttf) format("truetype");font-weight:700;font-style:italic}@font-face{font-family:KaTeX_Main;src:url(/static/KaTeX_Main-Italic.6bf61628.woff2) format("woff2"),url(/static/KaTeX_Main-Italic.bb7c45db.woff) format("woff"),url(/static/KaTeX_Main-Italic.2155d789.ttf) format("truetype");font-weight:400;font-style:italic}@font-face{font-family:KaTeX_Main;src:url(/static/KaTeX_Main-Regular.29b27903.woff2) format("woff2"),url(/static/KaTeX_Main-Regular.1fd21713.woff) format("woff"),url(/static/KaTeX_Main-Regular.7b8d1fa0.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Math;src:url(/static/KaTeX_Math-Italic.7a31741a.woff2) format("woff2"),url(/static/KaTeX_Math-Italic.8eb56b3f.woff) format("woff"),url(/static/KaTeX_Math-Italic.10740d74.ttf) format("truetype");font-weight:400;font-style:italic}@font-face{font-family:KaTeX_SansSerif;src:url(/static/KaTeX_SansSerif-Bold.e38d0f68.woff2) format("woff2"),url(/static/KaTeX_SansSerif-Bold.84299b01.woff) format("woff"),url(/static/KaTeX_SansSerif-Bold.9123667c.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_SansSerif;src:url(/static/KaTeX_SansSerif-Italic.1057b702.woff2) format("woff2"),url(/static/KaTeX_SansSerif-Italic.95c5a3d4.woff) format("woff"),url(/static/KaTeX_SansSerif-Italic.f9c440ab.ttf) format("truetype");font-weight:400;font-style:italic}@font-face{font-family:KaTeX_SansSerif;src:url(/static/KaTeX_SansSerif-Regular.f9e06d59.woff2) format("woff2"),url(/static/KaTeX_SansSerif-Regular.35bda414.woff) format("woff"),url(/static/KaTeX_SansSerif-Regular.2eae604d.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Script;src:url(/static/KaTeX_Script-Regular.ae1fad1f.woff2) format("woff2"),url(/static/KaTeX_Script-Regular.60febfa1.woff) format("woff"),url(/static/KaTeX_Script-Regular.e9169ca7.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size1;src:url(/static/KaTeX_Size1-Regular.fda0824e.woff2) format("woff2"),url(/static/KaTeX_Size1-Regular.1d6cf6b8.woff) format("woff"),url(/static/KaTeX_Size1-Regular.f2e296ef.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size2;src:url(/static/KaTeX_Size2-Regular.a7a0eb93.woff2) format("woff2"),url(/static/KaTeX_Size2-Regular.f48e83b7.woff) format("woff"),url(/static/KaTeX_Size2-Regular.0767ede6.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size3;src:url(/static/KaTeX_Size3-Regular.397bd687.woff2) format("woff2"),url(/static/KaTeX_Size3-Regular.0387ab38.woff) format("woff"),url(/static/KaTeX_Size3-Regular.882f7234.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size4;src:url(/static/KaTeX_Size4-Regular.3c14ed11.woff2) format("woff2"),url(/static/KaTeX_Size4-Regular.726db3bd.woff) format("woff"),url(/static/KaTeX_Size4-Regular.27901d5c.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Typewriter;src:url(/static/KaTeX_Typewriter-Regular.f43e8696.woff2) format("woff2"),url(/static/KaTeX_Typewriter-Regular.ba01f72a.woff) format("woff"),url(/static/KaTeX_Typewriter-Regular.6b9645af.ttf) format("truetype");font-weight:400;font-style:normal}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:inline-block;text-align:initial}.katex{font:normal 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;white-space:nowrap;text-indent:0;text-rendering:auto}.katex *{-ms-high-contrast-adjust:none!important}.katex .katex-html{display:inline-block}.katex .katex-mathml{position:absolute;clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}.katex .base{position:relative}.katex .base,.katex .strut{display:inline-block}.katex .textbf{font-weight:700}.katex .textit{font-style:italic}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathit{font-family:KaTeX_Math;font-style:italic}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .boldsymbol{font-family:KaTeX_Math;font-weight:700;font-style:italic}.katex .amsrm,.katex .mathbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak{font-family:KaTeX_Fraktur}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr{font-family:KaTeX_Script}.katex .mathsf{font-family:KaTeX_SansSerif}.katex .mainit{font-family:KaTeX_Main;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;vertical-align:bottom;position:relative}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;vertical-align:bottom;font-size:1px;width:2px}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{display:inline-block;width:100%}.katex .mspace{display:inline-block}.katex .mspace.negativethinspace{margin-left:-.16667em}.katex .mspace.muspace{width:.055556em}.katex .mspace.thinspace{width:.16667em}.katex .mspace.negativemediumspace{margin-left:-.22222em}.katex .mspace.mediumspace{width:.22222em}.katex .mspace.thickspace{width:.27778em}.katex .mspace.sixmuspace{width:.333333em}.katex .mspace.eightmuspace{width:.444444em}.katex .mspace.enspace{width:.5em}.katex .mspace.twelvemuspace{width:.666667em}.katex .mspace.quad{width:1em}.katex .mspace.qquad{width:2em}.katex .clap,.katex .llap,.katex .rlap{width:0;position:relative}.katex .clap>.inner,.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .clap>.fix,.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .clap>.inner,.katex .rlap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{display:inline-block;border:0 solid;position:relative}.katex .overline .overline-line,.katex .underline .underline-line{display:inline-block;width:100%}.katex .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.katex .fontsize-ensurer,.katex .sizing{display:inline-block}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.83333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.16666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.66666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.45666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.14666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.71428571em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.85714286em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.14285714em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.28571429em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.42857143em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.71428571em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.05714286em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.46857143em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.96285714em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.55428571em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.55555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.66666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.77777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.88888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.11111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.30444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.76444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.41666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.58333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.66666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.83333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.72833333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.07333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.34722222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.41666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.48611111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.55555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.69444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.83333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.44027778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.72777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.28935185em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.34722222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.40509259em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.46296296em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.52083333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.69444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.83333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.20023148em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.43981481em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.24108004em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.28929605em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.33751205em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.38572806em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.43394407em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.48216008em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.57859209em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.69431051em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.83317261em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.19961427em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.20096463em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.24115756em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.28135048em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.32154341em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.36173633em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.40192926em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.48231511em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.57877814em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.69453376em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.83360129em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent>.vlist-t,.katex .op-limits>.vlist-t{text-align:center}.katex .accent .accent-body{width:0;position:relative}.katex .overlay{display:block}.katex .mtable .vertical-separator{display:inline-block;margin:0 -.125em;width:.25em;overflow:hidden;position:relative}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist-t{text-align:center}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{display:block;position:absolute;width:100%;fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1}.katex svg path{stroke:none}.katex .vertical-separator svg{width:.25em}.katex .stretchy{width:100%;display:block;position:relative;overflow:hidden}.katex .stretchy:after,.katex .stretchy:before{content:""}.katex .hide-tail{width:100%;position:relative;overflow:hidden}.katex .halfarrow-left{position:absolute;left:0;width:50.2%;overflow:hidden}.katex .halfarrow-right{position:absolute;right:0;width:50.2%;overflow:hidden}.katex .brace-left{position:absolute;left:0;width:25.1%;overflow:hidden}.katex .brace-center{position:absolute;left:25%;width:50%;overflow:hidden}.katex .brace-right{position:absolute;right:0;width:25.1%;overflow:hidden}.katex .x-arrow-pad{padding:0 .5em}.katex .mover,.katex .munder,.katex .x-arrow{text-align:center}.katex .boxpad{padding:0 .3em}.katex .fbox{box-sizing:border-box;border:.04em solid #000}.katex .fcolorbox{box-sizing:border-box;border:.04em solid}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap+.mbin,.katex .cancel-lap+.mord,.katex .cancel-lap+.msupsub,.katex .mbin+.cancel-lap,.katex .mord+.cancel-lap{margin-left:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}@font-face{font-family:octicons-link;src:url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM+8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB/aFGpk3jaTY6xa8JAGMW/O62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v+k/0an2i+itHDw3v2+9+DBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3/I7AtxEJLtzzuZfI+VVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy/Lt7Kc+0vWY/gAgIIEqAN9we0pwKXreiMasxvabDQMM4riO+qxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw+ymhce7vwM9jSqO8JyVd5RH9gyTt2+J/yUmYlIR0s04n6+7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv/ocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi+W2+MjCzMIDApSwvXzC97Z4Ig8N/BxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh/8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT+AEjAwuDFpBmA9KMDEwMCh9i/v8H8sH0/4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9/lqYwOGZxeUelN2U2R6+cArgtCJpauW7UQBqnFkUsjAY/kOU1cP+DAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl+vvmM/byA48e6tWrKArm4ZJlCbdsrxksL1AwWn/yBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO//sdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd/89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF+9JOS0nbaaYDCQfwCJ7Au3AHj+LO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm+EBXuAbHmIMSRMs+4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL+hD7C1xoaHeLJSEao0FEW14ckxC+TU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13/+lm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl+9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O/AdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB///AA8AAQAAAAAAAAAAAAAAAAABAAAAAA==) format("woff")}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body .pl-c{color:#6a737d}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#005cc5}.markdown-body .pl-e,.markdown-body .pl-en{color:#6f42c1}.markdown-body .pl-s .pl-s1,.markdown-body .pl-smi{color:#24292e}.markdown-body .pl-ent{color:#22863a}.markdown-body .pl-k{color:#d73a49}.markdown-body .pl-pds,.markdown-body .pl-s,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sra,.markdown-body .pl-sr .pl-sre{color:#032f62}.markdown-body .pl-smw,.markdown-body .pl-v{color:#e36209}.markdown-body .pl-bu{color:#b31d28}.markdown-body .pl-ii{color:#fafbfc;background-color:#b31d28}.markdown-body .pl-c2{color:#fafbfc;background-color:#d73a49}.markdown-body .pl-c2:before{content:"^M"}.markdown-body .pl-sr .pl-cce{font-weight:700;color:#22863a}.markdown-body .pl-ml{color:#735c0f}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{font-weight:700;color:#005cc5}.markdown-body .pl-mi{font-style:italic;color:#24292e}.markdown-body .pl-mb{font-weight:700;color:#24292e}.markdown-body .pl-md{color:#b31d28;background-color:#ffeef0}.markdown-body .pl-mi1{color:#22863a;background-color:#f0fff4}.markdown-body .pl-mc{color:#e36209;background-color:#ffebda}.markdown-body .pl-mi2{color:#f6f8fa;background-color:#005cc5}.markdown-body .pl-mdr{font-weight:700;color:#6f42c1}.markdown-body .pl-ba{color:#586069}.markdown-body .pl-sg{color:#959da5}.markdown-body .pl-corl{text-decoration:underline;color:#032f62}.markdown-body .octicon{display:inline-block;vertical-align:text-top;fill:currentColor}.markdown-body a{background-color:transparent;-webkit-text-decoration-skip:objects}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body strong{font-weight:inherit;font-weight:bolder}.markdown-body h1{margin:.67em 0}.markdown-body img{border-style:none}.markdown-body svg:not(:root){overflow:hidden}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace;font-size:1em}.markdown-body hr{-webkit-box-sizing:content-box;box-sizing:content-box;overflow:visible}.markdown-body input{font:inherit;margin:0;overflow:visible}.markdown-body [type=checkbox]{padding:0}.markdown-body *,.markdown-body [type=checkbox]{-webkit-box-sizing:border-box;box-sizing:border-box}.markdown-body input{font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body a{color:#0366d6;text-decoration:none}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{height:0;margin:15px 0;overflow:hidden;background:transparent;border-bottom:1px solid #dfe2e5}.markdown-body hr:after,.markdown-body hr:before{display:table;content:""}.markdown-body hr:after{clear:both}.markdown-body table{border-spacing:0;border-collapse:collapse}.markdown-body td,.markdown-body th{padding:0}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:0;margin-bottom:0}.markdown-body h1{font-size:32px;font-weight:600}.markdown-body h2{font-size:24px;font-weight:600}.markdown-body h3{font-size:20px;font-weight:600}.markdown-body h4{font-size:16px;font-weight:600}.markdown-body h5{font-size:14px;font-weight:600}.markdown-body h6{font-size:12px;font-weight:600}.markdown-body p{margin-top:0;margin-bottom:10px}.markdown-body blockquote{margin:0}.markdown-body ol,.markdown-body ul{padding-left:0;margin-top:0;margin-bottom:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px}.markdown-body pre{margin-top:0;margin-bottom:0;font:12px SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace}.markdown-body .octicon{vertical-align:text-bottom}.markdown-body .pl-0{padding-left:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e1e4e8;border:0}.markdown-body blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body kbd{font-size:11px;border:1px solid #c6cbd1;border-bottom-color:#959da5;-webkit-box-shadow:inset 0 -1px 0 #959da5;box-shadow:inset 0 -1px 0 #959da5}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eaecef}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#6a737d}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #dfe2e5}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{max-width:100%;-webkit-box-sizing:content-box;box-sizing:content-box;background-color:#fff}.markdown-body code{padding:0;padding-top:.2em;padding-bottom:.2em;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code:after,.markdown-body code:before{letter-spacing:-.2em;content:"\A0"}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.markdown-body pre code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body pre code:after,.markdown-body pre code:before{content:normal}.markdown-body .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fafbfc;border:1px solid #d1d5da;border-bottom-color:#c6cbd1;border-radius:3px;-webkit-box-shadow:inset 0 -1px 0 #c6cbd1;box-shadow:inset 0 -1px 0 #c6cbd1}.markdown-body :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}.markdown-body hr{border-bottom-color:#eee}.gt-container{font-size:16px}.gt-container,.gt-container *{-webkit-box-sizing:border-box;box-sizing:border-box}.gt-container a{color:#6190e8}.gt-container a:hover{color:#81a6ed;border-color:#81a6ed}.gt-container a.is--active{color:#333;cursor:default!important}.gt-container a.is--active:hover{color:#333}.gt-container .hide{display:none!important}.gt-container .gt-svg{display:inline-block;width:1em;height:1em;vertical-align:sub}.gt-container .gt-svg svg{width:100%;height:100%;fill:#6190e8}.gt-container .gt-ico{display:inline-block}.gt-container .gt-ico-text{margin-left:.3125em}.gt-container .gt-ico-github,.gt-container .gt-ico-github .gt-svg{width:100%;height:100%}.gt-container .gt-ico-github svg{fill:inherit}.gt-container .gt-spinner{position:relative}.gt-container .gt-spinner:before{content:"";-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;top:3px;width:.75em;height:.75em;margin-top:-.1875em;margin-left:-.375em;border-radius:50%;border:1px solid #fff;border-top-color:#6190e8;-webkit-animation:gt-kf-rotate .6s linear infinite;animation:gt-kf-rotate .6s linear infinite}.gt-container .gt-loader{position:relative;border:1px solid #999;-webkit-animation:ease gt-kf-rotate 1.5s infinite;animation:ease gt-kf-rotate 1.5s infinite;display:inline-block;font-style:normal;width:1.75em;height:1.75em;line-height:1.75em;border-radius:50%}.gt-container .gt-loader:before{content:"";position:absolute;display:block;top:0;left:50%;margin-top:-.1875em;margin-left:-.1875em;width:.375em;height:.375em;background-color:#999;border-radius:50%}.gt-container .gt-avatar{display:inline-block;width:3.125em;height:3.125em}@media (max-width:479px){.gt-container .gt-avatar{width:2em;height:2em}}.gt-container .gt-avatar img{width:100%;height:auto;border-radius:3px}.gt-container .gt-avatar-github{width:3em;height:3em;cursor:pointer}@media (max-width:479px){.gt-container .gt-avatar-github{width:1.875em;height:1.875em}}.gt-container .gt-btn{padding:.75em 1.25em;display:inline-block;line-height:1;text-decoration:none;white-space:nowrap;cursor:pointer;border:1px solid #6190e8;border-radius:5px;background-color:#6190e8;color:#fff;outline:none;font-size:.75em}.gt-container .gt-btn-text{font-weight:400}.gt-container .gt-btn-loading{position:relative;margin-left:.5em;display:inline-block;width:.75em;height:1em;vertical-align:top}.gt-container .gt-btn.is--disable{cursor:not-allowed;opacity:.5}.gt-container .gt-btn-login{margin-right:0}.gt-container .gt-btn-preview{background-color:#fff;color:#6190e8}.gt-container .gt-btn-preview:hover{background-color:#f2f2f2;border-color:#81a6ed}.gt-container .gt-btn-public:hover{background-color:#81a6ed;border-color:#81a6ed}.gt-container .gt-error{text-align:center;margin:.625em;color:#ff3860}.gt-container .gt-initing{padding:1.25em 0;text-align:center}.gt-container .gt-initing-text{margin:.625em auto;font-size:92%}.gt-container .gt-no-init{padding:1.25em 0;text-align:center}.gt-container .gt-link{border-bottom:1px dotted #6190e8}.gt-container .gt-link-counts,.gt-container .gt-link-project{text-decoration:none}.gt-container .gt-meta{margin:1.25em 0;padding:1em 0;border-bottom:1px solid #e9e9e9;font-size:1em;position:relative;z-index:10}.gt-container .gt-meta:after,.gt-container .gt-meta:before{content:" ";display:table}.gt-container .gt-meta:after{clear:both}.gt-container .gt-counts{margin:0 .625em 0 0}.gt-container .gt-user{float:right;margin:0;font-size:92%}.gt-container .gt-user-pic{width:16px;height:16px;vertical-align:top;margin-right:.5em}.gt-container .gt-user-inner{display:inline-block;cursor:pointer}.gt-container .gt-user .gt-ico{margin:0 0 0 .3125em}.gt-container .gt-user .gt-ico svg{fill:inherit}.gt-container .gt-user .is--poping .gt-ico svg{fill:#6190e8}.gt-container .gt-version{color:#a1a1a1;margin-left:.375em}.gt-container .gt-copyright{margin:0 .9375em .5em;border-top:1px solid #e9e9e9;padding-top:.5em}.gt-container .gt-popup{position:absolute;right:0;top:2.375em;background:#fff;display:inline-block;border:1px solid #e9e9e9;padding:.625em 0;font-size:.875em;letter-spacing:.5px}.gt-container .gt-popup .gt-action{cursor:pointer;display:block;margin:.5em 0;padding:0 1.125em;position:relative;text-decoration:none}.gt-container .gt-popup .gt-action.is--active:before{content:"";width:.25em;height:.25em;background:#6190e8;position:absolute;left:.5em;top:.4375em}.gt-container .gt-header{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex}.gt-container .gt-header-comment{-webkit-box-flex:1;-ms-flex:1;flex:1;margin-left:1.25em}@media (max-width:479px){.gt-container .gt-header-comment{margin-left:.875em}}.gt-container .gt-header-textarea{padding:.75em;display:block;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;min-height:5.125em;max-height:15em;border-radius:5px;border:1px solid rgba(0,0,0,.1);font-size:.875em;word-wrap:break-word;resize:vertical;background-color:#f6f6f6;outline:none;-webkit-transition:all .25s ease;transition:all .25s ease}.gt-container .gt-header-textarea:hover{background-color:#fbfbfb}.gt-container .gt-header-preview{padding:.75em;border-radius:5px;border:1px solid rgba(0,0,0,.1);background-color:#f6f6f6}.gt-container .gt-header-controls{position:relative;margin:.75em 0 0}.gt-container .gt-header-controls:after,.gt-container .gt-header-controls:before{content:" ";display:table}.gt-container .gt-header-controls:after{clear:both}@media (max-width:479px){.gt-container .gt-header-controls{margin:0}}.gt-container .gt-header-controls-tip{font-size:.875em;color:#6190e8;text-decoration:none;vertical-align:sub}@media (max-width:479px){.gt-container .gt-header-controls-tip{display:none}}.gt-container .gt-header-controls .gt-btn{float:right;margin-left:1.25em}@media (max-width:479px){.gt-container .gt-header-controls .gt-btn{float:none;width:100%;margin:.75em 0 0}}.gt-container:after{content:"";position:fixed;bottom:100%;left:0;right:0;top:0;opacity:0}.gt-container.gt-input-focused{position:relative}.gt-container.gt-input-focused:after{content:"";position:fixed;bottom:0;left:0;right:0;top:0;background:#000;opacity:.6;-webkit-transition:opacity .3s,bottom 0s;transition:opacity .3s,bottom 0s;z-index:9999}.gt-container.gt-input-focused .gt-header-comment{z-index:10000}.gt-container .gt-comments{padding-top:1.25em}.gt-container .gt-comments-null{text-align:center}.gt-container .gt-comments-controls{margin:1.25em 0;text-align:center}.gt-container .gt-comment{position:relative;padding:.625em 0;display:-webkit-box;display:-ms-flexbox;display:flex}.gt-container .gt-comment-content{-webkit-box-flex:1;-ms-flex:1;flex:1;margin-left:1.25em;padding:.75em 1em;background-color:#f9f9f9;overflow:auto;-webkit-transition:all .25s ease;transition:all .25s ease}.gt-container .gt-comment-content:hover{-webkit-box-shadow:0 .625em 3.75em 0 #f4f4f4;box-shadow:0 .625em 3.75em 0 #f4f4f4}@media (max-width:479px){.gt-container .gt-comment-content{margin-left:.875em;padding:.625em .75em}}.gt-container .gt-comment-header{margin-bottom:.5em;font-size:.875em;position:relative}.gt-container .gt-comment-block-1{float:right;height:1.375em;width:2em}.gt-container .gt-comment-block-2{float:right;height:1.375em;width:4em}.gt-container .gt-comment-username{font-weight:500;color:#6190e8;text-decoration:none}.gt-container .gt-comment-username:hover{text-decoration:underline}.gt-container .gt-comment-date,.gt-container .gt-comment-text{margin-left:.5em;color:#a1a1a1}.gt-container .gt-comment-edit,.gt-container .gt-comment-like,.gt-container .gt-comment-reply{position:absolute;height:1.375em}.gt-container .gt-comment-edit:hover,.gt-container .gt-comment-like:hover,.gt-container .gt-comment-reply:hover{cursor:pointer}.gt-container .gt-comment-like{top:0;right:2em}.gt-container .gt-comment-edit,.gt-container .gt-comment-reply{top:0;right:0}.gt-container .gt-comment-body{color:#333!important}.gt-container .gt-comment-body .email-hidden-toggle a{display:inline-block;height:12px;padding:0 9px;font-size:12px;font-weight:600;line-height:6px;color:#444d56;text-decoration:none;vertical-align:middle;background:#dfe2e5;border-radius:1px}.gt-container .gt-comment-body .email-hidden-toggle a:hover{background-color:#c6cbd1}.gt-container .gt-comment-body .email-hidden-reply{display:none;white-space:pre-wrap}.gt-container .gt-comment-body .email-hidden-reply .email-signature-reply{padding:0 15px;margin:15px 0;color:#586069;border-left:4px solid #dfe2e5}.gt-container .gt-comment-body .email-hidden-reply.expanded{display:block}.gt-container .gt-comment-admin .gt-comment-content{background-color:#f6f9fe}@-webkit-keyframes gt-kf-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes gt-kf-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}

/*! Source: https://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css */@media print{*,:after,:before{color:#000!important;text-shadow:none!important;background:transparent!important;box-shadow:none!important}a,a:visited{text-decoration:underline}a[href]:after{content:" (" attr(href) ")"}abbr[title]:after{content:" (" attr(title) ")"}a[href^="#"]:after,a[href^="javascript:"]:after{content:""}blockquote,pre{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}img{max-width:100%!important}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}.navbar{display:none}.btn>.caret,.dropup>.btn>.caret{border-top-color:#000!important}.label{border:1px solid #000}.table{border-collapse:collapse!important}.table td,.table th{background-color:#fff!important}.table-bordered td,.table-bordered th{border:1px solid #ddd!important}}@font-face{font-family:Glyphicons Halflings;src:url(twbs-font-path("bootstrap/glyphicons-halflings-regular.eot"));src:url(twbs-font-path("bootstrap/glyphicons-halflings-regular.eot?#iefix")) format("embedded-opentype"),url(twbs-font-path("bootstrap/glyphicons-halflings-regular.woff2")) format("woff2"),url(twbs-font-path("bootstrap/glyphicons-halflings-regular.woff")) format("woff"),url(twbs-font-path("bootstrap/glyphicons-halflings-regular.ttf")) format("truetype"),url(twbs-font-path("bootstrap/glyphicons-halflings-regular.svg#glyphicons_halflingsregular")) format("svg")}.glyphicon{position:relative;top:1px;display:inline-block;font-family:Glyphicons Halflings;font-style:normal;font-weight:400;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.glyphicon-asterisk:before{content:"*"}.glyphicon-plus:before{content:"+"}.glyphicon-eur:before,.glyphicon-euro:before{content:"\20AC"}.glyphicon-minus:before{content:"\2212"}.glyphicon-cloud:before{content:"\2601"}.glyphicon-envelope:before{content:"\2709"}.glyphicon-pencil:before{content:"\270F"}.glyphicon-glass:before{content:"\E001"}.glyphicon-music:before{content:"\E002"}.glyphicon-search:before{content:"\E003"}.glyphicon-heart:before{content:"\E005"}.glyphicon-star:before{content:"\E006"}.glyphicon-star-empty:before{content:"\E007"}.glyphicon-user:before{content:"\E008"}.glyphicon-film:before{content:"\E009"}.glyphicon-th-large:before{content:"\E010"}.glyphicon-th:before{content:"\E011"}.glyphicon-th-list:before{content:"\E012"}.glyphicon-ok:before{content:"\E013"}.glyphicon-remove:before{content:"\E014"}.glyphicon-zoom-in:before{content:"\E015"}.glyphicon-zoom-out:before{content:"\E016"}.glyphicon-off:before{content:"\E017"}.glyphicon-signal:before{content:"\E018"}.glyphicon-cog:before{content:"\E019"}.glyphicon-trash:before{content:"\E020"}.glyphicon-home:before{content:"\E021"}.glyphicon-file:before{content:"\E022"}.glyphicon-time:before{content:"\E023"}.glyphicon-road:before{content:"\E024"}.glyphicon-download-alt:before{content:"\E025"}.glyphicon-download:before{content:"\E026"}.glyphicon-upload:before{content:"\E027"}.glyphicon-inbox:before{content:"\E028"}.glyphicon-play-circle:before{content:"\E029"}.glyphicon-repeat:before{content:"\E030"}.glyphicon-refresh:before{content:"\E031"}.glyphicon-list-alt:before{content:"\E032"}.glyphicon-lock:before{content:"\E033"}.glyphicon-flag:before{content:"\E034"}.glyphicon-headphones:before{content:"\E035"}.glyphicon-volume-off:before{content:"\E036"}.glyphicon-volume-down:before{content:"\E037"}.glyphicon-volume-up:before{content:"\E038"}.glyphicon-qrcode:before{content:"\E039"}.glyphicon-barcode:before{content:"\E040"}.glyphicon-tag:before{content:"\E041"}.glyphicon-tags:before{content:"\E042"}.glyphicon-book:before{content:"\E043"}.glyphicon-bookmark:before{content:"\E044"}.glyphicon-print:before{content:"\E045"}.glyphicon-camera:before{content:"\E046"}.glyphicon-font:before{content:"\E047"}.glyphicon-bold:before{content:"\E048"}.glyphicon-italic:before{content:"\E049"}.glyphicon-text-height:before{content:"\E050"}.glyphicon-text-width:before{content:"\E051"}.glyphicon-align-left:before{content:"\E052"}.glyphicon-align-center:before{content:"\E053"}.glyphicon-align-right:before{content:"\E054"}.glyphicon-align-justify:before{content:"\E055"}.glyphicon-list:before{content:"\E056"}.glyphicon-indent-left:before{content:"\E057"}.glyphicon-indent-right:before{content:"\E058"}.glyphicon-facetime-video:before{content:"\E059"}.glyphicon-picture:before{content:"\E060"}.glyphicon-map-marker:before{content:"\E062"}.glyphicon-adjust:before{content:"\E063"}.glyphicon-tint:before{content:"\E064"}.glyphicon-edit:before{content:"\E065"}.glyphicon-share:before{content:"\E066"}.glyphicon-check:before{content:"\E067"}.glyphicon-move:before{content:"\E068"}.glyphicon-step-backward:before{content:"\E069"}.glyphicon-fast-backward:before{content:"\E070"}.glyphicon-backward:before{content:"\E071"}.glyphicon-play:before{content:"\E072"}.glyphicon-pause:before{content:"\E073"}.glyphicon-stop:before{content:"\E074"}.glyphicon-forward:before{content:"\E075"}.glyphicon-fast-forward:before{content:"\E076"}.glyphicon-step-forward:before{content:"\E077"}.glyphicon-eject:before{content:"\E078"}.glyphicon-chevron-left:before{content:"\E079"}.glyphicon-chevron-right:before{content:"\E080"}.glyphicon-plus-sign:before{content:"\E081"}.glyphicon-minus-sign:before{content:"\E082"}.glyphicon-remove-sign:before{content:"\E083"}.glyphicon-ok-sign:before{content:"\E084"}.glyphicon-question-sign:before{content:"\E085"}.glyphicon-info-sign:before{content:"\E086"}.glyphicon-screenshot:before{content:"\E087"}.glyphicon-remove-circle:before{content:"\E088"}.glyphicon-ok-circle:before{content:"\E089"}.glyphicon-ban-circle:before{content:"\E090"}.glyphicon-arrow-left:before{content:"\E091"}.glyphicon-arrow-right:before{content:"\E092"}.glyphicon-arrow-up:before{content:"\E093"}.glyphicon-arrow-down:before{content:"\E094"}.glyphicon-share-alt:before{content:"\E095"}.glyphicon-resize-full:before{content:"\E096"}.glyphicon-resize-small:before{content:"\E097"}.glyphicon-exclamation-sign:before{content:"\E101"}.glyphicon-gift:before{content:"\E102"}.glyphicon-leaf:before{content:"\E103"}.glyphicon-fire:before{content:"\E104"}.glyphicon-eye-open:before{content:"\E105"}.glyphicon-eye-close:before{content:"\E106"}.glyphicon-warning-sign:before{content:"\E107"}.glyphicon-plane:before{content:"\E108"}.glyphicon-calendar:before{content:"\E109"}.glyphicon-random:before{content:"\E110"}.glyphicon-comment:before{content:"\E111"}.glyphicon-magnet:before{content:"\E112"}.glyphicon-chevron-up:before{content:"\E113"}.glyphicon-chevron-down:before{content:"\E114"}.glyphicon-retweet:before{content:"\E115"}.glyphicon-shopping-cart:before{content:"\E116"}.glyphicon-folder-close:before{content:"\E117"}.glyphicon-folder-open:before{content:"\E118"}.glyphicon-resize-vertical:before{content:"\E119"}.glyphicon-resize-horizontal:before{content:"\E120"}.glyphicon-hdd:before{content:"\E121"}.glyphicon-bullhorn:before{content:"\E122"}.glyphicon-bell:before{content:"\E123"}.glyphicon-certificate:before{content:"\E124"}.glyphicon-thumbs-up:before{content:"\E125"}.glyphicon-thumbs-down:before{content:"\E126"}.glyphicon-hand-right:before{content:"\E127"}.glyphicon-hand-left:before{content:"\E128"}.glyphicon-hand-up:before{content:"\E129"}.glyphicon-hand-down:before{content:"\E130"}.glyphicon-circle-arrow-right:before{content:"\E131"}.glyphicon-circle-arrow-left:before{content:"\E132"}.glyphicon-circle-arrow-up:before{content:"\E133"}.glyphicon-circle-arrow-down:before{content:"\E134"}.glyphicon-globe:before{content:"\E135"}.glyphicon-wrench:before{content:"\E136"}.glyphicon-tasks:before{content:"\E137"}.glyphicon-filter:before{content:"\E138"}.glyphicon-briefcase:before{content:"\E139"}.glyphicon-fullscreen:before{content:"\E140"}.glyphicon-dashboard:before{content:"\E141"}.glyphicon-paperclip:before{content:"\E142"}.glyphicon-heart-empty:before{content:"\E143"}.glyphicon-link:before{content:"\E144"}.glyphicon-phone:before{content:"\E145"}.glyphicon-pushpin:before{content:"\E146"}.glyphicon-usd:before{content:"\E148"}.glyphicon-gbp:before{content:"\E149"}.glyphicon-sort:before{content:"\E150"}.glyphicon-sort-by-alphabet:before{content:"\E151"}.glyphicon-sort-by-alphabet-alt:before{content:"\E152"}.glyphicon-sort-by-order:before{content:"\E153"}.glyphicon-sort-by-order-alt:before{content:"\E154"}.glyphicon-sort-by-attributes:before{content:"\E155"}.glyphicon-sort-by-attributes-alt:before{content:"\E156"}.glyphicon-unchecked:before{content:"\E157"}.glyphicon-expand:before{content:"\E158"}.glyphicon-collapse-down:before{content:"\E159"}.glyphicon-collapse-up:before{content:"\E160"}.glyphicon-log-in:before{content:"\E161"}.glyphicon-flash:before{content:"\E162"}.glyphicon-log-out:before{content:"\E163"}.glyphicon-new-window:before{content:"\E164"}.glyphicon-record:before{content:"\E165"}.glyphicon-save:before{content:"\E166"}.glyphicon-open:before{content:"\E167"}.glyphicon-saved:before{content:"\E168"}.glyphicon-import:before{content:"\E169"}.glyphicon-export:before{content:"\E170"}.glyphicon-send:before{content:"\E171"}.glyphicon-floppy-disk:before{content:"\E172"}.glyphicon-floppy-saved:before{content:"\E173"}.glyphicon-floppy-remove:before{content:"\E174"}.glyphicon-floppy-save:before{content:"\E175"}.glyphicon-floppy-open:before{content:"\E176"}.glyphicon-credit-card:before{content:"\E177"}.glyphicon-transfer:before{content:"\E178"}.glyphicon-cutlery:before{content:"\E179"}.glyphicon-header:before{content:"\E180"}.glyphicon-compressed:before{content:"\E181"}.glyphicon-earphone:before{content:"\E182"}.glyphicon-phone-alt:before{content:"\E183"}.glyphicon-tower:before{content:"\E184"}.glyphicon-stats:before{content:"\E185"}.glyphicon-sd-video:before{content:"\E186"}.glyphicon-hd-video:before{content:"\E187"}.glyphicon-subtitles:before{content:"\E188"}.glyphicon-sound-stereo:before{content:"\E189"}.glyphicon-sound-dolby:before{content:"\E190"}.glyphicon-sound-5-1:before{content:"\E191"}.glyphicon-sound-6-1:before{content:"\E192"}.glyphicon-sound-7-1:before{content:"\E193"}.glyphicon-copyright-mark:before{content:"\E194"}.glyphicon-registration-mark:before{content:"\E195"}.glyphicon-cloud-download:before{content:"\E197"}.glyphicon-cloud-upload:before{content:"\E198"}.glyphicon-tree-conifer:before{content:"\E199"}.glyphicon-tree-deciduous:before{content:"\E200"}.glyphicon-cd:before{content:"\E201"}.glyphicon-save-file:before{content:"\E202"}.glyphicon-open-file:before{content:"\E203"}.glyphicon-level-up:before{content:"\E204"}.glyphicon-copy:before{content:"\E205"}.glyphicon-paste:before{content:"\E206"}.glyphicon-alert:before{content:"\E209"}.glyphicon-equalizer:before{content:"\E210"}.glyphicon-king:before{content:"\E211"}.glyphicon-queen:before{content:"\E212"}.glyphicon-pawn:before{content:"\E213"}.glyphicon-bishop:before{content:"\E214"}.glyphicon-knight:before{content:"\E215"}.glyphicon-baby-formula:before{content:"\E216"}.glyphicon-tent:before{content:"\26FA"}.glyphicon-blackboard:before{content:"\E218"}.glyphicon-bed:before{content:"\E219"}.glyphicon-apple:before{content:"\F8FF"}.glyphicon-erase:before{content:"\E221"}.glyphicon-hourglass:before{content:"\231B"}.glyphicon-lamp:before{content:"\E223"}.glyphicon-duplicate:before{content:"\E224"}.glyphicon-piggy-bank:before{content:"\E225"}.glyphicon-scissors:before{content:"\E226"}.glyphicon-bitcoin:before,.glyphicon-btc:before,.glyphicon-xbt:before{content:"\E227"}.glyphicon-jpy:before,.glyphicon-yen:before{content:"\A5"}.glyphicon-rub:before,.glyphicon-ruble:before{content:"\20BD"}.glyphicon-scale:before{content:"\E230"}.glyphicon-ice-lolly:before{content:"\E231"}.glyphicon-ice-lolly-tasted:before{content:"\E232"}.glyphicon-education:before{content:"\E233"}.glyphicon-option-horizontal:before{content:"\E234"}.glyphicon-option-vertical:before{content:"\E235"}.glyphicon-menu-hamburger:before{content:"\E236"}.glyphicon-modal-window:before{content:"\E237"}.glyphicon-oil:before{content:"\E238"}.glyphicon-grain:before{content:"\E239"}.glyphicon-sunglasses:before{content:"\E240"}.glyphicon-text-size:before{content:"\E241"}.glyphicon-text-color:before{content:"\E242"}.glyphicon-text-background:before{content:"\E243"}.glyphicon-object-align-top:before{content:"\E244"}.glyphicon-object-align-bottom:before{content:"\E245"}.glyphicon-object-align-horizontal:before{content:"\E246"}.glyphicon-object-align-left:before{content:"\E247"}.glyphicon-object-align-vertical:before{content:"\E248"}.glyphicon-object-align-right:before{content:"\E249"}.glyphicon-triangle-right:before{content:"\E250"}.glyphicon-triangle-left:before{content:"\E251"}.glyphicon-triangle-bottom:before{content:"\E252"}.glyphicon-triangle-top:before{content:"\E253"}.glyphicon-console:before{content:"\E254"}.glyphicon-superscript:before{content:"\E255"}.glyphicon-subscript:before{content:"\E256"}.glyphicon-menu-left:before{content:"\E257"}.glyphicon-menu-right:before{content:"\E258"}.glyphicon-menu-down:before{content:"\E259"}.glyphicon-menu-up:before{content:"\E260"}*,:after,:before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html{font-size:10px;-webkit-tap-highlight-color:rgba(0,0,0,0)}body{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;line-height:1.42857;background-color:#fff}button,input,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit}a{color:#337ab7;text-decoration:none}a:focus,a:hover{color:#23527c;text-decoration:underline}a:focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}figure{margin:0}img{vertical-align:middle}.img-responsive{display:block;max-width:100%;height:auto}.img-rounded{border-radius:6px}.img-thumbnail{padding:4px;line-height:1.42857;background-color:#fff;border:1px solid #ddd;border-radius:4px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;display:inline-block;max-width:100%;height:auto}.img-circle{border-radius:50%}hr{margin-top:20px;margin-bottom:20px;border:0;border-top:1px solid #eee}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}[role=button]{cursor:pointer}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{font-family:inherit;font-weight:500;line-height:1.1;color:inherit}.h1 .small,.h1 small,.h2 .small,.h2 small,.h3 .small,.h3 small,.h4 .small,.h4 small,.h5 .small,.h5 small,.h6 .small,.h6 small,h1 .small,h1 small,h2 .small,h2 small,h3 .small,h3 small,h4 .small,h4 small,h5 .small,h5 small,h6 .small,h6 small{font-weight:400;line-height:1;color:#777}.h1,.h2,.h3,h1,h2,h3{margin-top:20px;margin-bottom:10px}.h1 .small,.h1 small,.h2 .small,.h2 small,.h3 .small,.h3 small,h1 .small,h1 small,h2 .small,h2 small,h3 .small,h3 small{font-size:65%}.h4,.h5,.h6,h4,h5,h6{margin-top:10px;margin-bottom:10px}.h4 .small,.h4 small,.h5 .small,.h5 small,.h6 .small,.h6 small,h4 .small,h4 small,h5 .small,h5 small,h6 .small,h6 small{font-size:75%}.h1,h1{font-size:36px}.h2,h2{font-size:30px}.h3,h3{font-size:24px}.h4,h4{font-size:18px}.h5,h5{font-size:14px}.h6,h6{font-size:12px}p{margin:0 0 10px}.lead{margin-bottom:20px;font-size:18px;font-weight:300;line-height:1.4}@media (min-width:768px){.lead{font-size:24px}}.small,small{font-size:75%}.mark,mark{padding:.2em;background-color:#fcf8e3}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}.text-justify{text-align:justify}.text-nowrap{white-space:nowrap}.text-lowercase{text-transform:lowercase}.initialism,.text-uppercase{text-transform:uppercase}.text-capitalize{text-transform:capitalize}.text-muted{color:#777}.text-primary{color:#337ab7}a.text-primary:focus,a.text-primary:hover{color:#286090}.text-success{color:#3c763d}a.text-success:focus,a.text-success:hover{color:#2b542c}.text-info{color:#31708f}a.text-info:focus,a.text-info:hover{color:#245269}.text-warning{color:#8a6d3b}a.text-warning:focus,a.text-warning:hover{color:#66512c}.text-danger{color:#a94442}a.text-danger:focus,a.text-danger:hover{color:#843534}.bg-primary{color:#fff;background-color:#337ab7}a.bg-primary:focus,a.bg-primary:hover{background-color:#286090}.bg-success{background-color:#dff0d8}a.bg-success:focus,a.bg-success:hover{background-color:#c1e2b3}.bg-info{background-color:#d9edf7}a.bg-info:focus,a.bg-info:hover{background-color:#afd9ee}.bg-warning{background-color:#fcf8e3}a.bg-warning:focus,a.bg-warning:hover{background-color:#f7ecb5}.bg-danger{background-color:#f2dede}a.bg-danger:focus,a.bg-danger:hover{background-color:#e4b9b9}.page-header{padding-bottom:9px;margin:40px 0 20px;border-bottom:1px solid #eee}ol,ul{margin-top:0;margin-bottom:10px}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}.list-inline,.list-unstyled{padding-left:0;list-style:none}.list-inline{margin-left:-5px}.list-inline>li{display:inline-block;padding-right:5px;padding-left:5px}dl{margin-top:0;margin-bottom:20px}dd,dt{line-height:1.42857}dt{font-weight:700}dd{margin-left:0}.dl-horizontal dd:after,.dl-horizontal dd:before{display:table;content:" "}.dl-horizontal dd:after{clear:both}@media (min-width:768px){.dl-horizontal dt{float:left;width:160px;clear:left;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dl-horizontal dd{margin-left:180px}}abbr[data-original-title],abbr[title]{cursor:help}.initialism{font-size:90%}blockquote{padding:10px 20px;margin:0 0 20px;font-size:17.5px;border-left:5px solid #eee}blockquote ol:last-child,blockquote p:last-child,blockquote ul:last-child{margin-bottom:0}blockquote .small,blockquote footer,blockquote small{display:block;font-size:80%;line-height:1.42857;color:#777}blockquote .small:before,blockquote footer:before,blockquote small:before{content:"\2014   \A0"}.blockquote-reverse,blockquote.pull-right{padding-right:15px;padding-left:0;text-align:right;border-right:5px solid #eee;border-left:0}.blockquote-reverse .small:before,.blockquote-reverse footer:before,.blockquote-reverse small:before,blockquote.pull-right .small:before,blockquote.pull-right footer:before,blockquote.pull-right small:before{content:""}.blockquote-reverse .small:after,.blockquote-reverse footer:after,.blockquote-reverse small:after,blockquote.pull-right .small:after,blockquote.pull-right footer:after,blockquote.pull-right small:after{content:"\A0   \2014"}address{margin-bottom:20px;font-style:normal;line-height:1.42857}code,kbd,pre,samp{font-family:Menlo,Monaco,Consolas,Courier New,monospace}code{color:#c7254e;background-color:#f9f2f4;border-radius:4px}code,kbd{padding:2px 4px;font-size:90%}kbd{color:#fff;background-color:#333;border-radius:3px;box-shadow:inset 0 -1px 0 rgba(0,0,0,.25)}kbd kbd{padding:0;font-size:100%;font-weight:700;box-shadow:none}pre{display:block;padding:9.5px;margin:0 0 10px;font-size:15px;line-height:1.42857;color:#333;word-break:break-all;word-wrap:break-word;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px}pre code{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0}.pre-scrollable{max-height:340px;overflow-y:scroll}fieldset{min-width:0;margin:0}fieldset,legend{padding:0;border:0}legend{display:block;width:100%;margin-bottom:20px;font-size:24px;line-height:inherit;color:#333;border-bottom:1px solid #e5e5e5}label{display:inline-block;max-width:100%;margin-bottom:5px;font-weight:700}input[type=search]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;appearance:none}input[type=checkbox],input[type=radio]{margin:4px 0 0;margin-top:1px\9;line-height:normal}fieldset[disabled] input[type=checkbox],fieldset[disabled] input[type=radio],input[type=checkbox].disabled,input[type=checkbox][disabled],input[type=radio].disabled,input[type=radio][disabled]{cursor:not-allowed}input[type=file]{display:block}input[type=range]{display:block;width:100%}select[multiple],select[size]{height:auto}input[type=checkbox]:focus,input[type=file]:focus,input[type=radio]:focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}output{padding-top:7px}.form-control,output{display:block;font-size:16px;line-height:1.42857;color:#555}.form-control{width:100%;height:34px;padding:6px 12px;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.form-control::-moz-placeholder{color:#999;opacity:1}.form-control:-ms-input-placeholder{color:#999}.form-control::-webkit-input-placeholder{color:#999}.form-control::-ms-expand{background-color:transparent;border:0}.form-control[disabled],.form-control[readonly],fieldset[disabled] .form-control{background-color:#eee;opacity:1}.form-control[disabled],fieldset[disabled] .form-control{cursor:not-allowed}textarea.form-control{height:auto}@media screen and (-webkit-min-device-pixel-ratio:0){input[type=date].form-control,input[type=datetime-local].form-control,input[type=month].form-control,input[type=time].form-control{line-height:34px}.input-group-sm input[type=date],.input-group-sm input[type=datetime-local],.input-group-sm input[type=month],.input-group-sm input[type=time],input[type=date].input-sm,input[type=datetime-local].input-sm,input[type=month].input-sm,input[type=time].input-sm{line-height:30px}.input-group-lg input[type=date],.input-group-lg input[type=datetime-local],.input-group-lg input[type=month],.input-group-lg input[type=time],input[type=date].input-lg,input[type=datetime-local].input-lg,input[type=month].input-lg,input[type=time].input-lg{line-height:46px}}.form-group{margin-bottom:15px}.checkbox,.radio{position:relative;display:block;margin-top:10px;margin-bottom:10px}.checkbox.disabled label,.radio.disabled label,fieldset[disabled] .checkbox label,fieldset[disabled] .radio label{cursor:not-allowed}.checkbox label,.radio label{min-height:20px;padding-left:20px;margin-bottom:0;font-weight:400;cursor:pointer}.checkbox-inline input[type=checkbox],.checkbox input[type=checkbox],.radio-inline input[type=radio],.radio input[type=radio]{position:absolute;margin-top:4px\9;margin-left:-20px}.checkbox+.checkbox,.radio+.radio{margin-top:-5px}.checkbox-inline,.radio-inline{position:relative;display:inline-block;padding-left:20px;margin-bottom:0;font-weight:400;vertical-align:middle;cursor:pointer}.checkbox-inline.disabled,.radio-inline.disabled,fieldset[disabled] .checkbox-inline,fieldset[disabled] .radio-inline{cursor:not-allowed}.checkbox-inline+.checkbox-inline,.radio-inline+.radio-inline{margin-top:0;margin-left:10px}.form-control-static{min-height:36px;padding-top:7px;padding-bottom:7px;margin-bottom:0}.form-control-static.input-lg,.form-control-static.input-sm{padding-right:0;padding-left:0}.input-sm{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}select.input-sm{height:30px;line-height:30px}select[multiple].input-sm,textarea.input-sm{height:auto}.form-group-sm .form-control{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.form-group-sm select.form-control{height:30px;line-height:30px}.form-group-sm select[multiple].form-control,.form-group-sm textarea.form-control{height:auto}.form-group-sm .form-control-static{height:30px;min-height:32px;padding:6px 10px;font-size:12px;line-height:1.5}.input-lg{height:46px;padding:10px 16px;font-size:18px;line-height:1.33333;border-radius:6px}select.input-lg{height:46px;line-height:46px}select[multiple].input-lg,textarea.input-lg{height:auto}.form-group-lg .form-control{height:46px;padding:10px 16px;font-size:18px;line-height:1.33333;border-radius:6px}.form-group-lg select.form-control{height:46px;line-height:46px}.form-group-lg select[multiple].form-control,.form-group-lg textarea.form-control{height:auto}.form-group-lg .form-control-static{height:46px;min-height:38px;padding:11px 16px;font-size:18px;line-height:1.33333}.has-feedback{position:relative}.has-feedback .form-control{padding-right:42.5px}.form-control-feedback{position:absolute;top:0;right:0;z-index:2;display:block;width:34px;height:34px;line-height:34px;text-align:center;pointer-events:none}.form-group-lg .form-control+.form-control-feedback,.input-group-lg+.form-control-feedback,.input-lg+.form-control-feedback{width:46px;height:46px;line-height:46px}.form-group-sm .form-control+.form-control-feedback,.input-group-sm+.form-control-feedback,.input-sm+.form-control-feedback{width:30px;height:30px;line-height:30px}.has-success .checkbox,.has-success .checkbox-inline,.has-success.checkbox-inline label,.has-success.checkbox label,.has-success .control-label,.has-success .help-block,.has-success .radio,.has-success .radio-inline,.has-success.radio-inline label,.has-success.radio label{color:#3c763d}.has-success .form-control{border-color:#3c763d;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-success .form-control:focus{border-color:#2b542c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168}.has-success .input-group-addon{color:#3c763d;background-color:#dff0d8;border-color:#3c763d}.has-success .form-control-feedback{color:#3c763d}.has-warning .checkbox,.has-warning .checkbox-inline,.has-warning.checkbox-inline label,.has-warning.checkbox label,.has-warning .control-label,.has-warning .help-block,.has-warning .radio,.has-warning .radio-inline,.has-warning.radio-inline label,.has-warning.radio label{color:#8a6d3b}.has-warning .form-control{border-color:#8a6d3b;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-warning .form-control:focus{border-color:#66512c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b}.has-warning .input-group-addon{color:#8a6d3b;background-color:#fcf8e3;border-color:#8a6d3b}.has-warning .form-control-feedback{color:#8a6d3b}.has-error .checkbox,.has-error .checkbox-inline,.has-error.checkbox-inline label,.has-error.checkbox label,.has-error .control-label,.has-error .help-block,.has-error .radio,.has-error .radio-inline,.has-error.radio-inline label,.has-error.radio label{color:#a94442}.has-error .form-control{border-color:#a94442;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-error .form-control:focus{border-color:#843534;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483}.has-error .input-group-addon{color:#a94442;background-color:#f2dede;border-color:#a94442}.has-error .form-control-feedback{color:#a94442}.has-feedback label~.form-control-feedback{top:25px}.has-feedback label.sr-only~.form-control-feedback{top:0}.help-block{display:block;margin-top:5px;margin-bottom:10px;color:#737373}@media (min-width:768px){.form-inline .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .form-control-static{display:inline-block}.form-inline .input-group{display:inline-table;vertical-align:middle}.form-inline .input-group .form-control,.form-inline .input-group .input-group-addon,.form-inline .input-group .input-group-btn{width:auto}.form-inline .input-group>.form-control{width:100%}.form-inline .control-label{margin-bottom:0;vertical-align:middle}.form-inline .checkbox,.form-inline .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.form-inline .checkbox label,.form-inline .radio label{padding-left:0}.form-inline .checkbox input[type=checkbox],.form-inline .radio input[type=radio]{position:relative;margin-left:0}.form-inline .has-feedback .form-control-feedback{top:0}}.form-horizontal .checkbox,.form-horizontal .checkbox-inline,.form-horizontal .radio,.form-horizontal .radio-inline{padding-top:7px;margin-top:0;margin-bottom:0}.form-horizontal .checkbox,.form-horizontal .radio{min-height:27px}.form-horizontal .form-group{margin-right:-15px;margin-left:-15px}.form-horizontal .form-group:after,.form-horizontal .form-group:before{display:table;content:" "}.form-horizontal .form-group:after{clear:both}@media (min-width:768px){.form-horizontal .control-label{padding-top:7px;margin-bottom:0;text-align:right}}.form-horizontal .has-feedback .form-control-feedback{right:15px}@media (min-width:768px){.form-horizontal .form-group-lg .control-label{padding-top:11px;font-size:18px}}@media (min-width:768px){.form-horizontal .form-group-sm .control-label{padding-top:6px;font-size:12px}}.navbar{position:relative;min-height:50px;margin-bottom:20px;border:1px solid transparent}.navbar:after,.navbar:before{display:table;content:" "}.navbar:after{clear:both}@media (min-width:768px){.navbar{border-radius:4px}}.navbar-header:after,.navbar-header:before{display:table;content:" "}.navbar-header:after{clear:both}@media (min-width:768px){.navbar-header{float:left}}.navbar-collapse{padding-right:15px;padding-left:15px;overflow-x:visible;border-top:1px solid transparent;box-shadow:inset 0 1px 0 hsla(0,0%,100%,.1);-webkit-overflow-scrolling:touch}.navbar-collapse:after,.navbar-collapse:before{display:table;content:" "}.navbar-collapse:after{clear:both}.navbar-collapse.in{overflow-y:auto}@media (min-width:768px){.navbar-collapse{width:auto;border-top:0;box-shadow:none}.navbar-collapse.collapse{display:block!important;height:auto!important;padding-bottom:0;overflow:visible!important}.navbar-collapse.in{overflow-y:visible}.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse,.navbar-static-top .navbar-collapse{padding-right:0;padding-left:0}}.navbar-fixed-bottom,.navbar-fixed-top{position:fixed;right:0;left:0;z-index:1030}.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse{max-height:340px}@media (max-device-width:480px) and (orientation:landscape){.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse{max-height:200px}}@media (min-width:768px){.navbar-fixed-bottom,.navbar-fixed-top{border-radius:0}}.navbar-fixed-top{top:0;border-width:0 0 1px}.navbar-fixed-bottom{bottom:0;margin-bottom:0;border-width:1px 0 0}.container-fluid>.navbar-collapse,.container-fluid>.navbar-header,.container>.navbar-collapse,.container>.navbar-header{margin-right:-15px;margin-left:-15px}@media (min-width:768px){.container-fluid>.navbar-collapse,.container-fluid>.navbar-header,.container>.navbar-collapse,.container>.navbar-header{margin-right:0;margin-left:0}}.navbar-static-top{z-index:1000;border-width:0 0 1px}@media (min-width:768px){.navbar-static-top{border-radius:0}}.navbar-brand{float:left;height:50px;padding:15px;font-size:18px;line-height:20px}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}.navbar-brand>img{display:block}@media (min-width:768px){.navbar>.container-fluid .navbar-brand,.navbar>.container .navbar-brand{margin-left:-15px}}.navbar-toggle{position:relative;float:right;padding:9px 10px;margin-right:15px;margin-top:8px;margin-bottom:8px;background-color:transparent;background-image:none;border:1px solid transparent;border-radius:4px}.navbar-toggle:focus{outline:0}.navbar-toggle .icon-bar{display:block;width:22px;height:2px;border-radius:1px}.navbar-toggle .icon-bar+.icon-bar{margin-top:4px}@media (min-width:768px){.navbar-toggle{display:none}}.navbar-nav{margin:7.5px -15px}.navbar-nav>li>a{padding-top:10px;padding-bottom:10px;line-height:20px}@media (max-width:767px){.navbar-nav .open .dropdown-menu{position:static;float:none;width:auto;margin-top:0;background-color:transparent;border:0;box-shadow:none}.navbar-nav .open .dropdown-menu .dropdown-header,.navbar-nav .open .dropdown-menu>li>a{padding:5px 15px 5px 25px}.navbar-nav .open .dropdown-menu>li>a{line-height:20px}.navbar-nav .open .dropdown-menu>li>a:focus,.navbar-nav .open .dropdown-menu>li>a:hover{background-image:none}}@media (min-width:768px){.navbar-nav{float:left;margin:0}.navbar-nav>li{float:left}.navbar-nav>li>a{padding-top:15px;padding-bottom:15px}}.navbar-form{padding:10px 15px;margin:8px -15px;border-top:1px solid transparent;border-bottom:1px solid transparent;-webkit-box-shadow:inset 0 1px 0 hsla(0,0%,100%,.1),0 1px 0 hsla(0,0%,100%,.1);box-shadow:inset 0 1px 0 hsla(0,0%,100%,.1),0 1px 0 hsla(0,0%,100%,.1)}@media (min-width:768px){.navbar-form .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.navbar-form .form-control{display:inline-block;width:auto;vertical-align:middle}.navbar-form .form-control-static{display:inline-block}.navbar-form .input-group{display:inline-table;vertical-align:middle}.navbar-form .input-group .form-control,.navbar-form .input-group .input-group-addon,.navbar-form .input-group .input-group-btn{width:auto}.navbar-form .input-group>.form-control{width:100%}.navbar-form .control-label{margin-bottom:0;vertical-align:middle}.navbar-form .checkbox,.navbar-form .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.navbar-form .checkbox label,.navbar-form .radio label{padding-left:0}.navbar-form .checkbox input[type=checkbox],.navbar-form .radio input[type=radio]{position:relative;margin-left:0}.navbar-form .has-feedback .form-control-feedback{top:0}}@media (max-width:767px){.navbar-form .form-group{margin-bottom:5px}.navbar-form .form-group:last-child{margin-bottom:0}}@media (min-width:768px){.navbar-form{width:auto;padding-top:0;padding-bottom:0;margin-right:0;margin-left:0;border:0;-webkit-box-shadow:none;box-shadow:none}}.navbar-nav>li>.dropdown-menu{margin-top:0;border-top-left-radius:0;border-top-right-radius:0}.navbar-fixed-bottom .navbar-nav>li>.dropdown-menu{margin-bottom:0;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.navbar-btn{margin-top:8px;margin-bottom:8px}.navbar-btn.btn-sm{margin-top:10px;margin-bottom:10px}.navbar-btn.btn-xs{margin-top:14px;margin-bottom:14px}.navbar-text{margin-top:15px;margin-bottom:15px}@media (min-width:768px){.navbar-text{float:left;margin-right:15px;margin-left:15px}}@media (min-width:768px){.navbar-left{float:left!important}.navbar-right{float:right!important;margin-right:-15px}.navbar-right~.navbar-right{margin-right:0}}.navbar-default{background-color:#f8f8f8;border-color:#e7e7e7}.navbar-default .navbar-brand{color:#777}.navbar-default .navbar-brand:focus,.navbar-default .navbar-brand:hover{color:#5e5e5e;background-color:transparent}.navbar-default .navbar-nav>li>a,.navbar-default .navbar-text{color:#777}.navbar-default .navbar-nav>li>a:focus,.navbar-default .navbar-nav>li>a:hover{color:#333;background-color:transparent}.navbar-default .navbar-nav>.active>a,.navbar-default .navbar-nav>.active>a:focus,.navbar-default .navbar-nav>.active>a:hover{color:#555;background-color:#e7e7e7}.navbar-default .navbar-nav>.disabled>a,.navbar-default .navbar-nav>.disabled>a:focus,.navbar-default .navbar-nav>.disabled>a:hover{color:#ccc;background-color:transparent}.navbar-default .navbar-nav>.open>a,.navbar-default .navbar-nav>.open>a:focus,.navbar-default .navbar-nav>.open>a:hover{color:#555;background-color:#e7e7e7}@media (max-width:767px){.navbar-default .navbar-nav .open .dropdown-menu>li>a{color:#777}.navbar-default .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>li>a:hover{color:#333;background-color:transparent}.navbar-default .navbar-nav .open .dropdown-menu>.active>a,.navbar-default .navbar-nav .open .dropdown-menu>.active>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>.active>a:hover{color:#555;background-color:#e7e7e7}.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a,.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#ccc;background-color:transparent}}.navbar-default .navbar-toggle{border-color:#ddd}.navbar-default .navbar-toggle:focus,.navbar-default .navbar-toggle:hover{background-color:#ddd}.navbar-default .navbar-toggle .icon-bar{background-color:#888}.navbar-default .navbar-collapse,.navbar-default .navbar-form{border-color:#e7e7e7}.navbar-default .navbar-link{color:#777}.navbar-default .navbar-link:hover{color:#333}.navbar-default .btn-link{color:#777}.navbar-default .btn-link:focus,.navbar-default .btn-link:hover{color:#333}.navbar-default .btn-link[disabled]:focus,.navbar-default .btn-link[disabled]:hover,fieldset[disabled] .navbar-default .btn-link:focus,fieldset[disabled] .navbar-default .btn-link:hover{color:#ccc}.navbar-inverse{background-color:#222;border-color:#090909}.navbar-inverse .navbar-brand{color:#9d9d9d}.navbar-inverse .navbar-brand:focus,.navbar-inverse .navbar-brand:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav>li>a,.navbar-inverse .navbar-text{color:#9d9d9d}.navbar-inverse .navbar-nav>li>a:focus,.navbar-inverse .navbar-nav>li>a:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav>.active>a,.navbar-inverse .navbar-nav>.active>a:focus,.navbar-inverse .navbar-nav>.active>a:hover{color:#fff;background-color:#090909}.navbar-inverse .navbar-nav>.disabled>a,.navbar-inverse .navbar-nav>.disabled>a:focus,.navbar-inverse .navbar-nav>.disabled>a:hover{color:#444;background-color:transparent}.navbar-inverse .navbar-nav>.open>a,.navbar-inverse .navbar-nav>.open>a:focus,.navbar-inverse .navbar-nav>.open>a:hover{color:#fff;background-color:#090909}@media (max-width:767px){.navbar-inverse .navbar-nav .open .dropdown-menu>.dropdown-header{border-color:#090909}.navbar-inverse .navbar-nav .open .dropdown-menu .divider{background-color:#090909}.navbar-inverse .navbar-nav .open .dropdown-menu>li>a{color:#9d9d9d}.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:hover{color:#fff;background-color:#090909}.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#444;background-color:transparent}}.navbar-inverse .navbar-toggle{border-color:#333}.navbar-inverse .navbar-toggle:focus,.navbar-inverse .navbar-toggle:hover{background-color:#333}.navbar-inverse .navbar-toggle .icon-bar{background-color:#fff}.navbar-inverse .navbar-collapse,.navbar-inverse .navbar-form{border-color:#101010}.navbar-inverse .navbar-link{color:#9d9d9d}.navbar-inverse .navbar-link:hover{color:#fff}.navbar-inverse .btn-link{color:#9d9d9d}.navbar-inverse .btn-link:focus,.navbar-inverse .btn-link:hover{color:#fff}.navbar-inverse .btn-link[disabled]:focus,.navbar-inverse .btn-link[disabled]:hover,fieldset[disabled] .navbar-inverse .btn-link:focus,fieldset[disabled] .navbar-inverse .btn-link:hover{color:#444}.nav{padding-left:0;margin-bottom:0;list-style:none}.nav:after,.nav:before{display:table;content:" "}.nav:after{clear:both}.nav>li,.nav>li>a{position:relative;display:block}.nav>li>a{padding:10px 15px}.nav>li>a:focus,.nav>li>a:hover{text-decoration:none;background-color:#eee}.nav>li.disabled>a{color:#777}.nav>li.disabled>a:focus,.nav>li.disabled>a:hover{color:#777;text-decoration:none;cursor:not-allowed;background-color:transparent}.nav .open>a,.nav .open>a:focus,.nav .open>a:hover{background-color:#eee;border-color:#337ab7}.nav .nav-divider{height:1px;margin:9px 0;overflow:hidden;background-color:#e5e5e5}.nav>li>a>img{max-width:none}.nav-tabs{border-bottom:1px solid #ddd}.nav-tabs>li{float:left;margin-bottom:-1px}.nav-tabs>li>a{margin-right:2px;line-height:1.42857;border:1px solid transparent;border-radius:4px 4px 0 0}.nav-tabs>li>a:hover{border-color:#eee #eee #ddd}.nav-tabs>li.active>a,.nav-tabs>li.active>a:focus,.nav-tabs>li.active>a:hover{color:#555;cursor:default;background-color:#fff;border:1px solid #ddd;border-bottom-color:transparent}.nav-pills>li{float:left}.nav-pills>li>a{border-radius:4px}.nav-pills>li+li{margin-left:2px}.nav-pills>li.active>a,.nav-pills>li.active>a:focus,.nav-pills>li.active>a:hover{color:#fff;background-color:#337ab7}.nav-stacked>li{float:none}.nav-stacked>li+li{margin-top:2px;margin-left:0}.nav-justified,.nav-tabs.nav-justified{width:100%}.nav-justified>li,.nav-tabs.nav-justified>li{float:none}.nav-justified>li>a,.nav-tabs.nav-justified>li>a{margin-bottom:5px;text-align:center}.nav-justified>.dropdown .dropdown-menu{top:auto;left:auto}@media (min-width:768px){.nav-justified>li,.nav-tabs.nav-justified>li{display:table-cell;width:1%}.nav-justified>li>a,.nav-tabs.nav-justified>li>a{margin-bottom:0}}.nav-tabs-justified,.nav-tabs.nav-justified{border-bottom:0}.nav-tabs-justified>li>a,.nav-tabs.nav-justified>li>a{margin-right:0;border-radius:4px}.nav-tabs-justified>.active>a,.nav-tabs-justified>.active>a:focus,.nav-tabs-justified>.active>a:hover,.nav-tabs.nav-justified>.active>a,.nav-tabs.nav-justified>.active>a:focus,.nav-tabs.nav-justified>.active>a:hover{border:1px solid #ddd}@media (min-width:768px){.nav-tabs-justified>li>a,.nav-tabs.nav-justified>li>a{border-bottom:1px solid #ddd;border-radius:4px 4px 0 0}.nav-tabs-justified>.active>a,.nav-tabs-justified>.active>a:focus,.nav-tabs-justified>.active>a:hover,.nav-tabs.nav-justified>.active>a,.nav-tabs.nav-justified>.active>a:focus,.nav-tabs.nav-justified>.active>a:hover{border-bottom-color:#fff}}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.fade{opacity:0;-webkit-transition:opacity .15s linear;-o-transition:opacity .15s linear;transition:opacity .15s linear}.fade.in{opacity:1}.collapse{display:none}.collapse.in{display:block}tr.collapse.in{display:table-row}tbody.collapse.in{display:table-row-group}.collapsing{position:relative;height:0;overflow:hidden;-webkit-transition-property:height,visibility;transition-property:height,visibility;-webkit-transition-duration:.35s;transition-duration:.35s;-webkit-transition-timing-function:ease;transition-timing-function:ease}.container{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}.container:after,.container:before{display:table;content:" "}.container:after{clear:both}@media (min-width:768px){.container{width:750px}}@media (min-width:992px){.container{width:970px}}@media (min-width:1200px){.container{width:1170px}}@media (min-width:1720px){.container{width:1560px}}.container-fluid{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}.container-fluid:after,.container-fluid:before{display:table;content:" "}.container-fluid:after{clear:both}.row{margin-right:-15px;margin-left:-15px}.row:after,.row:before{display:table;content:" "}.row:after{clear:both}.col-lg-1,.col-md-1,.col-sm-1,.col-xs-1,.large-2,.large-3,.large-4,.large-5,.large-6,.large-7,.large-8,.large-9,.large-10,.large-11,.large-12,.medium-2,.medium-3,.medium-4,.medium-5,.medium-6,.medium-7,.medium-8,.medium-9,.medium-10,.medium-11,.medium-12,.small-2,.small-3,.small-4,.small-5,.small-6,.small-7,.small-8,.small-9,.small-10,.small-11,.small-12,.xsmall-2,.xsmall-3,.xsmall-4,.xsmall-5,.xsmall-6,.xsmall-7,.xsmall-8,.xsmall-9,.xsmall-10,.xsmall-11,.xsmall-12{position:relative;min-height:1px;padding-left:15px;padding-right:15px}.col-xsmall-1,.xsmall-2,.xsmall-3,.xsmall-4,.xsmall-5,.xsmall-6,.xsmall-7,.xsmall-8,.xsmall-9,.xsmall-10,.xsmall-11,.xsmall-12{float:left}.xsmall-1{width:8.33333%}.xsmall-2{width:16.66667%}.xsmall-3{width:25%}.xsmall-4{width:33.33333%}.xsmall-5{width:41.66667%}.xsmall-6{width:50%}.xsmall-7{width:58.33333%}.xsmall-8{width:66.66667%}.xsmall-9{width:75%}.xsmall-10{width:83.33333%}.xsmall-11{width:91.66667%}.xsmall-12{width:100%}.xsmall-pull-0{right:auto}.xsmall-pull-1{right:8.33333%}.xsmall-pull-2{right:16.66667%}.xsmall-pull-3{right:25%}.xsmall-pull-4{right:33.33333%}.xsmall-pull-5{right:41.66667%}.xsmall-pull-6{right:50%}.xsmall-pull-7{right:58.33333%}.xsmall-pull-8{right:66.66667%}.xsmall-pull-9{right:75%}.xsmall-pull-10{right:83.33333%}.xsmall-pull-11{right:91.66667%}.xsmall-pull-12{right:100%}.xsmall-push-0{left:auto}.xsmall-push-1{left:8.33333%}.xsmall-push-2{left:16.66667%}.xsmall-push-3{left:25%}.xsmall-push-4{left:33.33333%}.xsmall-push-5{left:41.66667%}.xsmall-push-6{left:50%}.xsmall-push-7{left:58.33333%}.xsmall-push-8{left:66.66667%}.xsmall-push-9{left:75%}.xsmall-push-10{left:83.33333%}.xsmall-push-11{left:91.66667%}.xsmall-push-12{left:100%}.xsmall-offset-0{margin-left:0}.xsmall-offset-1{margin-left:8.33333%}.xsmall-offset-2{margin-left:16.66667%}.xsmall-offset-3{margin-left:25%}.xsmall-offset-4{margin-left:33.33333%}.xsmall-offset-5{margin-left:41.66667%}.xsmall-offset-6{margin-left:50%}.xsmall-offset-7{margin-left:58.33333%}.xsmall-offset-8{margin-left:66.66667%}.xsmall-offset-9{margin-left:75%}.xsmall-offset-10{margin-left:83.33333%}.xsmall-offset-11{margin-left:91.66667%}.xsmall-offset-12{margin-left:100%}@media (min-width:768px){.col-small-1,.small-2,.small-3,.small-4,.small-5,.small-6,.small-7,.small-8,.small-9,.small-10,.small-11,.small-12{float:left}.small-1{width:8.33333%}.small-2{width:16.66667%}.small-3{width:25%}.small-4{width:33.33333%}.small-5{width:41.66667%}.small-6{width:50%}.small-7{width:58.33333%}.small-8{width:66.66667%}.small-9{width:75%}.small-10{width:83.33333%}.small-11{width:91.66667%}.small-12{width:100%}.small-pull-0{right:auto}.small-pull-1{right:8.33333%}.small-pull-2{right:16.66667%}.small-pull-3{right:25%}.small-pull-4{right:33.33333%}.small-pull-5{right:41.66667%}.small-pull-6{right:50%}.small-pull-7{right:58.33333%}.small-pull-8{right:66.66667%}.small-pull-9{right:75%}.small-pull-10{right:83.33333%}.small-pull-11{right:91.66667%}.small-pull-12{right:100%}.small-push-0{left:auto}.small-push-1{left:8.33333%}.small-push-2{left:16.66667%}.small-push-3{left:25%}.small-push-4{left:33.33333%}.small-push-5{left:41.66667%}.small-push-6{left:50%}.small-push-7{left:58.33333%}.small-push-8{left:66.66667%}.small-push-9{left:75%}.small-push-10{left:83.33333%}.small-push-11{left:91.66667%}.small-push-12{left:100%}.small-offset-0{margin-left:0}.small-offset-1{margin-left:8.33333%}.small-offset-2{margin-left:16.66667%}.small-offset-3{margin-left:25%}.small-offset-4{margin-left:33.33333%}.small-offset-5{margin-left:41.66667%}.small-offset-6{margin-left:50%}.small-offset-7{margin-left:58.33333%}.small-offset-8{margin-left:66.66667%}.small-offset-9{margin-left:75%}.small-offset-10{margin-left:83.33333%}.small-offset-11{margin-left:91.66667%}.small-offset-12{margin-left:100%}}@media (min-width:992px){.col-medium-1,.medium-2,.medium-3,.medium-4,.medium-5,.medium-6,.medium-7,.medium-8,.medium-9,.medium-10,.medium-11,.medium-12{float:left}.medium-1{width:8.33333%}.medium-2{width:16.66667%}.medium-3{width:25%}.medium-4{width:33.33333%}.medium-5{width:41.66667%}.medium-6{width:50%}.medium-7{width:58.33333%}.medium-8{width:66.66667%}.medium-9{width:75%}.medium-10{width:83.33333%}.medium-11{width:91.66667%}.medium-12{width:100%}.medium-pull-0{right:auto}.medium-pull-1{right:8.33333%}.medium-pull-2{right:16.66667%}.medium-pull-3{right:25%}.medium-pull-4{right:33.33333%}.medium-pull-5{right:41.66667%}.medium-pull-6{right:50%}.medium-pull-7{right:58.33333%}.medium-pull-8{right:66.66667%}.medium-pull-9{right:75%}.medium-pull-10{right:83.33333%}.medium-pull-11{right:91.66667%}.medium-pull-12{right:100%}.medium-push-0{left:auto}.medium-push-1{left:8.33333%}.medium-push-2{left:16.66667%}.medium-push-3{left:25%}.medium-push-4{left:33.33333%}.medium-push-5{left:41.66667%}.medium-push-6{left:50%}.medium-push-7{left:58.33333%}.medium-push-8{left:66.66667%}.medium-push-9{left:75%}.medium-push-10{left:83.33333%}.medium-push-11{left:91.66667%}.medium-push-12{left:100%}.medium-offset-0{margin-left:0}.medium-offset-1{margin-left:8.33333%}.medium-offset-2{margin-left:16.66667%}.medium-offset-3{margin-left:25%}.medium-offset-4{margin-left:33.33333%}.medium-offset-5{margin-left:41.66667%}.medium-offset-6{margin-left:50%}.medium-offset-7{margin-left:58.33333%}.medium-offset-8{margin-left:66.66667%}.medium-offset-9{margin-left:75%}.medium-offset-10{margin-left:83.33333%}.medium-offset-11{margin-left:91.66667%}.medium-offset-12{margin-left:100%}}@media (min-width:1200px){.col-large-1,.large-2,.large-3,.large-4,.large-5,.large-6,.large-7,.large-8,.large-9,.large-10,.large-11,.large-12{float:left}.large-1{width:8.33333%}.large-2{width:16.66667%}.large-3{width:25%}.large-4{width:33.33333%}.large-5{width:41.66667%}.large-6{width:50%}.large-7{width:58.33333%}.large-8{width:66.66667%}.large-9{width:75%}.large-10{width:83.33333%}.large-11{width:91.66667%}.large-12{width:100%}.large-pull-0{right:auto}.large-pull-1{right:8.33333%}.large-pull-2{right:16.66667%}.large-pull-3{right:25%}.large-pull-4{right:33.33333%}.large-pull-5{right:41.66667%}.large-pull-6{right:50%}.large-pull-7{right:58.33333%}.large-pull-8{right:66.66667%}.large-pull-9{right:75%}.large-pull-10{right:83.33333%}.large-pull-11{right:91.66667%}.large-pull-12{right:100%}.large-push-0{left:auto}.large-push-1{left:8.33333%}.large-push-2{left:16.66667%}.large-push-3{left:25%}.large-push-4{left:33.33333%}.large-push-5{left:41.66667%}.large-push-6{left:50%}.large-push-7{left:58.33333%}.large-push-8{left:66.66667%}.large-push-9{left:75%}.large-push-10{left:83.33333%}.large-push-11{left:91.66667%}.large-push-12{left:100%}.large-offset-0{margin-left:0}.large-offset-1{margin-left:8.33333%}.large-offset-2{margin-left:16.66667%}.large-offset-3{margin-left:25%}.large-offset-4{margin-left:33.33333%}.large-offset-5{margin-left:41.66667%}.large-offset-6{margin-left:50%}.large-offset-7{margin-left:58.33333%}.large-offset-8{margin-left:66.66667%}.large-offset-9{margin-left:75%}.large-offset-10{margin-left:83.33333%}.large-offset-11{margin-left:91.66667%}.large-offset-12{margin-left:100%}}.clearfix:after,.clearfix:before{content:" "}.center-block{display:block;margin-right:auto;margin-left:auto}.pull-right{float:right!important}.pull-left{float:left!important}.hide{display:none!important}.show{display:block!important}.invisible{visibility:hidden}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.hidden{display:none!important}.affix{position:fixed}@-ms-viewport{width:device-width}.visible-lg,.visible-lg-block,.visible-lg-inline,.visible-lg-inline-block,.visible-md,.visible-md-block,.visible-md-inline,.visible-md-inline-block,.visible-sm,.visible-sm-block,.visible-sm-inline,.visible-sm-inline-block,.visible-xs,.visible-xs-block,.visible-xs-inline,.visible-xs-inline-block{display:none!important}@media (max-width:767px){.visible-xs{display:block!important}table.visible-xs{display:table!important}tr.visible-xs{display:table-row!important}td.visible-xs,th.visible-xs{display:table-cell!important}}@media (max-width:767px){.visible-xs-block{display:block!important}}@media (max-width:767px){.visible-xs-inline{display:inline!important}}@media (max-width:767px){.visible-xs-inline-block{display:inline-block!important}}@media (min-width:768px) and (max-width:991px){.visible-sm{display:block!important}table.visible-sm{display:table!important}tr.visible-sm{display:table-row!important}td.visible-sm,th.visible-sm{display:table-cell!important}}@media (min-width:768px) and (max-width:991px){.visible-sm-block{display:block!important}}@media (min-width:768px) and (max-width:991px){.visible-sm-inline{display:inline!important}}@media (min-width:768px) and (max-width:991px){.visible-sm-inline-block{display:inline-block!important}}@media (min-width:992px) and (max-width:1199px){.visible-md{display:block!important}table.visible-md{display:table!important}tr.visible-md{display:table-row!important}td.visible-md,th.visible-md{display:table-cell!important}}@media (min-width:992px) and (max-width:1199px){.visible-md-block{display:block!important}}@media (min-width:992px) and (max-width:1199px){.visible-md-inline{display:inline!important}}@media (min-width:992px) and (max-width:1199px){.visible-md-inline-block{display:inline-block!important}}@media (min-width:1200px){.visible-lg{display:block!important}table.visible-lg{display:table!important}tr.visible-lg{display:table-row!important}td.visible-lg,th.visible-lg{display:table-cell!important}}@media (min-width:1200px){.visible-lg-block{display:block!important}}@media (min-width:1200px){.visible-lg-inline{display:inline!important}}@media (min-width:1200px){.visible-lg-inline-block{display:inline-block!important}}@media (max-width:767px){.hidden-xs{display:none!important}}@media (min-width:768px) and (max-width:991px){.hidden-sm{display:none!important}}@media (min-width:992px) and (max-width:1199px){.hidden-md{display:none!important}}@media (min-width:1200px){.hidden-lg{display:none!important}}.visible-print{display:none!important}@media print{.visible-print{display:block!important}table.visible-print{display:table!important}tr.visible-print{display:table-row!important}td.visible-print,th.visible-print{display:table-cell!important}}.visible-print-block{display:none!important}@media print{.visible-print-block{display:block!important}}.visible-print-inline{display:none!important}@media print{.visible-print-inline{display:inline!important}}.visible-print-inline-block{display:none!important}@media print{.visible-print-inline-block{display:inline-block!important}}@media print{.hidden-print{display:none!important}}.grds-color{flex-basis:300px!important;max-width:300px!important}.grds-wrapper{color:#000;margin-bottom:24px}@media (max-width:700px){.grds-wrapper{flex-basis:100%!important;max-width:100%!important;margin:0 0 24px}}.grds-audio{margin-right:10px}.grds-audio__container{background:#f4f6f8;padding:20px;border-radius:10px;width:100%}.grds-audio__title{display:flex;align-items:center;white-space:normal;word-break:break-all;word-wrap:break-word;line-break:anywhere}.grds-audio__title svg{height:25px;width:25px;fill:#48ba6f}.grds-audio__audio__icon{width:25px;height:25px;margin-right:1.5rem}.grds-audio__play__sound__icon{width:25px;height:25px;margin-left:1rem;cursor:pointer}.grds-audio__audiofile{margin-top:1rem;width:100%}.grds-color{display:inline-block!important;margin-right:10px}@media (max-width:700px){.grds-color{display:block!important}}.grds-color__container{border-radius:10px;width:300px;display:flex;flex-direction:column}@media (max-width:700px){.grds-color__container{width:100%}}.grds-color__swatch{height:150px;border-radius:10px 10px 0 0;position:relative;display:flex;align-items:flex-end;padding-bottom:10px;justify-content:center}.grds-color__swatch__a11y{display:flex;flex-direction:column;width:50px;margin:0 3px}.grds-color__swatch__a11y__char{color:#fff;text-align:center}.grds-color__swatch__a11y__status{color:#fff;background:#000;padding:2px 5px;display:inline-block;border-radius:5px;font-size:.9rem;text-align:center}.grds-color__info{display:flex;flex-wrap:wrap;padding:10px;background:#f4f6f8;border-radius:0 0 10px 10px}.grds-color__info__item{margin-bottom:1rem;margin-top:.5rem;flex-basis:50%}.grds-color__info__item .clippy{display:inline-block}.grds-color__info__item p:first-child{text-transform:uppercase;color:#7d858c;font-size:.75rem}.grds-color__info__item p{margin-bottom:.25rem;margin-top:.5rem}.grds-color-palette__container{background:#f4f6f8;border-radius:10px;width:100%}.grds-color-palette__item{padding:20px;border-bottom:2px solid #c5d3e0;display:flex;justify-content:space-between;flex-wrap:wrap}.grds-color-palette__item:last-child{border-bottom:none}.grds-color-palette__left,.grds-color-palette__right{display:flex;align-items:center;flex-wrap:wrap}.grds-color-palette__item__swatch{width:50px;height:50px;border-radius:10px;margin-right:20px;margin-top:10px;margin-bottom:10px}.grds-color-palette__item__name{padding:.5rem 1rem .5rem 0}.grds-color-palette__item__color:first-child{width:115px}.grds-color-palette__item__color{margin:.4rem 0;width:140px}.grds-color-palette__item__color span:first-child{background:#c5d3e0;color:#2e2e2e;padding:3px 5px;font-size:.7rem;border-radius:5px}.grds-color-palette__item__color span:last-child{margin-left:.25rem;font-size:.9rem}.grds-download{margin-right:10px}.grds-download__container{background:#f4f6f8;padding:20px;border-radius:10px;width:100%;text-decoration:none}.grds-download__info{justify-content:space-between}.grds-download__info,.grds-download__info__left{display:flex;align-items:center}.grds-download__info__left svg{height:25px;width:25px;fill:#48ba6f;margin-right:1.5rem}.grds-download__info__right{font-size:.75rem;color:#7d858c}.grds-download__preview{padding:20px;border-radius:10px;margin-top:40px;display:flex;justify-content:center;box-shadow:0 5px 15px rgba(0,0,0,.1)}.grds-download__image{object-fit:cover;height:100%;margin-bottom:0}.grds-example{border-radius:10px;border:1px solid #c5d3e0}.grds-example__container,.grds-hint{padding:20px}.grds-hint{border-radius:10px;background:#f4f6f8;color:#7a7d80;border:1px solid #d9eafa;width:100%}.grds-hint__directive{background:#ecfaea;color:#307c3f;border:1px solid #c0ebc8}.grds-hint__warning{background:#fef5f5;color:#c93a3c;border:1px solid #fcddde}.grds-typo__container{width:100%}.grds-typo__item{display:flex;flex-direction:column;border-bottom:2px solid #c5d3e0;padding-bottom:1rem;margin-bottom:2rem}.grds-typo__item__name{margin-bottom:1.5rem}.grds-typo__item__info{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;width:100%}.grds-typo__item__info p:first-child{text-transform:uppercase;font-size:.75rem;color:#7d858c;margin-bottom:0}.grds-typo__item__info p:last-child{margin-top:.5rem}.grds-typo__item__info__desc{margin-right:2rem}.grds-video{margin-right:10px}.grds-video__container{background:#f4f6f8;padding:20px;border-radius:10px;width:100%}.grds-video__title{margin-bottom:15px;display:flex;align-items:center}.grds-video__title svg{height:25px;width:25px;fill:#48ba6f;margin-right:1.5rem}.grds-video__videofile{width:100%}.clippy:hover{cursor:pointer}.tooltipped{position:relative}.tooltipped:after{z-index:1000000;padding:.1rem .3rem;font:normal normal 11px/1.5 sans-serif;-webkit-font-smoothing:subpixel-antialiased;color:#fff;text-align:center;text-shadow:none;text-transform:none;letter-spacing:normal;word-wrap:break-word;white-space:pre;content:attr(aria-label);background:#000;border-radius:3px}.tooltipped:after,.tooltipped:before{position:absolute;display:inline-block;text-decoration:none;pointer-events:none}.tooltipped:before{z-index:1000001;width:0;height:0;color:#000;content:"";border:6px solid transparent}.tooltipped-n:after{right:50%;bottom:100%;margin-bottom:6px}.tooltipped-n:before{top:-7px;right:50%;bottom:auto;margin-right:-6px;border-top-color:#000}.tooltipped-n:after{transform:translateX(50%)}@font-face{font-family:entypo;src:url(/static/entypo.2b67ec35.eot);src:url(/static/entypo.2b67ec35.eot#iefix) format("embedded-opentype"),url(/static/entypo.fdba4ace.woff) format("woff"),url(/static/entypo.6b5b2d30.ttf) format("truetype"),url(/static/entypo.c9f44e5a.svg#entypo) format("svg");font-weight:400;font-style:normal}[class*=" icon-"]:before,[class^=icon-]:before{font-family:entypo;font-style:normal;font-weight:400;speak:none;display:inline-block;text-decoration:inherit;width:1em;height:1em;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-address:before{content:"\E800"}.icon-add-to-list:before{content:"\E801"}.icon-arrow-down:before{content:"\E802"}.icon-arrow-left:before{content:"\E803"}.icon-add-user:before{content:"\E804"}.icon-arrow-long-down:before{content:"\E805"}.icon-arrow-long-left:before{content:"\E806"}.icon-arrow-long-right:before{content:"\E807"}.icon-arrow-long-up:before{content:"\E808"}.icon-adjust:before{content:"\E809"}.icon-air:before{content:"\E80A"}.icon-aircraft-landing:before{content:"\E80B"}.icon-aircraft:before{content:"\E80C"}.icon-align-left:before{content:"\E80D"}.icon-controller-fast-forward:before{content:"\E80E"}.icon-controller-fast-backward:before{content:"\E80F"}.icon-compass:before{content:"\E810"}.icon-colours:before{content:"\E811"}.icon-cog:before{content:"\E812"}.icon-code:before{content:"\E813"}.icon-cloud:before{content:"\E814"}.icon-clipboard:before{content:"\E815"}.icon-classic-computer:before{content:"\E816"}.icon-clapperboard:before{content:"\E817"}.icon-chevron-left:before{content:"\E818"}.icon-blackboard:before{content:"\E819"}.icon-block:before{content:"\E81A"}.icon-chevron-right:before{content:"\E81B"}.icon-chevron-small-down:before{content:"\E81C"}.icon-book:before{content:"\E81D"}.icon-bookmark:before{content:"\E81E"}.icon-chevron-small-left:before{content:"\E81F"}.icon-chevron-small-right:before{content:"\E820"}.icon-bookmarks:before{content:"\E821"}.icon-bowl:before{content:"\E822"}.icon-chevron-thin-down:before{content:"\E823"}.icon-box:before{content:"\E824"}.icon-arrow-right:before{content:"\E825"}.icon-aircraft-take-off:before{content:"\E826"}.icon-chevron-small-up:before{content:"\E827"}.icon-chevron-thin-left:before{content:"\E828"}.icon-chevron-thin-right:before{content:"\E829"}.icon-browser:before{content:"\E82A"}.icon-arrow-with-circle-down:before{content:"\E82B"}.icon-align-bottom:before{content:"\E82C"}.icon-arrow-up:before{content:"\E82D"}.icon-briefcase:before{content:"\E82E"}.icon-brush:before{content:"\E82F"}.icon-arrow-with-circle-left:before{content:"\E830"}.icon-align-horizontal-middle:before{content:"\E831"}.icon-chevron-thin-up:before{content:"\E832"}.icon-chevron-up:before{content:"\E833"}.icon-bucket:before{content:"\E834"}.icon-arrow-with-circle-right:before{content:"\E835"}.icon-arrow-with-circle-up:before{content:"\E836"}.icon-align-right:before{content:"\E837"}.icon-tripadvisor:before{content:"\E838"}.icon-qq-with-circle:before{content:"\E839"}.icon-google+-with-circle:before{content:"\E83A"}.icon-app-store:before{content:"\E83B"}.icon-trophy:before{content:"\E83C"}.icon-tablet-mobile-combo:before{content:"\E83D"}.icon-shopping-bag:before{content:"\E83E"}.icon-quote:before{content:"\E83F"}.icon-old-mobile:before{content:"\E840"}.icon-megaphone:before{content:"\E841"}.icon-light-bulb:before{content:"\E842"}.icon-hour-glass:before{content:"\E843"}.icon-flow-tree:before{content:"\E844"}.icon-email:before{content:"\E845"}.icon-cross:before{content:"\E846"}.icon-controller-jump-to-start:before{content:"\E847"}.icon-chevron-with-circle-down:before{content:"\E848"}.icon-controller-next:before{content:"\E849"}.icon-controller-paus:before{content:"\E84A"}.icon-controller-play:before{content:"\E84B"}.icon-controller-record:before{content:"\E84C"}.icon-controller-stop:before{content:"\E84D"}.icon-controller-volume:before{content:"\E84E"}.icon-copy:before{content:"\E84F"}.icon-creative-commons-attribution:before{content:"\E850"}.icon-align-top:before{content:"\E851"}.icon-align-vertical-middle:before{content:"\E852"}.icon-archive:before{content:"\E853"}.icon-area-graph:before{content:"\E854"}.icon-arrow-bold-down:before{content:"\E855"}.icon-arrow-bold-left:before{content:"\E856"}.icon-arrow-bold-right:before{content:"\E857"}.icon-arrow-bold-up:before{content:"\E858"}.icon-attachment:before{content:"\E859"}.icon-awareness-ribbon:before{content:"\E85A"}.icon-back-in-time:before{content:"\E85B"}.icon-back:before{content:"\E85C"}.icon-bar-graph:before{content:"\E85D"}.icon-battery:before{content:"\E85E"}.icon-beamed-note:before{content:"\E85F"}.icon-bell:before{content:"\E860"}.icon-cake:before{content:"\E861"}.icon-calculator:before{content:"\E862"}.icon-calendar:before{content:"\E863"}.icon-camera:before{content:"\E864"}.icon-ccw:before{content:"\E865"}.icon-chat:before{content:"\E866"}.icon-check:before{content:"\E867"}.icon-chevron-down:before{content:"\E868"}.icon-cup:before{content:"\E869"}.icon-cw:before{content:"\E86A"}.icon-cycle:before{content:"\E86B"}.icon-database:before{content:"\E86C"}.icon-dial-pad:before{content:"\E86D"}.icon-direction:before{content:"\E86E"}.icon-document-landscape:before{content:"\E86F"}.icon-document:before{content:"\E870"}.icon-emoji-flirt:before{content:"\E871"}.icon-emoji-happy:before{content:"\E872"}.icon-emoji-neutral:before{content:"\E873"}.icon-emoji-sad:before{content:"\E874"}.icon-erase:before{content:"\E875"}.icon-eraser:before{content:"\E876"}.icon-export:before{content:"\E877"}.icon-eye-with-line:before{content:"\E878"}.icon-flower:before{content:"\E879"}.icon-folder-images:before{content:"\E87A"}.icon-folder-music:before{content:"\E87B"}.icon-folder-video:before{content:"\E87C"}.icon-folder:before{content:"\E87D"}.icon-forward:before{content:"\E87E"}.icon-funnel:before{content:"\E87F"}.icon-game-controller:before{content:"\E880"}.icon-image-inverted:before{content:"\E881"}.icon-image:before{content:"\E882"}.icon-images:before{content:"\E883"}.icon-inbox:before{content:"\E884"}.icon-infinity:before{content:"\E885"}.icon-info-with-circle:before{content:"\E886"}.icon-info:before{content:"\E887"}.icon-install:before{content:"\E888"}.icon-light-down:before{content:"\E889"}.icon-light-up:before{content:"\E88A"}.icon-line-graph:before{content:"\E88B"}.icon-link:before{content:"\E88C"}.icon-list:before{content:"\E88D"}.icon-location-pin:before{content:"\E88E"}.icon-location:before{content:"\E88F"}.icon-lock-open:before{content:"\E890"}.icon-menu:before{content:"\E891"}.icon-merge:before{content:"\E892"}.icon-message:before{content:"\E893"}.icon-mic:before{content:"\E894"}.icon-minus:before{content:"\E895"}.icon-mobile:before{content:"\E896"}.icon-modern-mic:before{content:"\E897"}.icon-moon:before{content:"\E898"}.icon-old-phone:before{content:"\E899"}.icon-open-book:before{content:"\E89A"}.icon-palette:before{content:"\E89B"}.icon-paper-plane:before{content:"\E89C"}.icon-pencil:before{content:"\E89D"}.icon-phone:before{content:"\E89E"}.icon-pie-chart:before{content:"\E89F"}.icon-pin:before{content:"\E8A0"}.icon-radio:before{content:"\E8A1"}.icon-remove-user:before{content:"\E8A2"}.icon-reply-all:before{content:"\E8A3"}.icon-reply:before{content:"\E8A4"}.icon-resize-full-screen:before{content:"\E8A6"}.icon-retweet:before{content:"\E8A7"}.icon-rocket:before{content:"\E8A8"}.icon-shopping-basket:before{content:"\E8A9"}.icon-shopping-cart:before{content:"\E8AA"}.icon-shuffle:before{content:"\E8AB"}.icon-signal:before{content:"\E8AC"}.icon-sound-mix:before{content:"\E8AD"}.icon-sound-mute:before{content:"\E8AE"}.icon-sound:before{content:"\E8AF"}.icon-sports-club:before{content:"\E8B0"}.icon-tablet:before{content:"\E8B1"}.icon-tag:before{content:"\E8B2"}.icon-text-document-inverted:before{content:"\E8B3"}.icon-text-document:before{content:"\E8B4"}.icon-text:before{content:"\E8B5"}.icon-thermometer:before{content:"\E8B6"}.icon-thumbs-down:before{content:"\E8B7"}.icon-thumbs-up:before{content:"\E8B8"}.icon-tv:before{content:"\E8B9"}.icon-typing:before{content:"\E8BA"}.icon-uninstall:before{content:"\E8BB"}.icon-unread:before{content:"\E8BC"}.icon-untag:before{content:"\E8BD"}.icon-upload-to-cloud:before{content:"\E8BE"}.icon-upload:before{content:"\E8BF"}.icon-user:before{content:"\E8C0"}.icon-baidu:before{content:"\E8C1"}.icon-basecamp:before{content:"\E8C2"}.icon-behance:before{content:"\E8C3"}.icon-creative-cloud:before{content:"\E8C4"}.icon-dribbble-with-circle:before{content:"\E8C5"}.icon-dribbble:before{content:"\E8C6"}.icon-dropbox:before{content:"\E8C7"}.icon-evernote:before{content:"\E8C8"}.icon-google+:before{content:"\E8C9"}.icon-grooveshark:before{content:"\E8CA"}.icon-houzz:before{content:"\E8CB"}.icon-icloud:before{content:"\E8CC"}.icon-instagram-with-circle:before{content:"\E8CD"}.icon-instagram:before{content:"\E8CE"}.icon-lastfm-with-circle:before{content:"\E8CF"}.icon-lastfm:before{content:"\E8D0"}.icon-qq:before{content:"\E8D1"}.icon-raft-with-circle:before{content:"\E8D2"}.icon-raft:before{content:"\E8D3"}.icon-rainbow:before{content:"\E8D4"}.icon-rdio-with-circle:before{content:"\E8D5"}.icon-rdio:before{content:"\E8D6"}.icon-renren:before{content:"\E8D7"}.icon-scribd:before{content:"\E8D8"}.icon-tumblr-with-circle:before{content:"\E8D9"}.icon-tumblr:before{content:"\E8DA"}.icon-twitter-with-circle:before{content:"\E8DB"}.icon-twitter:before{content:"\E8DC"}.icon-vimeo-with-circle:before{content:"\E8DD"}.icon-vimeo:before{content:"\E8DE"}.icon-vine-with-circle:before{content:"\E8DF"}.icon-vine:before{content:"\E8E0"}.icon-creative-commons-noderivs:before{content:"\E8E1"}.icon-creative-commons-noncommercial-eu:before{content:"\E8E2"}.icon-creative-commons-noncommercial-us:before{content:"\E8E3"}.icon-creative-commons-public-domain:before{content:"\E8E4"}.icon-creative-commons-remix:before{content:"\E8E5"}.icon-creative-commons-share:before{content:"\E8E6"}.icon-creative-commons-sharealike:before{content:"\E8E7"}.icon-creative-commons:before{content:"\E8E8"}.icon-credit-card:before{content:"\E8E9"}.icon-credit:before{content:"\E8EA"}.icon-crop:before{content:"\E8EB"}.icon-documents:before{content:"\E8EC"}.icon-dot-single:before{content:"\E8ED"}.icon-dots-three-horizontal:before{content:"\E8EE"}.icon-dots-three-vertical:before{content:"\E8EF"}.icon-dots-two-horizontal:before{content:"\E8F0"}.icon-dots-two-vertical:before{content:"\E8F1"}.icon-download:before{content:"\E8F2"}.icon-drink:before{content:"\E8F3"}.icon-drive:before{content:"\E8F4"}.icon-drop:before{content:"\E8F5"}.icon-edit:before{content:"\E8F6"}.icon-eye:before{content:"\E8F7"}.icon-feather:before{content:"\E8F8"}.icon-fingerprint:before{content:"\E8F9"}.icon-flag:before{content:"\E8FA"}.icon-flash:before{content:"\E8FB"}.icon-flashlight:before{content:"\E8FC"}.icon-flat-brush:before{content:"\E8FD"}.icon-flow-branch:before{content:"\E8FE"}.icon-flow-cascade:before{content:"\E8FF"}.icon-flow-line:before{content:"\E900"}.icon-flow-parallel:before{content:"\E901"}.icon-gauge:before{content:"\E902"}.icon-globe:before{content:"\E903"}.icon-graduation-cap:before{content:"\E904"}.icon-grid:before{content:"\E905"}.icon-hair-cross:before{content:"\E906"}.icon-hand:before{content:"\E907"}.icon-heart-outlined:before{content:"\E908"}.icon-heart:before{content:"\E909"}.icon-help-with-circle:before{content:"\E90A"}.icon-help:before{content:"\E90B"}.icon-home:before{content:"\E90C"}.icon-key:before{content:"\E90D"}.icon-keyboard:before{content:"\E90E"}.icon-lab-flask:before{content:"\E90F"}.icon-landline:before{content:"\E910"}.icon-language:before{content:"\E911"}.icon-laptop:before{content:"\E912"}.icon-layers:before{content:"\E913"}.icon-leaf:before{content:"\E914"}.icon-level-down:before{content:"\E915"}.icon-level-up:before{content:"\E916"}.icon-lifebuoy:before{content:"\E917"}.icon-lock:before{content:"\E918"}.icon-log-out:before{content:"\E919"}.icon-login:before{content:"\E91A"}.icon-loop:before{content:"\E91B"}.icon-magnet:before{content:"\E91C"}.icon-magnifying-glass:before{content:"\E91D"}.icon-mail:before{content:"\E91E"}.icon-man:before{content:"\E91F"}.icon-map:before{content:"\E920"}.icon-mask:before{content:"\E921"}.icon-medal:before{content:"\E922"}.icon-mouse-pointer:before{content:"\E923"}.icon-mouse:before{content:"\E924"}.icon-music:before{content:"\E925"}.icon-network:before{content:"\E926"}.icon-new-message:before{content:"\E927"}.icon-new:before{content:"\E928"}.icon-news:before{content:"\E929"}.icon-newsletter:before{content:"\E92A"}.icon-note:before{content:"\E92B"}.icon-notification:before{content:"\E92C"}.icon-notifications-off:before{content:"\E92D"}.icon-plus:before{content:"\E92E"}.icon-popup:before{content:"\E92F"}.icon-power-plug:before{content:"\E930"}.icon-price-ribbon:before{content:"\E931"}.icon-price-tag:before{content:"\E932"}.icon-print:before{content:"\E933"}.icon-progress-empty:before{content:"\E934"}.icon-progress-full:before{content:"\E935"}.icon-progress-one:before{content:"\E936"}.icon-progress-two:before{content:"\E937"}.icon-publish:before{content:"\E938"}.icon-round-brush:before{content:"\E939"}.icon-rss:before{content:"\E93A"}.icon-ruler:before{content:"\E93B"}.icon-save:before{content:"\E93C"}.icon-scissors:before{content:"\E93D"}.icon-select-arrows:before{content:"\E93E"}.icon-share-alternative:before{content:"\E93F"}.icon-share:before{content:"\E940"}.icon-shareable:before{content:"\E941"}.icon-shield:before{content:"\E942"}.icon-shop:before{content:"\E943"}.icon-spreadsheet:before{content:"\E944"}.icon-squared-cross:before{content:"\E945"}.icon-squared-minus:before{content:"\E946"}.icon-squared-plus:before{content:"\E947"}.icon-star-outlined:before{content:"\E948"}.icon-star:before{content:"\E949"}.icon-stopwatch:before{content:"\E94A"}.icon-suitcase:before{content:"\E94B"}.icon-swap:before{content:"\E94C"}.icon-sweden:before{content:"\E94D"}.icon-switch:before{content:"\E94E"}.icon-thunder-cloud:before{content:"\E94F"}.icon-ticket:before{content:"\E950"}.icon-time-slot:before{content:"\E951"}.icon-tools:before{content:"\E952"}.icon-traffic-cone:before{content:"\E953"}.icon-trash:before{content:"\E954"}.icon-tree:before{content:"\E955"}.icon-triangle-down:before{content:"\E956"}.icon-triangle-left:before{content:"\E957"}.icon-triangle-right:before{content:"\E958"}.icon-triangle-up:before{content:"\E959"}.icon-users:before{content:"\E95A"}.icon-v-card:before{content:"\E95B"}.icon-video-camera:before{content:"\E95C"}.icon-video:before{content:"\E95D"}.icon-vinyl:before{content:"\E95E"}.icon-voicemail:before{content:"\E95F"}.icon-wallet:before{content:"\E960"}.icon-warning:before{content:"\E961"}.icon-water:before{content:"\E962"}.icon-500px-with-circle:before{content:"\E963"}.icon-500px:before{content:"\E964"}.icon-facebook-with-circle:before{content:"\E965"}.icon-facebook:before{content:"\E966"}.icon-flattr:before{content:"\E967"}.icon-flickr-with-circle:before{content:"\E968"}.icon-flickr:before{content:"\E969"}.icon-foursquare:before{content:"\E96A"}.icon-github-with-circle:before{content:"\E96B"}.icon-github:before{content:"\E96C"}.icon-google-drive:before{content:"\E96D"}.icon-google-hangouts:before{content:"\E96E"}.icon-google-play:before{content:"\E96F"}.icon-linkedin-with-circle:before{content:"\E970"}.icon-linkedin:before{content:"\E971"}.icon-mail-with-circle:before{content:"\E972"}.icon-medium-with-circle:before{content:"\E973"}.icon-medium:before{content:"\E974"}.icon-mixi:before{content:"\E975"}.icon-onedrive:before{content:"\E976"}.icon-paypal:before{content:"\E977"}.icon-picasa:before{content:"\E978"}.icon-pinterest-with-circle:before{content:"\E979"}.icon-pinterest:before{content:"\E97A"}.icon-sina-weibo:before{content:"\E97B"}.icon-skype-with-circle:before{content:"\E97C"}.icon-skype:before{content:"\E97D"}.icon-slideshare:before{content:"\E97E"}.icon-smashing:before{content:"\E97F"}.icon-soundcloud:before{content:"\E980"}.icon-spotify-with-circle:before{content:"\E981"}.icon-spotify:before{content:"\E982"}.icon-stumbleupon-with-circle:before{content:"\E983"}.icon-stumbleupon:before{content:"\E984"}.icon-swarm:before{content:"\E985"}.icon-vk-alternitive:before{content:"\E986"}.icon-vk-with-circle:before{content:"\E987"}.icon-vk:before{content:"\E988"}.icon-windows-store:before{content:"\E989"}.icon-xing-with-circle:before{content:"\E98A"}.icon-xing:before{content:"\E98B"}.icon-yelp:before{content:"\E98C"}.icon-youko-with-circle:before{content:"\E98D"}.icon-youko:before{content:"\E98E"}.icon-youtube-with-circle:before{content:"\E98F"}.icon-youtube:before{content:"\E990"}.icon-bug:before{content:"\E991"}.icon-chevron-with-circle-left:before{content:"\E992"}.icon-chevron-with-circle-up:before{content:"\E993"}.icon-chevron-with-circle-right:before{content:"\E994"}.icon-circle-with-cross:before{content:"\E995"}.icon-circle-with-minus:before{content:"\E996"}.icon-circle-with-plus:before{content:"\E997"}.icon-circular-graph:before{content:"\E998"}.icon-circle:before{content:"\E999"}.icon-clock:before{content:"\E99A"}html{font-size:16px}body{color:#333;font-family:-apple-system,system-ui,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;line-height:1.75;background:#fff;-webkit-font-smoothing:antialiased;font-smoothing:antialiased;text-rendering:optimizeLegibility;word-wrap:break-word;hyphens:auto}@media (max-width:768px){body{font-size:.99em}}a,a:active,a:hover{color:#d23669}.nopadding{padding-right:0!important;padding-left:0!important}.not-found-section{text-align:center;margin-top:2.5em}.header{color:#d23669;font-size:1.5em;font-weight:700}.header-description{font-size:1.2em;line-height:1.4em}.clearfix:after,.clearfix:before{display:table;content:""}.clearfix:after{clear:both}.clearfix{*zoom:1}.totop{display:inline-flex;flex-direction:row;position:fixed;padding:8px;width:60px;height:24px;right:25px;bottom:-100px;transition:all .2s ease-in-out;border-radius:20px;box-shadow:0 0 20px #766592;background-color:#dadada;overflow:hidden;box-sizing:content-box;cursor:pointer;z-index:2}.totop i{flex-basis:24px;z-index:2}.totop .progress{color:#000;flex-basis:26px;text-align:right;z-index:2;font-size:.6em}.totop .bg{position:absolute;left:0;right:0;bottom:0;height:100%;background-color:#d23669;transition:all .2s ease-in-out;z-index:-1}.totop.show{bottom:40px}.fixed-header{position:fixed;top:0;left:0;width:100%;height:48px;display:inline-block;z-index:1000;overflow:hidden;background:#dadada;visibility:hidden;transform:translateY(-100%);transition:transform .3s;box-shadow:0 3px 4px #b7afc4}.fixed-header p{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);cursor:pointer;font-weight:700}.fixed-header i{font-size:48px;text-align:center;line-height:48px;cursor:pointer;z-index:101}.fixed-header.show{visibility:visible;transform:translateY(0)}.fixed-header div{position:absolute;right:0}.navbar-header .fixed{position:fixed;right:0;top:60px}.header-menu,html.disabled{overflow:hidden}.header-menu{position:fixed;top:50%;left:50%;right:50%;bottom:50%;text-align:center;background-color:#dadada;transition:all .4s cubic-bezier(.455,.03,.515,.955);opacity:0;z-index:100}.header-menu.active{top:0;right:0;bottom:0;left:0;opacity:1}.header-menu .menu-list{display:inline-block;position:absolute;list-style:none;top:50%;left:50%;transform:translate(-50%,-50%)}.header-menu .menu-item{padding:0 20px;line-height:2em;font-size:2em;font-weight:bolder;cursor:pointer}.header-menu a{padding:4px 10px;border:2px solid transparent;transition:all .2s ease-in-out;text-decoration:none}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#c1c1c1}::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.navbar-default{background:none}.navbar-default .navbar-nav>li>a:focus,.navbar-default .navbar-nav>li>a:hover{color:#d23669}@media (max-width:768px){.navbar-header{text-align:center}}.navbar-header h1{font-size:1.8em}.navbar-header p{font-size:.9em;max-width:750px;line-height:1.4em}@media (max-width:1024px){.navbar-header p{max-width:500px}}@media (max-width:768px){.navbar-header p{padding:0 30px;max-width:100%}}@media (max-width:1200px){.navbar-header .header-logo{height:150px}}@media (max-width:768px){.navbar-header .header-logo{float:none}}.navbar-header .header-logo img{width:100px;margin-right:25px}@media (max-width:768px){.navbar-header .header-logo img{margin:0 auto}}.navbar-brand{font-size:1.5em;height:auto;padding:10px 15px}.navbar{border:none;margin-bottom:0}@media (max-width:768px){.nav>li>a{padding:10px 30px;text-align:right}}.navbar-default .navbar-nav>li>a{text-transform:uppercase;line-height:50px;font-weight:700}@media (max-width:768px){.navbar-default .navbar-nav>li>a{line-height:40px}}.navbar-collapse{overflow:hidden}.navbar-toggle{border:0}.navbar-default .navbar-toggle:focus,.navbar-default .navbar-toggle:hover{background:none}.navbar-default .navbar-collapse,.navbar-default .navbar-form{border:0}.navbar-default .navbar-toggle .icon-bar{background-color:#5a8eee}.footer-social{padding:40px 0;font-size:.9em}.footer-social ul.social{font-size:.5em;text-align:center;padding:0}.footer-social ul.social a{text-decoration:none}.footer-social ul.social li{display:inline-block;width:2em;height:2em;font-size:3em;text-align:center;line-height:2em;-webkit-border-radius:50%;border-radius:50%;margin:.5em;transition:all .1s ease}.footer-social ul.social li:focus,.footer-social ul.social li:hover{-webkit-transform:rotate(1turn);-moz-transform:rotate(1turn);-ms-transform:rotate(1turn);transform:rotate(1turn)}.footer-social ul.social li:focus a,.footer-social ul.social li:hover a{text-decoration:none}.home-template .blog{margin-top:5em}@media (max-width:768px){.blog .page-number{font-size:.8em;position:absolute;top:4em;left:50%;transform:translateX(-50%);white-space:nowrap}}.blog .list-inline{margin-bottom:0}.blog .newer-posts{float:left;font-size:.8em}.blog .older-posts{float:right;font-size:.8em}.blog .separator{height:2px;background:#4d71b7;width:100%;margin-bottom:.5em;margin-top:.5em;display:block;background:linear-gradient(90deg,#d23669 0,#d23669 25%,#b42b3e 0,#b42b3e 50%,#8ab2ff 0,#8ab2ff 75%,#4d71b7 0,#4d71b7)}.blog .post .post-title{color:#d23669;font-size:2em;margin-bottom:40px}@media (max-width:768px){.blog .post .post-title{text-align:left}}.blog .posts{margin-top:2em}.blog .posts .post-title{font-size:1.5em;font-weight:700;margin-bottom:.3em}@media (max-width:768px){.blog .posts .post-title{text-align:left}}.blog .posts .post{margin-bottom:2em}.blog .posts time{margin-top:.5em;font-size:.9em}.blog .posts .post-excerpt{margin-top:.5em}.blog article.main-post ol ol,.blog article.main-post ol ul,.blog article.main-post ul ol,.blog article.main-post ul ul{margin-bottom:10px}.blog article.main-post h1,.blog article.main-post h2,.blog article.main-post h3,.blog article.main-post h4,.blog article.main-post h5,.blog article.main-post h6{font-weight:700;margin:16px 0}.blog article.main-post h1{font-size:1.6em}.blog article.main-post h2{font-size:1.4em}.blog article.main-post h3{font-size:1.2em}.blog article.main-post h4{font-size:1em}.blog article.main-post h5{font-size:.8em}.blog article.main-post h6{font-size:.6em}.blog article.main-post img{max-width:100%}.blog article.main-post iframe{border:none}.blog article.main-post blockquote{border-left-color:#d23669;background:#dadada;font-size:1em;color:#666}.blog article.main-post table{margin-bottom:1em;display:block;overflow:auto;max-height:500px}.blog article.main-post table thead{position:sticky;top:0;background:#fff}.blog article.main-post table tbody,.blog article.main-post table thead{display:table;width:100%;table-layout:fixed}.blog article.main-post table td,.blog article.main-post table th{width:200px;padding:10px;border:1px solid #333}.blog article.main-post table tr:nth-child(2n){background:#dadada}.blog article.main-post hr{border-top:1px dashed #dadada}.blog article.main-post pre{max-height:500px;overflow:auto}.blog article.main-post .post-footer{padding-top:2em;font-size:1.2em}@media (max-width:768px){.blog article.main-post .post-footer .share-buttons li{display:block;line-height:2em}}.blog article.main-post .post-footer .share-twitter{color:#00aced}@media (max-width:768px){.blog article.main-post .post-footer .share-twitter{background-color:#00aced;color:#fff;padding:.25em;width:100%;display:block}}.blog article.main-post .post-footer .share-reddit{color:#ff5700}@media (max-width:768px){.blog article.main-post .post-footer .share-reddit{background-color:#ff5700;color:#fff;padding:.25em;width:100%;display:block}}.blog article.main-post .post-footer .share-facebook{color:#3b5998}@media (max-width:768px){.blog article.main-post .post-footer .share-facebook{background-color:#3b5998;color:#fff;padding:.25em;width:100%;display:block}}.blog article.main-post .post-footer .share-google-plus{color:#dd4b39}@media (max-width:768px){.blog article.main-post .post-footer .share-google-plus{background-color:#dd4b39;color:#fff;padding:.25em;width:100%;display:block}}.blog article.main-post .embedded-codesandbox{width:100%;height:300px;border:1px solid #ccc;border-radius:4px}.blog .post-meta .author-name{line-height:2em}.blog .post-meta .author-avatar div{display:inline-block;width:2em;height:50px}.blog .post-meta .desc{float:left;text-align:left}@media (min-width:990px){.blog .post-meta .desc{float:right;text-align:right}}.blog .post-meta .timeSize{margin-top:-10px}.blog .post-meta .tags{margin-bottom:4px}.blog .post-meta .tags li{font-size:.8em;margin:5px;border:2px solid #5a8eee;text-align:center;border-radius:100px/100px}.blog .post-meta .tags li a{color:#5a8eee;display:block;width:auto;padding:4px 10px}.blog .post-meta .tags li a:active,.blog .post-meta .tags li a:hover{text-decoration:none}.blog .post-meta .tags li:hover{background:#5a8eee}.blog .post-meta .tags li:hover a{color:#fff}.blog .post-meta .tags li.draft-tag{border-color:#d23669}.blog .post-meta .tags li.draft-tag a{color:#d23669}.blog .post-meta .tags li.draft-tag:hover{background:#d23669}.blog .post-meta .tags li.draft-tag:hover a{color:#fff}.blog .headings{position:absolute;top:48px;left:-420px;bottom:0;transition:left .2s ease-in-out;z-index:3;height:calc(100% - 48px)}.blog .headings.fixed{position:fixed}.blog .headings .index-resizable{height:100%!important}.blog .headings .index-container{overflow:auto;box-shadow:3px 0 4px #b7afc4;background-color:#dadada;height:100%}.blog .headings .index-title{margin:10px 0;text-align:center}.blog .headings .index-list{padding-right:2em}.blog .headings .index-list ul{list-style:none;-webkit-padding-start:20px}.blog .headings .index-list li{position:relative}.blog .headings .index-list li,.blog .headings .index-list li p{margin-bottom:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.blog .headings .index-list li p{display:inline-block;max-width:calc(100% - 60px);vertical-align:bottom}.blog .headings .index-list li:before{content:"# ";color:#d23669}.blog .headings .index-list a.active{color:#333;font-weight:900}.blog .headings .catalog ul{counter-reset:catalog}.blog .headings .catalog li:before{content:"# " counters(catalog,".") " ";counter-increment:catalog}.blog .collapse-icon{padding:8px;position:fixed;bottom:40px;cursor:pointer;border-radius:30px;box-shadow:0 0 10px #766592;background-color:#dadada;transition:left .2s ease-in-out;z-index:3;width:50px;height:50px}.blog .collapse-icon.show{left:25px}.blog .collapse-icon [class*=" icon-"]:before,.blog .collapse-icon [class^=icon-]:before{vertical-align:4px}@media (min-width:768px){.blog.collapse-catalog .post{padding:0 24px;position:absolute;right:0;margin:0}}.blog.collapse-catalog .headings{left:0}@media (max-width:768px){.blog.collapse-catalog .headings{right:0;width:100%}}@media (min-width:768px){.blog.collapse-catalog .collapse-icon.show{left:375px}}.tags-collection .tag-title{color:#d23669}.tags-collection .tag-meta{margin-bottom:2.5em}.gatsby-highlight-code-line{background-color:#ccc;display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:.75em;height:24px;border-left:.25em solid #f99}code[class*=language-]{word-wrap:break-word;word-break:break-all}:not(pre)>code[class*=language-]{color:#d23669}.gatsby-highlight{margin-bottom:1em;overflow:auto}.gatsby-highlight pre[class*=language-]{float:left;min-width:100%;overflow-y:auto!important;overflow-x:hidden!important}.gatsby-code-button-container{z-index:1}.gatsby-highlight pre[class*=language-].line-numbers{padding-left:2.8em}.line-numbers-rows>span:before{padding:0 .4em;text-align:center}pre[class*=language-]{padding:1.4em .8em}.line-numbers .line-numbers-rows{margin:1.4em 0;border-right:none}.blog-section{margin-top:2.5em}.blog-section .header{margin-bottom:1.25em}@media (max-width:1024px){.blog-section .text-right{text-align:left}}.blog-section .gt-container .gt-svg svg{fill:#6190e8}.blog-section .gt-container .gt-comment-content p,.blog-section .gt-container textarea{color:#000}.blog-section .gt-container .gt-meta{z-index:2}.navigate-link,.navigate-link:active,.navigate-link:focus{font-weight:700;font-size:1.5em}.navigate-desc{margin-top:20px}.drafts-description{margin-bottom:40px}.blog-header{display:block;margin-bottom:50px}.blog-header__link{font-size:1.5em;height:auto;padding:10px 15px;float:left;margin-top:-8px}@media (max-width:768px){.blog-header__link{float:none}}.blog-header__img{width:70px;margin-right:25px}@media (max-width:768px){.blog-header__img{margin:0 auto}}.anchor{color:#fff;fill:currentColor}.katex{white-space:normal;word-break:break-all;word-wrap:break-word;line-break:anywhere}.about a{text-decoration:underline}.about p{padding-bottom:.75em}.about header{color:#d23669}.about header .header-avatar{display:inline-block;width:150px}.about header .header-description{font-size:1.5em}.about .about-section-title{color:#d23669;font-weight:700}.about .about-section{margin-top:2em;margin-bottom:2em}.about .about-section .row{margin-bottom:1em}@media (max-width:768px){.about .about-section .text-right{text-align:left}}.search .ais-Hits-item{width:100%;box-shadow:none;border:none;padding:0;margin-top:0}.search a{text-decoration:none}.search .ais-SearchBox{float:left;width:70%}.search .ais-HitsPerPage{float:right;width:20%}.search .ais-HitsPerPage .ais-HitsPerPage-select{width:100%}.search .ais-Pagination{max-width:100%;margin-top:1em}.tags a{text-decoration:none}</style></head><body itemscope="" itemtype="http://schema.org/WebPage"><div id="___gatsby"><div data-reactroot="" data-reactid="1" data-react-checksum="1185383474"><!-- react-empty: 2 --><div class="fixed-header" data-reactid="3"><p data-reactid="4">女王控的博客</p><div data-reactid="5"><i class="icon icon-menu" data-reactid="6"></i></div></div><nav class="navbar navbar-default" data-reactid="7"><div class="container" data-reactid="8"><div class="medium-8 medium-offset-2 large-10 large-offset-1" data-reactid="9"><div class="navbar-header" data-reactid="10"><button type="button" class="navbar-toggle collapsed" data-reactid="11"><span class="sr-only" data-reactid="12">Toggle navigation</span><span class="icon-bar" data-reactid="13"></span><span class="icon-bar" data-reactid="14"></span><span class="icon-bar" data-reactid="15"></span></button></div><div class="collapse navbar-collapse " id="main-menu" data-reactid="16"><ul class="nav navbar-nav navbar-right" data-reactid="17"><li data-reactid="18"><a href="/" data-reactid="19">首页</a></li><li data-reactid="20"><a href="/tags" data-reactid="21">标签</a></li><li data-reactid="22"><a href="/about" data-reactid="23">关于</a></li><li data-reactid="24"><a href="/search" data-reactid="25">搜索</a></li></ul></div></div></div></nav><div class="header-menu" data-reactid="26"><div class="menu-list" data-reactid="27"><li class="menu-item" data-reactid="28"><a href="/" data-reactid="29">首页</a></li><li class="menu-item" data-reactid="30"><a href="/tags" data-reactid="31">标签</a></li><li class="menu-item" data-reactid="32"><a href="/about" data-reactid="33">关于</a></li><li class="menu-item" data-reactid="34"><a href="/search" data-reactid="35">搜索</a></li></div></div><section class="main-content" data-reactid="36"><div data-reactid="37"><script type="application/ld+json" data-reactid="38">{
    "@context": "http://schema.org/",
    "@type": "BlogPosting",
    "author": "女王控",
    "headline": "TypeScript 入门学习",
    "datePublished": "2021-10-22 13:47:44",
    "description": "背景知识 TypeScript 入门教程 深入理解 TypeScript 一份不可多得的 TS 学习指南 React 中的用法 组件声明 类组件 类组件的定义形式有两种：  和  ，它们都是泛型接口，接收两个参数，第一个是 props 类型的定义，第二个是 state…",
    "publisher": {
      "@type": "Person",
      "name": "女王控",
      "logo": {
        "@type": "ImageObject",
        "url": "/schema/avatar.png"
      }
    }
  }</script><div data-reactid="39"><!-- react-empty: 40 --></div><main class="blog container" role="main" data-reactid="41"><div class="medium-10 medium-offset-1 large-10 large-offset-1 post" data-reactid="42"><header class="post-head" data-reactid="43"><h1 class="post-title" data-reactid="44">TypeScript 入门学习</h1></header><section class="post-meta" data-reactid="45"><div class="row" data-reactid="46"><div class="medium-6 small-12" data-reactid="47"><ul class="list-inline" data-reactid="48"><li data-reactid="49"><a class="author-avatar" itemprop="name" href="/" data-reactid="50"><div class=" gatsby-image-outer-wrapper" style="position:relative;" data-reactid="51"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;" data-reactid="52"><div style="width:100%;padding-bottom:150%;" data-reactid="53"></div><img alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsSAAALEgHS3X78AAAHlUlEQVRIx11WaWxU1xWewbQlrdofkSIhGiBpMPZ4Vs/2lpm3zupZPOOZ8Sz2YGzANkaAKaYQUrMkLYgiIlxCQjCYQAwYEoMQNJAIFBxaQgUhoCopYceBJo1pKFVDCbOc0/fesOZKV+fM1Tvf/c56R0VYOZW8lvAxtSybvbExAu1+mndGuaDQ2F4rNHVFhCZJZlMeZ1Qrf9Mt+H+qur/ihFORAFA64J0pVTcXVcDmcKFfruIzZ7rY1H89fAZivjbM1MzFxkAnZqWd9M7KJcTmv7zCN44sY+tflm12C79WLxLCqidWN9cwWpYvsfXL13vasZudgm4mgX4hW6h1teRjnrZCwjOzWO/twIR/FjZ7WnEZ35JvcUSeU4gwSXV7W1sJzEH6R8nSRArlXjr6r7S1DqNUvMAzCXCzSfDxDRAUmyDkaoawtEPi1LxHyGLMkby5gEqUy7atjnq1roosAXqE6Yq7DBXa7RLS6HRG8y4hhbwzDiJbj4IkXUwS5e1h07IOorMePUL6ruiKGmRblg2PesJlq9nxrJMMfydIbhIWP9jMPrBLkrIHgXfG0CdmgKMjwFARFKVvHEQo5xUyKDDRN2T7aE17mV5rfZQYm1lM0EQYWUe0aNTxoKl0Qnk5jVqNA/VaFu3SBS7SB7Ju0ougr2KKWg2DBi17mbCaxyghMzgeMTTp2W7CGkTKHshZqn0Q5Osg6opBhAmAzcADY/NheyQJBi2D8mXVehYMOgEsJg9aTIxSN2YTO+ohQ62G6rGZa5AmAjmj0YvzG5vhVP8f4fTO12FtVxfMjTfC6zPbwOsIQNybhK6GlmLCm5DA6cu2aoeSaaOeVheLxRKgpoJcZ5UAly94MeeiQ+jnQtBCcTBTZ8Ght9fDfy58DDdOHIRj2zdA/4uzYWBpZ6Fr6jR8/lfWP8n2usqA2mQgH7msr3Ks0WgEfGvN6lz/q6tgXqgZjgpZOGSLwsldA4CFG4j3rmP/osU47xkdrm5pLfjdETm+p64cf0fJME34HiVFV+VYajF50UGGc/Nnz4XDfW/ArQ09+M++XsCblwD+fQEL356HswuWwdedS+Dg2p5ilZQwa7VrpCHZ9nOl7Ojg44B0hxxg0hbMjx2rh2iwDk4feReKI58hfn8V8c5lwNyXiF+dRbz4Z1jY1g4TJ1rQbnHfc/ORihJDr5q0kw8AyVqDjpeSEpJLAyaMN6HRwMDuTa/B1fcPwcfbBuHc8SPw+cnDsGvzeim7HOg0DpAYoouPBWUMJxUo65y18X4MtbYJOo3zjgQoxwWen1iNDdPmwPu9+2BvfCXsXbQRehf9Hly0B8aN04OuioGqCipvt/hQ5GLzS4Dh0Tdv3+/nvm0qVVUlfUouboOWK8jxmaznMBXIwpbfroWN63th384tcHTfDpj0gg21lQxoK+m8TQGMb5UxAt6OUYSVkUuGK5MPKiuIHicZwWqDmNNqpE6pIFBjpGDxsqXwuxUroWtBN5w4NgSbNvcDIRW61CUFu9UrtV/si7Fjf/ajUmICSvxKgJMtdQxVK2XOU9RpGNBL3VBeQWIqPR3SjR3QOW8xrFmxCnrWbYJMaobEkr1HE/4zIpv4nrK7NIrbpF+tspoYZdpMLte+wNPRu6S1Bs1GqV/1DOqMPFjIMFbq3dg6cyFkGmagqZqHaoOAHF2XZ6ngWg+XBM4RVoLHOWrLVG4uWpo4FvsvfHz6NktFkbT6QafnQGsUoFLHYm1dFj44cgwYPgQVkymkbP6RWl+LNIRjL/uFhltuNjEoYySCXaNUojOsMPSw4aqwa+o9ga5DggiC1RFDmyMG1bYQVlTSIIhRMJq9RaPZJ4VF+DQZ6MCAmOkLurJ/DYiNt/R67VMKs4hrqjL+o+6mjrj0hjBEOG+1h8FOxcFO1oHVFgazPYQGqdfNthBYpUqwEME78nsT4tP7o96WwWSwA1nKb35iyCZ8M85EXE3oYBO3ab4RKWcSKCaFJJMCQprSpPQcUFwKzWQUKo1+lC9x0r7Fcc+0OVOj8zEkNrY8BAuLDV11ruZvDXrhuJ3NIu+bAYK/FXjfdOA8zegUp6DdmQKNMQD+8HTseW1LYeijE/jB4Q+/Wry8a5L01B6MeaetUcDSjfVjjOVM7da+bTMPvHfkbmrKb5DksjkLncmZqXTe6siAnWmAmkhbYUPvQP7cufO5L69fxyvD/8Ctb+/aI2PU8AmvRGqZAoiIityzb8/T165d3X3t2vD/Pjr+KW7b+R6u2/AOrli9CQfePYQXLg3jpSvDeOLkWTxw6Oh3uwYPrJTMlNHlFcLPeNk6/UOXZ7cuGP1A397fP/7v584vvzJ8o+dvn33+Zm/v9q9X/2EDbN+19+ybm3ds33/ww5f63uovf/D9woVL1A90P5dQqYaGhpQfg4N71BJbteoHqyk7Z+e8zlfuSupPHj+/eO2bso5ZcxQ9Fsiqgny6ZOv3+VTfjIwo+iefnFYN7BxQf3FxuEwGH1c+fgxBuIZnTFuIIh9U2qt3844fb9y0Vf0gXPKm7bzKzYZ+wGTKFFWNz1/6v8OLUiuaFKMJz00yEvaa/RQZnK086s6MutpEqRLx+kcT+rH1f+YikeeNfqnwAAAAAElFTkSuQmCC" style="position:absolute;top:0;left:0;transition:opacity 0.5s;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:0.25s;" data-reactid="54"/><noscript data-reactid="55"><img src="/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-25c91.png" srcset="/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-8a97b.png 200w,
/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-0fdf3.png 400w,
/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-25c91.png 600w" alt="" sizes="(max-width: 600px) 100vw, 600px" style="position:absolute;top:0;left:0;transition:opacity 0.5s;transition-delay:0.5s;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></noscript></div></div></a></li><li data-reactid="56"><div class="author-name" data-reactid="57">女王控</div><time class="post-date" datetime="2021-10-22 13:47:44" data-reactid="58">2021-10-22 13:47:44</time></li></ul></div><div class="medium-6 small-12 desc" data-reactid="59"><ul class="tags list-inline" data-reactid="60"><li data-reactid="61"><a href="/tag/前端" data-reactid="62">前端</a></li><li data-reactid="63"><a href="/tag/TypeScript" data-reactid="64">TypeScript</a></li><li data-reactid="65"><a href="/tag/ts" data-reactid="66">ts</a></li></ul><div class="timeSize" data-reactid="67"><!-- react-text: 68 -->阅读时间：<!-- /react-text --><!-- react-text: 69 -->62<!-- /react-text --><!-- react-text: 70 -->分钟 文章字数：<!-- /react-text --><!-- react-text: 71 -->2027<!-- /react-text --><!-- react-text: 72 -->字<!-- /react-text --></div></div></div></section><div class="separator" data-reactid="73"></div><article class="main-post" data-reactid="74"><section class="post-content" data-reactid="75"><h1 id="背景知识"><a href="#%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>背景知识</h1>
<ul>
<li><a href="https://ts.xcatliu.com/" target="_blank" rel="nofollow noreferrer noopener">TypeScript 入门教程</a></li>
<li><a href="https://jkchao.github.io/typescript-book-chinese/" target="_blank" rel="nofollow noreferrer noopener">深入理解 TypeScript</a></li>
<li><a href="https://juejin.cn/post/6872111128135073806" target="_blank" rel="nofollow noreferrer noopener">一份不可多得的 TS 学习指南</a></li>
</ul>
<h1 id="react-中的用法"><a href="#react-%E4%B8%AD%E7%9A%84%E7%94%A8%E6%B3%95" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>React 中的用法</h1>
<h2 id="组件声明"><a href="#%E7%BB%84%E4%BB%B6%E5%A3%B0%E6%98%8E" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>组件声明</h2>
<h3 id="类组件"><a href="#%E7%B1%BB%E7%BB%84%E4%BB%B6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>类组件</h3>
<p>类组件的定义形式有两种：<code class="language-text">React.Component&lt;P, S={}&gt;</code> 和 <code class="language-text">React.PureComponent&lt;P, S={} SS={}&gt;</code>，它们都是泛型接口，接收两个参数，第一个是 props 类型的定义，第二个是 state 类型的定义，这两个参数都不是必须的，没有时可以省略：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="36442039641897783000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface IProps {
   name: string;
}

interface IState {
   count: number;
}

class App extends React.Component<IProps, IState> {
   state = {
      count: 0
   };

   render() {
      return (
         <div>
            {this.state.count}
            {this.props.name}
         </div>
      );
   }
}

export default App;`, `36442039641897783000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">IState</span> <span class="token punctuation">{</span>
   count<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&lt;</span>IProps<span class="token punctuation">,</span> IState<span class="token operator">></span> <span class="token punctuation">{</span>
   state <span class="token operator">=</span> <span class="token punctuation">{</span>
      count<span class="token punctuation">:</span> <span class="token number">0</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>

   <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token plain-text">
         </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p><code class="language-text">React.PureComponent&lt;P, S={} SS={}&gt;</code> 也是差不多的：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="49965102715545395000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`class App extends React.PureComponent<IProps, IState> {}`, `49965102715545395000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>PureComponent</span><span class="token operator">&lt;</span>IProps<span class="token punctuation">,</span> IState<span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>如果定义时候我们不知道组件的 props 的类型，只有在调用时才知道组件类型，该怎么办呢？这时泛型就发挥作用了：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="39088686700051210000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`// 定义组件
class MyComponent<P> extends React.Component<P> {
   internalProp: P;
   constructor(props: P) {
      super(props);
      this.internalProp = props;
   }
   render() {
      return <span>hello world</span>;
   }
}

// 使用组件
type IProps = { name: string; age: number };

<MyComponent<IProps> name='React' age={18} />; // Success
<MyComponent<IProps> name='TypeScript' age='hello' />; // Error`, `39088686700051210000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token comment">// 定义组件</span>
<span class="token keyword">class</span> <span class="token class-name">MyComponent</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">P</span></span><span class="token punctuation">></span></span><span class="token plain-text"> extends React.Component</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">P</span></span><span class="token punctuation">></span></span><span class="token plain-text"> </span><span class="token punctuation">{</span>
   internalProp<span class="token punctuation">:</span> <span class="token constant">P</span><span class="token punctuation">;</span>
   <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">:</span> <span class="token constant">P</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>internalProp <span class="token operator">=</span> props<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token plain-text">hello world</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token plain-text">

// 使用组件
type IProps = </span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> age<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token plain-text">;

&lt;MyComponent</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IProps</span></span><span class="token punctuation">></span></span><span class="token plain-text"> name='React' age=</span><span class="token punctuation">{</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token plain-text"> />; // Success
&lt;MyComponent</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IProps</span></span><span class="token punctuation">></span></span><span class="token plain-text"> name='TypeScript' age='hello' />; // Error</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3 id="函数组件"><a href="#%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>函数组件</h3>
<div
              class="gatsby-code-button-container"
              data-toaster-id="19888398618321945000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface IProps {
   name: string;
}

const App = (props: IProps) => {
   const { name } = props;

   return (
      <div className='App'>
         <h1>hello world</h1>
         <h2>{name}</h2>
      </div>
   );
};

export default App;`, `19888398618321945000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">:</span> IProps</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
   <span class="token keyword">const</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>

   <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>App<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token plain-text">
         </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">hello world</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
         </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>除此之外，函数类型还可以使用 <code class="language-text">React.FunctionComponent&lt;P={}&gt;</code> 来定义，也可以使用其简写<code class="language-text">React.FC&lt;P={}&gt;</code>，两者效果是一样的。它是一个泛型接口，可以接收一个参数，参数表示 props 的类型，这个参数不是必须的。它们就相当于这样：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="79919266676407070000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type React.FC<P = {}> = React.FunctionComponent<P>`, `79919266676407070000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">type</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span><span class="token constant">P</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token operator">></span> <span class="token operator">=</span> React<span class="token punctuation">.</span>FunctionComponent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">P</span></span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>最终的定义形式如下：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="7276111816337205000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface IProps {
   name: string;
}

const App: React.FC<IProps> = (props) => {
   const { name } = props;
   return (
      <div className='App'>
         <h1>hello world</h1>
         <h2>{name}</h2>
      </div>
   );
};

export default App;`, `7276111816337205000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> App<span class="token punctuation">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IProps</span></span><span class="token punctuation">></span></span><span class="token plain-text"> = (props) => </span><span class="token punctuation">{</span>
   <span class="token keyword">const</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>App<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token plain-text">
         </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">hello world</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
         </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">;

export default App;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>当使用这种形式来定义函数组件时，props 中默认会带有 children 属性，它表示该组件在调用时，其内部的元素</p>
<p>使用 React.FC 声明函数组件和普通声明的区别如下：</p>
<ul>
<li>React.FC 显式地定义了返回类型，其他方式是隐式推导的；</li>
<li>React.FC 对静态属性：displayName、propTypes、defaultProps 提供了类型检查和自动补全；</li>
<li>React.FC 为 children 提供了隐式的类型（ReactElement | null）。</li>
</ul>
<p>那如果我们在定义组件时不知道 props 的类型，只有调用时才知道，那就还是用泛型来定义 props 的类型。对于使用 function 定义的函数组件：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="7597819478737100000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`// 定义组件
function MyComponent<P>(props: P) {
   return <span>{props}</span>;
}

// 使用组件
type IProps = { name: string; age: number };

<MyComponent<IProps> name='React' age={18} />; // Success
<MyComponent<IProps> name='TypeScript' age='hello' />; // Error`, `7597819478737100000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token comment">// 定义组件</span>
<span class="token keyword">function</span> MyComponent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">P</span></span><span class="token punctuation">></span></span><span class="token plain-text">(props: P) </span><span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>props<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">

// 使用组件
type IProps = </span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> age<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token plain-text">;

&lt;MyComponent</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IProps</span></span><span class="token punctuation">></span></span><span class="token plain-text"> name='React' age=</span><span class="token punctuation">{</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token plain-text"> />; // Success
&lt;MyComponent</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IProps</span></span><span class="token punctuation">></span></span><span class="token plain-text"> name='TypeScript' age='hello' />; // Error</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>如果使用箭头函数定义的函数组件，直接这样调用时错误的：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="32149062175437713000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const MyComponent = <P>(props: P) {
  return (
   <span>
     {props}
    </span>
  );
}`, `32149062175437713000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">const</span> MyComponent <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">P</span></span><span class="token punctuation">></span></span><span class="token plain-text">(props: P) </span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token plain-text">
     </span><span class="token punctuation">{</span>props<span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>必须使用 extends 关键字来定义泛型参数才能被成功解析：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="27097618215578722000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const MyComponent = <P extends any>(props: P) {
  return (
   <span>
     {props}
    </span>
  );
}`, `27097618215578722000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">const</span> MyComponent <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">P</span></span> <span class="token attr-name">extends</span> <span class="token attr-name">any</span><span class="token punctuation">></span></span><span class="token plain-text">(props: P) </span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token plain-text">
     </span><span class="token punctuation">{</span>props<span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="react-内置类型"><a href="#react-%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>React 内置类型</h2>
<h3 id="jsxelement"><a href="#jsxelement" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>JSX.Element</h3>
<p>先来看看 JSX.Element 类型的声明：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="63117156168657210000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`declare global {
   namespace JSX {
      interface Element extends React.ReactElement<any, any> {}
   }
}`, `63117156168657210000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">declare</span> global <span class="token punctuation">{</span>
   <span class="token keyword">namespace</span> <span class="token constant">JSX</span> <span class="token punctuation">{</span>
      <span class="token keyword">interface</span> <span class="token class-name">Element</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>ReactElement</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>可以看到，JSX.Element 是 ReactElement 的子类型，它没有增加属性，两者是等价的。也就是说两种类型的变量可以相互赋值。​</p>
<p>JSX.Element 可以通过执行 React.createElement 或是转译 JSX 获得：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="87769740985793070000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const jsx = <div>hello</div>;
const ele = React.createElement('div', null, 'hello');`, `87769740985793070000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">const</span> jsx <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">hello</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ele <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<h3 id="reactreactelement"><a href="#reactreactelement" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>React.ReactElement</h3>
<p>React 的类型声明文件中提供了 <code class="language-text">React.ReactElement&lt;T&gt;</code>，它可以让我们通过传入 <code class="language-text">&lt;T&gt;</code> 来注解类组件的实例化，它在声明文件中的定义如下：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="48530418135541440000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface ReactElement<P = any, T extends string | JSXElementConstructor<any> = string | JSXElementConstructor<any>> {
   type: T;
   props: P;
   key: Key | null;
}`, `48530418135541440000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">ReactElement</span><span class="token operator">&lt;</span><span class="token constant">P</span> <span class="token operator">=</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span> <span class="token operator">|</span> JSXElementConstructor<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> JSXElementConstructor<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">>></span> <span class="token punctuation">{</span>
   <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
   props<span class="token punctuation">:</span> <span class="token constant">P</span><span class="token punctuation">;</span>
   key<span class="token punctuation">:</span> Key <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>ReactElement 是一个接口，包含 type,props,key 三个属性值。该类型的变量值只能是两种： null 和 ReactElement 实例。​</p>
<p>通常情况下，函数组件返回 ReactElement（JSX.Element）的值。</p>
<h3 id="reactreactnode"><a href="#reactreactnode" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>React.ReactNode</h3>
<p>ReactNode 类型的声明如下：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="76831551381667200000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type ReactText = string | number;
type ReactChild = ReactElement | ReactText;

interface ReactNodeArray extends Array<ReactNode> {}
type ReactFragment = {} | ReactNodeArray;
type ReactNode = ReactChild | ReactFragment | ReactPortal | boolean | null | undefined;`, `76831551381667200000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> ReactText <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> ReactChild <span class="token operator">=</span> ReactElement <span class="token operator">|</span> ReactText<span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">ReactNodeArray</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span>ReactNode<span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">type</span> ReactFragment <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">|</span> ReactNodeArray<span class="token punctuation">;</span>
<span class="token keyword">type</span> ReactNode <span class="token operator">=</span> ReactChild <span class="token operator">|</span> ReactFragment <span class="token operator">|</span> ReactPortal <span class="token operator">|</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>可以看到，ReactNode 是一个联合类型，它可以是 string、number、ReactElement、null、boolean、ReactNodeArray。由此可知。ReactElement 类型的变量可以直接赋值给 ReactNode 类型的变量，但反过来是不行的。</p>
<p>类组件的 render 成员函数会返回 ReactNode 类型的值：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="55284825184764340000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`class MyComponent extends React.Component {
   render() {
      return <div>hello world</div>;
   }
}
// 正确
const component: React.ReactNode<MyComponent> = <MyComponent />;
// 错误
const component: React.ReactNode<MyComponent> = <OtherComponent />;`, `55284825184764340000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
   <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">hello world</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 正确</span>
<span class="token keyword">const</span> component<span class="token punctuation">:</span> React<span class="token punctuation">.</span>ReactNode<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MyComponent</span></span><span class="token punctuation">></span></span><span class="token plain-text"> = </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MyComponent</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">;
// 错误
const component: React.ReactNode</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MyComponent</span></span><span class="token punctuation">></span></span><span class="token plain-text"> = </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">OtherComponent</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>上面的代码中，给 component 变量设置了类型是 Mycomponent 类型的 react 实例，这时只能给其赋值其为 MyComponent 的实例组件。​</p>
<p>通常情况下，类组件通过 render() 返回 ReactNode 的值。</p>
<h3 id="cssproperties"><a href="#cssproperties" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CSSProperties</h3>
<p>先来看看 React 的声明文件中对 CSSProperties 的定义：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="51412883153965950000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`export interface CSSProperties extends CSS.Properties<string | number> {
   /**
    * The index signature was removed to enable closed typing for style
    * using CSSType. You're able to use type assertion or module augmentation
    * to add properties or an index signature of your own.
    *
    * For examples and more information, visit:
    * https://github.com/frenic/csstype#what-should-i-do-when-i-get-type-errors
    */
}`, `51412883153965950000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">CSSProperties</span> <span class="token keyword">extends</span> <span class="token class-name">CSS<span class="token punctuation">.</span>Properties</span><span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">></span> <span class="token punctuation">{</span>
   <span class="token comment">/**
    * The index signature was removed to enable closed typing for style
    * using CSSType. You're able to use type assertion or module augmentation
    * to add properties or an index signature of your own.
    *
    * For examples and more information, visit:
    * https://github.com/frenic/csstype#what-should-i-do-when-i-get-type-errors
    */</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>React.CSSProperties 是 React 基于 TypeScript 定义的 CSS 属性类型，可以将一个方法的返回值设置为该类型：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="27718838349883180000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`import * as React from 'react';

const classNames = require('./sidebar.css');

interface Props {
   isVisible: boolean;
}

const divStyle = (props: Props): React.CSSProperties => ({
   width: props.isVisible ? '23rem' : '0rem'
});

export const SidebarComponent: React.StatelessComponent<Props> = (props) => (
   <div id='mySidenav' className={classNames.sidenav} style={divStyle(props)}>
      {props.children}
   </div>
);`, `27718838349883180000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> classNames <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">'./sidebar.css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>
   isVisible<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> divStyle <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">:</span> Props<span class="token punctuation">)</span><span class="token punctuation">:</span> React<span class="token punctuation">.</span><span class="token parameter">CSSProperties</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
   width<span class="token punctuation">:</span> props<span class="token punctuation">.</span>isVisible <span class="token operator">?</span> <span class="token string">'23rem'</span> <span class="token punctuation">:</span> <span class="token string">'0rem'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> SidebarComponent<span class="token punctuation">:</span> React<span class="token punctuation">.</span>StatelessComponent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Props</span></span><span class="token punctuation">></span></span><span class="token plain-text"> = (props) => (
   </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>mySidenav<span class="token punctuation">'</span></span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>classNames<span class="token punctuation">.</span>sidenav<span class="token punctuation">}</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">divStyle</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span><span class="token plain-text">
   </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
);</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>这里 divStyle 组件的返回值就是 React.CSSProperties 类型。</p>
<p>我们还可以定义一个 CSSProperties 类型的变量：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="30731372745306840000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const divStyle: React.CSSProperties = {
   width: '11rem',
   height: '7rem',
   backgroundColor: \`rgb(\${props.color.red},\${props.color.green}, \${props.color.blue})\`
};`, `30731372745306840000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">const</span> divStyle<span class="token punctuation">:</span> React<span class="token punctuation">.</span>CSSProperties <span class="token operator">=</span> <span class="token punctuation">{</span>
   width<span class="token punctuation">:</span> <span class="token string">'11rem'</span><span class="token punctuation">,</span>
   height<span class="token punctuation">:</span> <span class="token string">'7rem'</span><span class="token punctuation">,</span>
   backgroundColor<span class="token punctuation">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">rgb(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>props<span class="token punctuation">.</span>color<span class="token punctuation">.</span>red<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>props<span class="token punctuation">.</span>color<span class="token punctuation">.</span>green<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>props<span class="token punctuation">.</span>color<span class="token punctuation">.</span>blue<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>这个变量可以在 HTML 标签的 style 属性上使用：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="46974950090458020000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`<div style={divStyle} />`, `46974950090458020000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>divStyle<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>在 React 的类型声明文件中，style 属性的类型如下：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="49425348279266320000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`style?: CSSProperties | undefined;`, `49425348279266320000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts">style<span class="token operator">?</span><span class="token punctuation">:</span> CSSProperties <span class="token operator">|</span> undefined<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<h2 id="react-hooks"><a href="#react-hooks" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>React Hooks</h2>
<h3 id="usestate"><a href="#usestate" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>useState</h3>
<p>默认情况下，React 会为根据设置的 state 的初始值来自动推导 state 以及更新函数的类型</p>
<p>如果已知 state 的类型，可以通过以下形式来自定义 state 的类型：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="82071771582901960000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const [count, setCount] = useState<number>(1);`, `82071771582901960000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>number</span><span class="token punctuation">></span></span><span class="token plain-text">(1);</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>如果初始值为 null，需要显式地声明 state 的类型：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="22950874511384620000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const [count, setCount] = useState<number | null>(null);`, `22950874511384620000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span><span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>如果 state 是一个对象，想要初始化一个空对象，可以使用断言来处理：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="5959979615523880000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const [user, setUser] = React.useState<IUser>({} as IUser);`, `5959979615523880000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">const</span> <span class="token punctuation">[</span>user<span class="token punctuation">,</span> setUser<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span>useState<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IUser</span></span><span class="token punctuation">></span></span><span class="token plain-text">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token plain-text"> as IUser);</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>实际上，这里将空对象 <code class="language-text">{}</code> 断言为 IUser 接口就是欺骗了 TypeScript 的编译器，由于后面的代码可能会依赖这个对象，所以应该在使用前及时初始化 user 的值，否则就会报错。</p>
<p>下面是声明文件中 useState 的定义：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="35998898192724615000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`function useState<S>(initialState: S | (() => S)): [S, Dispatch<SetStateAction<S>>];
// convenience overload when first argument is omitted
/**
 * Returns a stateful value, and a function to update it.
 *
 * @version 16.8.0
 * @see https://reactjs.org/docs/hooks-reference.html#usestate
 */

function useState<S = undefined>(): [S | undefined, Dispatch<SetStateAction<S | undefined>>];
/**
 * An alternative to \`useState\`.
 *
 * \`useReducer\` is usually preferable to \`useState\` when you have complex state logic that involves
 * multiple sub-values. It also lets you optimize performance for components that trigger deep
 * updates because you can pass \`dispatch\` down instead of callbacks.
 *
 * @version 16.8.0
 * @see https://reactjs.org/docs/hooks-reference.html#usereducer
 */`, `35998898192724615000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> useState<span class="token operator">&lt;</span><span class="token constant">S</span><span class="token operator">></span><span class="token punctuation">(</span>initialState<span class="token punctuation">:</span> <span class="token constant">S</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">S</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token constant">S</span><span class="token punctuation">,</span> Dispatch<span class="token operator">&lt;</span>SetStateAction<span class="token operator">&lt;</span><span class="token constant">S</span><span class="token operator">>></span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// convenience overload when first argument is omitted</span>
<span class="token comment">/**
 * Returns a stateful value, and a function to update it.
 *
 * @version 16.8.0
 * @see https://reactjs.org/docs/hooks-reference.html#usestate
 */</span>

<span class="token keyword">function</span> useState<span class="token operator">&lt;</span><span class="token constant">S</span> <span class="token operator">=</span> undefined<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token constant">S</span> <span class="token operator">|</span> undefined<span class="token punctuation">,</span> Dispatch<span class="token operator">&lt;</span>SetStateAction<span class="token operator">&lt;</span><span class="token constant">S</span> <span class="token operator">|</span> undefined<span class="token operator">>></span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * An alternative to `useState`.
 *
 * `useReducer` is usually preferable to `useState` when you have complex state logic that involves
 * multiple sub-values. It also lets you optimize performance for components that trigger deep
 * updates because you can pass `dispatch` down instead of callbacks.
 *
 * @version 16.8.0
 * @see https://reactjs.org/docs/hooks-reference.html#usereducer
 */</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>可以看到，这里定义两种形式，分别是有初始值和没有初始值的形式。</p>
<h3 id="useeffect"><a href="#useeffect" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>useEffect</h3>
<div
              class="gatsby-code-button-container"
              data-toaster-id="59621373407249290000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`useEffect(() => {
   const subscription = props.source.subscribe();
   return () => {
      subscription.unsubscribe();
   };
}, [props.source]);`, `59621373407249290000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
   <span class="token keyword">const</span> subscription <span class="token operator">=</span> props<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      subscription<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>props<span class="token punctuation">.</span>source<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>当函数的返回值不是函数或者 effect 函数中未定义的内容时，如下：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="13240529860971418000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`useEffect(() => {
   subscribe();
   return null; // Type 'null' is not assignable to type 'void | Destructor'
});`, `13240529860971418000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
   <span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// Type 'null' is not assignable to type 'void | Destructor'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>
<p>来看看 useEffect 在类型声明文件中的定义：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="69875081128054540000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`// Destructors are only allowed to return void.
type Destructor = () => void | { [UNDEFINED_VOID_ONLY]: never };

// NOTE: callbacks are _only_ allowed to return either void, or a destructor.
type EffectCallback = () => void | Destructor;

// (TypeScript 3.0): ReadonlyArray<unknown>
type DependencyList = ReadonlyArray<any>;

function useEffect(effect: EffectCallback, deps?: DependencyList): void;
// NOTE: this does not accept strings, but this will have to be fixed by removing strings from type Ref<T>
/**
 * \`useImperativeHandle\` customizes the instance value that is exposed to parent components when using
 * \`ref\`. As always, imperative code using refs should be avoided in most cases.
 *
 * \`useImperativeHandle\` should be used with \`React.forwardRef\`.
 *
 * @version 16.8.0
 * @see https://reactjs.org/docs/hooks-reference.html#useimperativehandle
 */`, `69875081128054540000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// Destructors are only allowed to return void.</span>
<span class="token keyword">type</span> <span class="token function-variable function">Destructor</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span> <span class="token operator">|</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">UNDEFINED_VOID_ONLY</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">never</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// NOTE: callbacks are _only_ allowed to return either void, or a destructor.</span>
<span class="token keyword">type</span> <span class="token function-variable function">EffectCallback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span> <span class="token operator">|</span> Destructor<span class="token punctuation">;</span>

<span class="token comment">// (TypeScript 3.0): ReadonlyArray&lt;unknown></span>
<span class="token keyword">type</span> DependencyList <span class="token operator">=</span> ReadonlyArray<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token parameter">effect<span class="token punctuation">:</span> EffectCallback<span class="token punctuation">,</span> deps<span class="token operator">?</span><span class="token punctuation">:</span> DependencyList</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token comment">// NOTE: this does not accept strings, but this will have to be fixed by removing strings from type Ref&lt;T></span>
<span class="token comment">/**
 * `useImperativeHandle` customizes the instance value that is exposed to parent components when using
 * `ref`. As always, imperative code using refs should be avoided in most cases.
 *
 * `useImperativeHandle` should be used with `React.forwardRef`.
 *
 * @version 16.8.0
 * @see https://reactjs.org/docs/hooks-reference.html#useimperativehandle
 */</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>可以看到，useEffect 的第一个参数只允许返回一个函数。</p>
<h3 id="useref"><a href="#useref" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>useRef</h3>
<p>当使用 useRef 时，我们可以访问一个可变的引用对象。可以将初始值传递给 useRef，它用于初始化可变 ref 对象公开的当前属性。当我们使用 useRef 时，需要给其指定类型：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="82454231540741180000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const nameInput = React.useRef<HTMLInputElement>(null);`, `82454231540741180000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">const</span> nameInput <span class="token operator">=</span> React<span class="token punctuation">.</span>useRef<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">HTMLInputElement</span></span><span class="token punctuation">></span></span><span class="token plain-text">(null);</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>这里给实例的类型指定为了 input 输入框类型。​</p>
<p>当 useRef 的初始值为 null 时，有两种创建的形式，第一种：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="82715275512629500000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const nameInput = React.useRef<HTMLInputElement>(null);
nameInput.current.innerText = 'hello world';`, `82715275512629500000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">const</span> nameInput <span class="token operator">=</span> React<span class="token punctuation">.</span>useRef<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">HTMLInputElement</span></span><span class="token punctuation">></span></span><span class="token plain-text">(null);
nameInput.current.innerText = 'hello world';</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>这种形式下，ref1.current 是只读的（read-only），所以当我们将它的 innerText 属性重新赋值时会报以下错误：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="67121579831683590000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`Cannot assign to 'current' because it is a read-only property.`, `67121579831683590000`)"
            >
              <div
                class="gatsby-code-button"
                title=""
              >
                
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">Cannot assign to &#39;current&#39; because it is a read-only property.</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>那该怎么将 current 属性变为动态可变得的，先来看看类型声明文件中 useRef 是如何定义的：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="68458509935172215000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`function useRef<T>(initialValue: T): MutableRefObject<T>;
// convenience overload for refs given as a ref prop as they typically start with a null value
/**
 * \`useRef\` returns a mutable ref object whose \`.current\` property is initialized to the passed argument
 * (\`initialValue\`). The returned object will persist for the full lifetime of the component.
 *
 * Note that \`useRef()\` is useful for more than the \`ref\` attribute. It’s handy for keeping any mutable
 * value around similar to how you’d use instance fields in classes.
 *
 * Usage note: if you need the result of useRef to be directly mutable, include \`| null\` in the type
 * of the generic argument.
 *
 * @version 16.8.0
 * @see https://reactjs.org/docs/hooks-reference.html#useref
 */`, `68458509935172215000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> useRef<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>initialValue<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> MutableRefObject<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token comment">// convenience overload for refs given as a ref prop as they typically start with a null value</span>
<span class="token comment">/**
 * `useRef` returns a mutable ref object whose `.current` property is initialized to the passed argument
 * (`initialValue`). The returned object will persist for the full lifetime of the component.
 *
 * Note that `useRef()` is useful for more than the `ref` attribute. It’s handy for keeping any mutable
 * value around similar to how you’d use instance fields in classes.
 *
 * Usage note: if you need the result of useRef to be directly mutable, include `| null` in the type
 * of the generic argument.
 *
 * @version 16.8.0
 * @see https://reactjs.org/docs/hooks-reference.html#useref
 */</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>这段代码告诉我们，如果需要 useRef 的直接可变，就需要在泛型参数中包含 <code class="language-text">| null</code>，所以这就是当初始值为 null 的第二种定义形式：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="28493585630132400000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const nameInput = React.useRef<HTMLInputElement | null>(null);`, `28493585630132400000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">const</span> nameInput <span class="token operator">=</span> React<span class="token punctuation">.</span>useRef<span class="token operator">&lt;</span>HTMLInputElement <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>这种形式下，nameInput.current 就是可写的。不过两种类型在使用时都需要做类型检查：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="35716422224610935000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`nameInput.current?.innerText = &quot;hello world&quot;;`, `35716422224610935000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx">nameInput<span class="token punctuation">.</span>current<span class="token operator">?</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>那么问题来了，为什么第一种写法在没有操作 current 时没有报错呢？因为 useRef 在类型定义式具有多个重载声明，第一种方式就是执行的以下函数重载：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="47036318568378910000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`function useRef<T>(initialValue: T | null): RefObject<T>;
// convenience overload for potentially undefined initialValue / call with 0 arguments
// has a default to stop it from defaulting to {} instead
/**
 * \`useRef\` returns a mutable ref object whose \`.current\` property is initialized to the passed argument
 * (\`initialValue\`). The returned object will persist for the full lifetime of the component.
 *
 * Note that \`useRef()\` is useful for more than the \`ref\` attribute. It’s handy for keeping any mutable
 * value around similar to how you’d use instance fields in classes.
 *
 * @version 16.8.0
 * @see https://reactjs.org/docs/hooks-reference.html#useref
 */`, `47036318568378910000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> useRef<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>initialValue<span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">:</span> RefObject<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token comment">// convenience overload for potentially undefined initialValue / call with 0 arguments</span>
<span class="token comment">// has a default to stop it from defaulting to {} instead</span>
<span class="token comment">/**
 * `useRef` returns a mutable ref object whose `.current` property is initialized to the passed argument
 * (`initialValue`). The returned object will persist for the full lifetime of the component.
 *
 * Note that `useRef()` is useful for more than the `ref` attribute. It’s handy for keeping any mutable
 * value around similar to how you’d use instance fields in classes.
 *
 * @version 16.8.0
 * @see https://reactjs.org/docs/hooks-reference.html#useref
 */</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>从 useRef 的声明中可以看到，function useRef 的返回值类型化是 MutableRefObject，这里面的 T 就是参数的类型 T，所以最终 nameInput 的类型就是 React.MutableRefObject。</p>
<p>注意，上面用到了 HTMLInputElement 类型，这是一个标签类型，这个操作就是用来访问 DOM 元素的。</p>
<h3 id="usecallback"><a href="#usecallback" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>useCallback</h3>
<p>先来看看类型声明文件中对 useCallback 的定义：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="40489085808304860000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`function useCallback<T extends (...args: any[]) => any>(callback: T, deps: DependencyList): T;
/**
 * \`useMemo\` will only recompute the memoized value when one of the \`deps\` has changed.
 *
 * Usage note: if calling \`useMemo\` with a referentially stable function, also give it as the input in
 * the second argument.
 *
 * \`\`\`ts
 * function expensive () { ... }
 *
 * function Component () {
 *   const expensiveResult = useMemo(expensive, [expensive])
 *   return ...
 * }
 * \`\`\`
 *
 * @version 16.8.0
 * @see https://reactjs.org/docs/hooks-reference.html#usememo
 */`, `40489085808304860000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> useCallback<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">any</span><span class="token operator">></span><span class="token punctuation">(</span>callback<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> deps<span class="token punctuation">:</span> DependencyList<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * `useMemo` will only recompute the memoized value when one of the `deps` has changed.
 *
 * Usage note: if calling `useMemo` with a referentially stable function, also give it as the input in
 * the second argument.
 *
 * ```ts
 * function expensive () { ... }
 *
 * function Component () {
 *   const expensiveResult = useMemo(expensive, [expensive])
 *   return ...
 * }
 * ```
 *
 * @version 16.8.0
 * @see https://reactjs.org/docs/hooks-reference.html#usememo
 */</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>useCallback 接收一个回调函数和一个依赖数组，只有当依赖数组中的值发生变化时才会重新执行回调函数。来看一个例子：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="71711352797709615000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const add = (a: number, b: number) => a + b;

const memoizedCallback = useCallback(
   (a) => {
      add(a, b);
   },
   [b]
);`, `71711352797709615000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>

<span class="token keyword">const</span> memoizedCallback <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span>
   <span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">[</span>b<span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>这里我们没有给回调函数中的参数 a 定义类型，所以下面的调用方式都不会报错：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="38653039209338250000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`memoizedCallback('hello');
memoizedCallback(5);`, `38653039209338250000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token function">memoizedCallback</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">memoizedCallback</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>尽管 add 方法的两个参数都是 number 类型，但是上述调用都能够用执行。所以为了更加严谨，我们需要给回调函数定义具体的类型：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="36778781336643473000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const memoizedCallback = useCallback(
   (a: number) => {
      add(a, b);
   },
   [b]
);`, `36778781336643473000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">const</span> memoizedCallback <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span>
   <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">[</span>b<span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>这时候如果再给回调函数传入字符串就会报错了，需要注意在使用 useCallback 时需要给回调函数的参数指定类型。</p>
<h3 id="usememo"><a href="#usememo" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>useMemo</h3>
<p>先来看看类型声明文件中对 useMemo 的定义：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="65388367740019290000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`function useMemo<T>(factory: () => T, deps: DependencyList | undefined): T;
/**
 * \`useDebugValue\` can be used to display a label for custom hooks in React DevTools.
 *
 * NOTE: We don’t recommend adding debug values to every custom hook.
 * It’s most valuable for custom hooks that are part of shared libraries.
 *
 * @version 16.8.0
 * @see https://reactjs.org/docs/hooks-reference.html#usedebugvalue
 */`, `65388367740019290000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> useMemo<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token function-variable function">factory</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">T</span><span class="token punctuation">,</span> deps<span class="token punctuation">:</span> DependencyList <span class="token operator">|</span> undefined<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * `useDebugValue` can be used to display a label for custom hooks in React DevTools.
 *
 * NOTE: We don’t recommend adding debug values to every custom hook.
 * It’s most valuable for custom hooks that are part of shared libraries.
 *
 * @version 16.8.0
 * @see https://reactjs.org/docs/hooks-reference.html#usedebugvalue
 */</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>useMemo 和 useCallback 是非常类似的，但是它返回的是一个值，而不是函数。所以在定义 useMemo 时需要定义返回值的类型：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="9356186644011876000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`let a = 1;
setTimeout(() => {
   a += 1;
}, 1000);

const calculatedValue = useMemo<number>(() => a ** 2, [a]);`, `9356186644011876000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
   a <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> calculatedValue <span class="token operator">=</span> useMemo<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> a <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>如果返回值不一致，就会报错</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="89005499692170180000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const calculatedValue = useMemo<number>(() => a + 'hello', [a]);
// 类型“() => string”的参数不能赋给类型“() => number”的参数`, `89005499692170180000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">const</span> calculatedValue <span class="token operator">=</span> useMemo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>number</span><span class="token punctuation">></span></span><span class="token plain-text">(() => a + 'hello', [a]);
// 类型“() => string”的参数不能赋给类型“() => number”的参数</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<h3 id="usecontext"><a href="#usecontext" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>useContext</h3>
<p>useContext 需要提供一个上下文对象，并返回所提供的上下文的值，当提供者更新上下文对象时，引用这些上下文对象的组件就会重新渲染：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="9757343424155240000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const ColorContext = React.createContext({ color: 'green' });

const Welcome = () => {
   const { color } = useContext(ColorContext);
   return <div style={{ color }}>hello world</div>;
};`, `9757343424155240000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">const</span> ColorContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token string">'green'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Welcome</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
   <span class="token keyword">const</span> <span class="token punctuation">{</span> color <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>ColorContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> color <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">hello world</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>在使用 useContext 时，会自动推断出提供的上下文对象的类型，所以并不需要我们手动设置 context 的类型。当前，我们也可以使用泛型来设置 context 的类型：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="47962846721396550000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface IColor {
   color: string;
}

const ColorContext = React.createContext<IColor>({ color: 'green' });`, `47962846721396550000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">interface</span> <span class="token class-name">IColor</span> <span class="token punctuation">{</span>
   color<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> ColorContext <span class="token operator">=</span> React<span class="token punctuation">.</span>createContext<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IColor</span></span><span class="token punctuation">></span></span><span class="token plain-text">(</span><span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token string">'green'</span> <span class="token punctuation">}</span><span class="token plain-text">);</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>下面是 useContext 在类型声明文件中的定义：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="13329222854442314000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`function useContext<T>(context: Context<T> /*, (not public API) observedBits?: number|boolean */): T;
/**
 * Returns a stateful value, and a function to update it.
 *
 * @version 16.8.0
 * @see https://reactjs.org/docs/hooks-reference.html#usestate
 */`, `13329222854442314000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> useContext<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>context<span class="token punctuation">:</span> Context<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token comment">/*, (not public API) observedBits?: number|boolean */</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * Returns a stateful value, and a function to update it.
 *
 * @version 16.8.0
 * @see https://reactjs.org/docs/hooks-reference.html#usestate
 */</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3 id="usereducer"><a href="#usereducer" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>useReducer</h3>
<p>有时我们需要处理一些复杂的状态，并且可能取决于之前的状态。这时候就可以使用 useReducer，它接收一个函数，这个函数会根据之前的状态来计算一个新的 state。其语法如下：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="76492901466212430000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const [state, dispatch] = useReducer(reducer, initialArg, init);`, `76492901466212430000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> initialArg<span class="token punctuation">,</span> init<span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>来看下面的例子：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="84783672005665460000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const reducer = (state, action) => {
   switch (action.type) {
      case 'increment':
         return { count: state.count + 1 };
      case 'decrement':
         return { count: state.count - 1 };
      default:
         throw new Error();
   }
};

const Counter = () => {
   const initialState = { count: 0 };
   const [state, dispatch] = useReducer(reducer, initialState);

   return (
      <>
         Count: {state.count}
         <button onClick={() => dispatch({ type: 'increment' })}>+</button>
         <button onClick={() => dispatch({ type: 'decrement' })}>-</button>
      </>
   );
};`, `84783672005665460000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">const</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
   <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token keyword">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">'increment'</span><span class="token punctuation">:</span>
         <span class="token keyword">return</span> <span class="token punctuation">{</span> count<span class="token punctuation">:</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">'decrement'</span><span class="token punctuation">:</span>
         <span class="token keyword">return</span> <span class="token punctuation">{</span> count<span class="token punctuation">:</span> state<span class="token punctuation">.</span>count <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">default</span><span class="token punctuation">:</span>
         <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Counter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
   <span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span> count<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> initialState<span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">
         Count: </span><span class="token punctuation">{</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token plain-text">
         </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'increment'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">+</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
         </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'decrement'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">-</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>当前的状态是无法推断出来的，可以给 reducer 函数添加类型，通过给 reducer 函数定义 state 和 action 来推断 useReducer 的类型，下面来修改上面的例子：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="37481447126328615000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type ActionType = {
   type: 'increment' | 'decrement';
};

type State = { count: number };

const initialState: State = { count: 0 };
const reducer = (state: State, action: ActionType) => {
   // ...
};`, `37481447126328615000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">type</span> ActionType <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'increment'</span> <span class="token operator">|</span> <span class="token string">'decrement'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> State <span class="token operator">=</span> <span class="token punctuation">{</span> count<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> initialState<span class="token punctuation">:</span> State <span class="token operator">=</span> <span class="token punctuation">{</span> count<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">:</span> State<span class="token punctuation">,</span> action<span class="token punctuation">:</span> ActionType</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
   <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>这样，在 Counter 函数中就可以推断出类型。当我们视图使用一个不存在的类型时，就会报错：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="13864172989143620000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`dispatch({ type: 'reset' });
// Error! type '&quot;reset&quot;' is not assignable to type '&quot;increment&quot; | &quot;decrement&quot;'`, `13864172989143620000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'reset'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Error! type '"reset"' is not assignable to type '"increment" | "decrement"'</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>除此之外，还可以使用泛型的形式来实现 reducer 函数的类型定义：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="46819219591673210000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type ActionType = {
   type: 'increment' | 'decrement';
};

type State = { count: number };

const reducer: React.Reducer<State, ActionType> = (state, action) => {
   // ...
};`, `46819219591673210000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> ActionType <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'increment'</span> <span class="token operator">|</span> <span class="token string">'decrement'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> State <span class="token operator">=</span> <span class="token punctuation">{</span> count<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> reducer<span class="token punctuation">:</span> React<span class="token punctuation">.</span>Reducer<span class="token operator">&lt;</span>State<span class="token punctuation">,</span> ActionType<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
   <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="事件处理"><a href="#%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>事件处理</h2>
<h3 id="event-事件类型"><a href="#event-%E4%BA%8B%E4%BB%B6%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Event 事件类型</h3>
<p>常见的 Event 事件对象如下：</p>
<ul>
<li>剪切板事件对象：<code class="language-text">ClipboardEvent&lt;T = Element&gt;</code></li>
<li>拖拽事件对象：<code class="language-text">DragEvent&lt;T = Element&gt;</code></li>
<li>焦点事件对象：<code class="language-text">FocusEvent&lt;T = Element&gt;</code></li>
<li>表单事件对象：<code class="language-text">FormEvent&lt;T = Element&gt;</code></li>
<li>Change 事件对象：<code class="language-text">ChangeEvent&lt;T = Element&gt;</code></li>
<li>键盘事件对象：<code class="language-text">KeyboardEvent&lt;T = Element&gt;</code></li>
<li>鼠标事件对象：<code class="language-text">MouseEvent&lt;T = Element, E = NativeMouseEvent&gt;</code></li>
<li>触摸事件对象：<code class="language-text">TouchEvent&lt;T = Element&gt;</code></li>
<li>滚轮事件对象：<code class="language-text">WheelEvent&lt;T = Element&gt;</code></li>
<li>动画事件对象：<code class="language-text">AnimationEvent&lt;T = Element&gt;</code></li>
<li>过渡事件对象：<code class="language-text">TransitionEvent&lt;T = Element&gt;</code></li>
</ul>
<div
              class="gatsby-code-button-container"
              data-toaster-id="34467518503974314000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type State = {
   text: string;
};

const App: React.FC = () => {
   const [text, setText] = useState<string>('');

   const onChange = (e: React.FormEvent<HTMLInputElement>): void => {
      setText(e.currentTarget.value);
   };

   return (
      <div>
         <input type='text' value={text} onChange={this.onChange} />
      </div>
   );
};`, `34467518503974314000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">type</span> State <span class="token operator">=</span> <span class="token punctuation">{</span>
   text<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> App<span class="token punctuation">:</span> React<span class="token punctuation">.</span><span class="token function-variable function">FC</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
   <span class="token keyword">const</span> <span class="token punctuation">[</span>text<span class="token punctuation">,</span> setText<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">></span></span><span class="token plain-text">('');

   const onChange = (e: React.FormEvent</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">HTMLInputElement</span></span><span class="token punctuation">></span></span><span class="token plain-text">): void => </span><span class="token punctuation">{</span>
      <span class="token function">setText</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token plain-text">;

   return (
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
         </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>text<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onChange<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
   );
};</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>这里就给 onChange 方法的事件对象定义为了 FormEvent 类型，并且作用的对象时一个 HTMLInputElement 类型的标签（input 标签） ​ 可以来看下 MouseEvent 事件对象和 ChangeEvent 事件对象的类型声明，其他事件对象的声明形似也类似：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="72327838684975680000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface MouseEvent<T = Element, E = NativeMouseEvent> extends UIEvent<T, E> {
   altKey: boolean;
   button: number;
   buttons: number;
   clientX: number;
   clientY: number;
   ctrlKey: boolean;
   /**
    * See [DOM Level 3 Events spec](https://www.w3.org/TR/uievents-key/#keys-modifier). for a list of valid (case-sensitive) arguments to this method.
    */
   getModifierState(key: string): boolean;
   metaKey: boolean;
   movementX: number;
   movementY: number;
   pageX: number;
   pageY: number;
   relatedTarget: EventTarget | null;
   screenX: number;
   screenY: number;
   shiftKey: boolean;
}

interface ChangeEvent<T = Element> extends SyntheticEvent<T> {
   target: EventTarget & T;
}`, `72327838684975680000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">MouseEvent</span><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Element<span class="token punctuation">,</span> <span class="token constant">E</span> <span class="token operator">=</span> NativeMouseEvent<span class="token operator">></span> <span class="token keyword">extends</span> <span class="token class-name">UIEvent</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">E</span><span class="token operator">></span> <span class="token punctuation">{</span>
   altKey<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
   button<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   buttons<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   clientX<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   clientY<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   ctrlKey<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
   <span class="token comment">/**
    * See [DOM Level 3 Events spec](https://www.w3.org/TR/uievents-key/#keys-modifier). for a list of valid (case-sensitive) arguments to this method.
    */</span>
   <span class="token function">getModifierState</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
   metaKey<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
   movementX<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   movementY<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   pageX<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   pageY<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   relatedTarget<span class="token punctuation">:</span> EventTarget <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
   screenX<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   screenY<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   shiftKey<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">ChangeEvent</span><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Element<span class="token operator">></span> <span class="token keyword">extends</span> <span class="token class-name">SyntheticEvent</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token punctuation">{</span>
   target<span class="token punctuation">:</span> EventTarget <span class="token operator">&amp;</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>在很多事件对象的声明文件中都可以看到 EventTarget 的身影。这是因为 DOM 的事件操作（监听和触发）都定义在 EventTarget 接口上。EventTarget 的类型声明如下：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="13418015779865900000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface EventTarget {
   addEventListener(
      type: string,
      listener: EventListenerOrEventListenerObject | null,
      options?: boolean | AddEventListenerOptions
   ): void;
   dispatchEvent(evt: Event): boolean;
   removeEventListener(
      type: string,
      listener?: EventListenerOrEventListenerObject | null,
      options?: EventListenerOptions | boolean
   ): void;
}`, `13418015779865900000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">EventTarget</span> <span class="token punctuation">{</span>
   <span class="token function">addEventListener</span><span class="token punctuation">(</span>
      <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
      listener<span class="token punctuation">:</span> EventListenerOrEventListenerObject <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      options<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> AddEventListenerOptions
   <span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
   <span class="token function">dispatchEvent</span><span class="token punctuation">(</span>evt<span class="token punctuation">:</span> Event<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
   <span class="token function">removeEventListener</span><span class="token punctuation">(</span>
      <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
      listener<span class="token operator">?</span><span class="token punctuation">:</span> EventListenerOrEventListenerObject <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      options<span class="token operator">?</span><span class="token punctuation">:</span> EventListenerOptions <span class="token operator">|</span> <span class="token builtin">boolean</span>
   <span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>比如在 change 事件中，会使用的 e.target 来获取当前的值，它的的类型就是 EventTarget。来看下面的例子：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="51474346090378990000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`<input onChange={(e) => onSourceChange(e)} placeholder='最多30个字' />;

const onSourceChange = (e: React.ChangeEvent<HTMLInputElement>) => {
   if (e.target.value.length > 30) {
      message.error('请长度不能超过30个字，请重新输入');
      return;
   }
   setSourceInput(e.target.value);
};`, `51474346090378990000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">onSourceChange</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>最多30个字<span class="token punctuation">'</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">;</span>

<span class="token keyword">const</span> onSourceChange <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">:</span> React<span class="token punctuation">.</span>ChangeEvent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">HTMLInputElement</span></span><span class="token punctuation">></span></span><span class="token plain-text">) => </span><span class="token punctuation">{</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'请长度不能超过30个字，请重新输入'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token function">setSourceInput</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3 id="事件处理函数类型"><a href="#%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>事件处理函数类型</h3>
<p>React 也为我们提供了贴心的提供了事件处理函数的类型声明，来看看所有的事件处理函数的类型声明：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="7384338452548400000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type EventHandler<E extends SyntheticEvent<any>> = { bivarianceHack(event: E): void }['bivarianceHack'];

type ReactEventHandler<T = Element> = EventHandler<SyntheticEvent<T>>;
// 剪切板事件处理函数
type ClipboardEventHandler<T = Element> = EventHandler<ClipboardEvent<T>>;
// 复合事件处理函数
type CompositionEventHandler<T = Element> = EventHandler<CompositionEvent<T>>;
// 拖拽事件处理函数
type DragEventHandler<T = Element> = EventHandler<DragEvent<T>>;
// 焦点事件处理函数
type FocusEventHandler<T = Element> = EventHandler<FocusEvent<T>>;
// 表单事件处理函数
type FormEventHandler<T = Element> = EventHandler<FormEvent<T>>;
// Change事件处理函数
type ChangeEventHandler<T = Element> = EventHandler<ChangeEvent<T>>;
// 键盘事件处理函数
type KeyboardEventHandler<T = Element> = EventHandler<KeyboardEvent<T>>;
// 鼠标事件处理函数
type MouseEventHandler<T = Element> = EventHandler<MouseEvent<T>>;
// 触屏事件处理函数
type TouchEventHandler<T = Element> = EventHandler<TouchEvent<T>>;
// 指针事件处理函数
type PointerEventHandler<T = Element> = EventHandler<PointerEvent<T>>;
// 界面事件处理函数
type UIEventHandler<T = Element> = EventHandler<UIEvent<T>>;
// 滚轮事件处理函数
type WheelEventHandler<T = Element> = EventHandler<WheelEvent<T>>;
// 动画事件处理函数
type AnimationEventHandler<T = Element> = EventHandler<AnimationEvent<T>>;
// 过渡事件处理函数
type TransitionEventHandler<T = Element> = EventHandler<TransitionEvent<T>>;`, `7384338452548400000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> EventHandler<span class="token operator">&lt;</span><span class="token constant">E</span> <span class="token keyword">extends</span> <span class="token class-name">SyntheticEvent</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">>></span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">bivarianceHack</span><span class="token punctuation">(</span>event<span class="token punctuation">:</span> <span class="token constant">E</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token string">'bivarianceHack'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> ReactEventHandler<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Element<span class="token operator">></span> <span class="token operator">=</span> EventHandler<span class="token operator">&lt;</span>SyntheticEvent<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span>
<span class="token comment">// 剪切板事件处理函数</span>
<span class="token keyword">type</span> ClipboardEventHandler<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Element<span class="token operator">></span> <span class="token operator">=</span> EventHandler<span class="token operator">&lt;</span>ClipboardEvent<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span>
<span class="token comment">// 复合事件处理函数</span>
<span class="token keyword">type</span> CompositionEventHandler<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Element<span class="token operator">></span> <span class="token operator">=</span> EventHandler<span class="token operator">&lt;</span>CompositionEvent<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span>
<span class="token comment">// 拖拽事件处理函数</span>
<span class="token keyword">type</span> DragEventHandler<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Element<span class="token operator">></span> <span class="token operator">=</span> EventHandler<span class="token operator">&lt;</span>DragEvent<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span>
<span class="token comment">// 焦点事件处理函数</span>
<span class="token keyword">type</span> FocusEventHandler<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Element<span class="token operator">></span> <span class="token operator">=</span> EventHandler<span class="token operator">&lt;</span>FocusEvent<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span>
<span class="token comment">// 表单事件处理函数</span>
<span class="token keyword">type</span> FormEventHandler<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Element<span class="token operator">></span> <span class="token operator">=</span> EventHandler<span class="token operator">&lt;</span>FormEvent<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span>
<span class="token comment">// Change事件处理函数</span>
<span class="token keyword">type</span> ChangeEventHandler<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Element<span class="token operator">></span> <span class="token operator">=</span> EventHandler<span class="token operator">&lt;</span>ChangeEvent<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span>
<span class="token comment">// 键盘事件处理函数</span>
<span class="token keyword">type</span> KeyboardEventHandler<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Element<span class="token operator">></span> <span class="token operator">=</span> EventHandler<span class="token operator">&lt;</span>KeyboardEvent<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span>
<span class="token comment">// 鼠标事件处理函数</span>
<span class="token keyword">type</span> MouseEventHandler<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Element<span class="token operator">></span> <span class="token operator">=</span> EventHandler<span class="token operator">&lt;</span>MouseEvent<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span>
<span class="token comment">// 触屏事件处理函数</span>
<span class="token keyword">type</span> TouchEventHandler<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Element<span class="token operator">></span> <span class="token operator">=</span> EventHandler<span class="token operator">&lt;</span>TouchEvent<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span>
<span class="token comment">// 指针事件处理函数</span>
<span class="token keyword">type</span> PointerEventHandler<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Element<span class="token operator">></span> <span class="token operator">=</span> EventHandler<span class="token operator">&lt;</span>PointerEvent<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span>
<span class="token comment">// 界面事件处理函数</span>
<span class="token keyword">type</span> UIEventHandler<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Element<span class="token operator">></span> <span class="token operator">=</span> EventHandler<span class="token operator">&lt;</span>UIEvent<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span>
<span class="token comment">// 滚轮事件处理函数</span>
<span class="token keyword">type</span> WheelEventHandler<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Element<span class="token operator">></span> <span class="token operator">=</span> EventHandler<span class="token operator">&lt;</span>WheelEvent<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span>
<span class="token comment">// 动画事件处理函数</span>
<span class="token keyword">type</span> AnimationEventHandler<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Element<span class="token operator">></span> <span class="token operator">=</span> EventHandler<span class="token operator">&lt;</span>AnimationEvent<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span>
<span class="token comment">// 过渡事件处理函数</span>
<span class="token keyword">type</span> TransitionEventHandler<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Element<span class="token operator">></span> <span class="token operator">=</span> EventHandler<span class="token operator">&lt;</span>TransitionEvent<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>这里面的 T 的类型也都是 Element，指的是触发该事件的 HTML 标签元素的类型</p>
<p>EventHandler 会接收一个 E，它表示事件处理函数中 Event 对象的类型。bivarianceHack 是事件处理函数的类型定义，函数接收一个 Event 对象，并且其类型为接收到的泛型变量 E 的类型，返回值为 void。</p>
<p>还看上面的那个例子：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="43368886509774500000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type State = {
   text: string;
};

const App: React.FC = () => {
   const [text, setText] = useState<string>('');

   const onChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {
      setText(e.currentTarget.value);
   };

   return (
      <div>
         <input type='text' value={text} onChange={this.onChange} />
      </div>
   );
};`, `43368886509774500000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">type</span> State <span class="token operator">=</span> <span class="token punctuation">{</span>
   text<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> App<span class="token punctuation">:</span> React<span class="token punctuation">.</span><span class="token function-variable function">FC</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
   <span class="token keyword">const</span> <span class="token punctuation">[</span>text<span class="token punctuation">,</span> setText<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">></span></span><span class="token plain-text">('');

   const onChange: React.ChangeEventHandler</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">HTMLInputElement</span></span><span class="token punctuation">></span></span><span class="token plain-text"> = (e) => </span><span class="token punctuation">{</span>
      <span class="token function">setText</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token plain-text">;

   return (
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
         </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>text<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onChange<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
   );
};</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>这里给 onChange 方法定义了方法的类型，它是一个 ChangeEventHandler 的类型，并且作用的对象时一个 HTMLImnputElement 类型的标签（input 标签）。</p>
<h2 id="html-标签类型"><a href="#html-%E6%A0%87%E7%AD%BE%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>HTML 标签类型</h2>
<h3 id="常见标签类型"><a href="#%E5%B8%B8%E8%A7%81%E6%A0%87%E7%AD%BE%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>常见标签类型</h3>
<p>所有的 HTML 标签的类型都被定义在 intrinsicElements 接口中，常见的标签及其类型如下：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="94808273326559080000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`a: HTMLAnchorElement;
body: HTMLBodyElement;
br: HTMLBRElement;
button: HTMLButtonElement;
div: HTMLDivElement;
h1: HTMLHeadingElement;
h2: HTMLHeadingElement;
h3: HTMLHeadingElement;
html: HTMLHtmlElement;
img: HTMLImageElement;
input: HTMLInputElement;
ul: HTMLUListElement;
li: HTMLLIElement;
link: HTMLLinkElement;
p: HTMLParagraphElement;
span: HTMLSpanElement;
style: HTMLStyleElement;
table: HTMLTableElement;
tbody: HTMLTableSectionElement;
video: HTMLVideoElement;
audio: HTMLAudioElement;
meta: HTMLMetaElement;
form: HTMLFormElement;`, `94808273326559080000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts">a<span class="token punctuation">:</span> HTMLAnchorElement<span class="token punctuation">;</span>
body<span class="token punctuation">:</span> HTMLBodyElement<span class="token punctuation">;</span>
br<span class="token punctuation">:</span> HTMLBRElement<span class="token punctuation">;</span>
button<span class="token punctuation">:</span> HTMLButtonElement<span class="token punctuation">;</span>
div<span class="token punctuation">:</span> HTMLDivElement<span class="token punctuation">;</span>
h1<span class="token punctuation">:</span> HTMLHeadingElement<span class="token punctuation">;</span>
h2<span class="token punctuation">:</span> HTMLHeadingElement<span class="token punctuation">;</span>
h3<span class="token punctuation">:</span> HTMLHeadingElement<span class="token punctuation">;</span>
html<span class="token punctuation">:</span> HTMLHtmlElement<span class="token punctuation">;</span>
img<span class="token punctuation">:</span> HTMLImageElement<span class="token punctuation">;</span>
input<span class="token punctuation">:</span> HTMLInputElement<span class="token punctuation">;</span>
ul<span class="token punctuation">:</span> HTMLUListElement<span class="token punctuation">;</span>
li<span class="token punctuation">:</span> HTMLLIElement<span class="token punctuation">;</span>
link<span class="token punctuation">:</span> HTMLLinkElement<span class="token punctuation">;</span>
p<span class="token punctuation">:</span> HTMLParagraphElement<span class="token punctuation">;</span>
span<span class="token punctuation">:</span> HTMLSpanElement<span class="token punctuation">;</span>
style<span class="token punctuation">:</span> HTMLStyleElement<span class="token punctuation">;</span>
table<span class="token punctuation">:</span> HTMLTableElement<span class="token punctuation">;</span>
tbody<span class="token punctuation">:</span> HTMLTableSectionElement<span class="token punctuation">;</span>
video<span class="token punctuation">:</span> HTMLVideoElement<span class="token punctuation">;</span>
audio<span class="token punctuation">:</span> HTMLAudioElement<span class="token punctuation">;</span>
meta<span class="token punctuation">:</span> HTMLMetaElement<span class="token punctuation">;</span>
form<span class="token punctuation">:</span> HTMLFormElement<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>那什么时候会使用到标签类型呢，上面 Event 事件类型和事件处理函数类型中都使用到了标签的类型。上面的很多的类型都需要传入一个 ELement 类型的泛型参数，这个泛型参数就是对应的标签类型值，可以根据标签来选择对应的标签类型。这些类型都继承自 HTMLElement 类型，如果使用时对类型类型要求不高，可以直接写 HTMLELement。</p>
<p>比如下面的例子：</p>
<html><head></head><body><div class="gatsby-code-button-container" data-toaster-id="61528836118747490000" data-toaster-class="gatsby-code-button-toaster" data-toaster-text-class="gatsby-code-button-toaster-text" data-toaster-text="复制成功" data-toaster-duration="3500" onclick="copyToClipboard(`<Button
   type='text'
   onClick={(e: React.MouseEvent<HTMLElement>) => {
      handleOperate();
      e.stopPropagation();
   }}
>
   <img data-src={cancelChangeIcon} alt='' />
   取消修改
</Button>`, `61528836118747490000`)">
              <div class="gatsby-code-button" title="tsx">
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div></body></html>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span>
   <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span>
   <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>e<span class="token punctuation">:</span> React<span class="token punctuation">.</span>MouseEvent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">HTMLElement</span></span><span class="token punctuation">></span></span><span class="token plain-text">) => </span><span class="token punctuation">{</span>
      <span class="token function">handleOperate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token plain-text">}</span></span>
<span class="token punctuation">></span></span><span class="token plain-text">
   </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>cancelChangeIcon<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span><span class="token punctuation">'</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
   取消修改
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>其实，在直接操作 DOM 时也会用到标签类型，虽然我们现在通常会使用框架来开发，但是有时候也避免不了直接操作 DOM。比如项目中的某一部分组件是通过 npm 来引入的其他组的组件，而在很多时候，需要动态的去个性化这个组件的样式，最直接的办法就是通过原生 JavaScript 获取到 DOM 元素，来进行样式的修改，这时候就会用到标签类型。 ​ 来看下面的例子：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="93932292027033700000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`document.querySelectorAll('.paper').forEach((item) => {
   const firstPageHasAddEle = (item.firstChild as HTMLDivElement).classList.contains('add-ele');

   if (firstPageHasAddEle) {
      item.removeChild(item.firstChild as ChildNode);
   }
});`, `93932292027033700000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts">document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.paper'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
   <span class="token keyword">const</span> firstPageHasAddEle <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>firstChild <span class="token keyword">as</span> HTMLDivElement<span class="token punctuation">)</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'add-ele'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token keyword">if</span> <span class="token punctuation">(</span>firstPageHasAddEle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      item<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>firstChild <span class="token keyword">as</span> ChildNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>在第一页有个 add-ele 元素的时候就删除它。这里我们将 item.firstChild 断言成了 HTMLDivElement 类型，如果不断言，item.firstChild 的类型就是 ChildNode，而 ChildNode 类型中是不存在 classList 属性的，所以就就会报错，当我们把他断言成 HTMLDivElement 类型时，就不会报错了。很多时候，标签类型可以和断言（as）一起使用。</p>
<p>后面在 removeChild 时又使用了 as 断言，为什么呢？item.firstChild 不是已经自动识别为 ChildNode 类型了吗？因为 TS 会认为，我们可能不能获取到类名为 paper 的元素，所以 item.firstChild 的类型就被推断为 ChildNode | null，我们有时候比 TS 更懂我们定义的元素，知道页面一定存在 paper 元素，所以可以直接将 item.firstChild 断言成 ChildNode 类型。</p>
<h3 id="标签属性类型"><a href="#%E6%A0%87%E7%AD%BE%E5%B1%9E%E6%80%A7%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>标签属性类型</h3>
<p>每个 HTML 标签都有自己的属性，比如 Input 框就有 value、width、placeholder、max-length 等属性，下面是 Input 框的属性类型定义：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="65334502818964380000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface InputHTMLAttributes<T> extends HTMLAttributes<T> {
   accept?: string | undefined;
   alt?: string | undefined;
   autoComplete?: string | undefined;
   autoFocus?: boolean | undefined;
   capture?: boolean | string | undefined;
   checked?: boolean | undefined;
   crossOrigin?: string | undefined;
   disabled?: boolean | undefined;
   enterKeyHint?: 'enter' | 'done' | 'go' | 'next' | 'previous' | 'search' | 'send' | undefined;
   form?: string | undefined;
   formAction?: string | undefined;
   formEncType?: string | undefined;
   formMethod?: string | undefined;
   formNoValidate?: boolean | undefined;
   formTarget?: string | undefined;
   height?: number | string | undefined;
   list?: string | undefined;
   max?: number | string | undefined;
   maxLength?: number | undefined;
   min?: number | string | undefined;
   minLength?: number | undefined;
   multiple?: boolean | undefined;
   name?: string | undefined;
   pattern?: string | undefined;
   placeholder?: string | undefined;
   readOnly?: boolean | undefined;
   required?: boolean | undefined;
   size?: number | undefined;
   src?: string | undefined;
   step?: number | string | undefined;
   type?: string | undefined;
   value?: string | ReadonlyArray<string> | number | undefined;
   width?: number | string | undefined;

   onChange?: ChangeEventHandler<T> | undefined;
}`, `65334502818964380000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">InputHTMLAttributes</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token keyword">extends</span> <span class="token class-name">HTMLAttributes</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token punctuation">{</span>
   accept<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   alt<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   autoComplete<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   autoFocus<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   capture<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   checked<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   crossOrigin<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   disabled<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   enterKeyHint<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token string">'enter'</span> <span class="token operator">|</span> <span class="token string">'done'</span> <span class="token operator">|</span> <span class="token string">'go'</span> <span class="token operator">|</span> <span class="token string">'next'</span> <span class="token operator">|</span> <span class="token string">'previous'</span> <span class="token operator">|</span> <span class="token string">'search'</span> <span class="token operator">|</span> <span class="token string">'send'</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   form<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   formAction<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   formEncType<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   formMethod<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   formNoValidate<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   formTarget<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   height<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   list<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   max<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   maxLength<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   min<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   minLength<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   multiple<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   name<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   pattern<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   placeholder<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   readOnly<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   required<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   size<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   src<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   step<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   <span class="token keyword">type</span><span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   value<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> ReadonlyArray<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   width<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>

   onChange<span class="token operator">?</span><span class="token punctuation">:</span> ChangeEventHandler<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>如果我们需要直接操作 DOM，就可能会用到元素属性类型，常见的元素属性类型如下：</p>
<ul>
<li>HTML 属性类型：HTMLAttributes</li>
<li>按钮属性类型：ButtonHTMLAttributes</li>
<li>表单属性类型：FormHTMLAttributes</li>
<li>图片属性类型：ImgHTMLAttributes</li>
<li>输入框属性类型：InputHTMLAttributes</li>
<li>链接属性类型：LinkHTMLAttributes</li>
<li>meta 属性类型：MetaHTMLAttributes</li>
<li>选择框属性类型：SelectHTMLAttributes</li>
<li>表格属性类型：TableHTMLAttributes</li>
<li>输入区属性类型：TextareaHTMLAttributes</li>
<li>视频属性类型：VideoHTMLAttributes</li>
<li>SVG 属性类型：SVGAttributes</li>
<li>WebView 属性类型：WebViewHTMLAttributes</li>
</ul>
<p>一般情况下，我们是很少需要在项目中显式的去定义标签属性的类型。如果子级去封装组件库的话，这些属性就能发挥它们的作用了：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="6470035288065001000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`import React from 'react';
import classNames from 'classnames';

export enum ButtonSize {
   Large = 'lg',
   Small = 'sm'
}

export enum ButtonType {
   Primary = 'primary',
   Default = 'default',
   Danger = 'danger',
   Link = 'link'
}

interface BaseButtonProps {
   className?: string;
   disabled?: boolean;
   size?: ButtonSize;
   btnType?: ButtonType;
   children: React.ReactNode;
   href?: string;
}

// 使用 交叉类型（&）获得我们自己定义的属性和原生 button 的属性
type NativeButtonProps = BaseButtonProps & React.ButtonHTMLAttributes<HTMLButtonElement>;

// 使用 交叉类型（&）获得我们自己定义的属性和原生 a 标签的属性
type AnchorButtonProps = BaseButtonProps & React.AnchorHTMLAttributes<HTMLAnchorElement>;

// 使用 Partial<> 使两种属性可选
export type ButtonProps = Partial<NativeButtonProps & AnchorButtonProps>;

const Button: React.FC<ButtonProps> = (props) => {
   const { disabled, className, size, btnType, children, href, ...restProps } = props;

   const classes = classNames('btn', className, {
      [\`btn-\${btnType}\`]: btnType,
      [\`btn-\${size}\`]: size,
      disabled: btnType === ButtonType.Link && disabled // 只有 a 标签才有 disabled 类名，button 没有
   });

   if (btnType === ButtonType.Link && href) {
      return (
         <a className={classes} href={href} {...restProps}>
            {children}
         </a>
      );
   } else {
      return (
         <button
            className={classes}
            disabled={disabled} // button 元素默认有 disabled 属性，所以即便没给他设置样式也会和普通 button 有一定区别
            {...restProps}
         >
            {children}
         </button>
      );
   }
};

Button.defaultProps = {
   disabled: false,
   btnType: ButtonType.Default
};

export default Button;`, `6470035288065001000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> classNames <span class="token keyword">from</span> <span class="token string">'classnames'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">enum</span> ButtonSize <span class="token punctuation">{</span>
   Large <span class="token operator">=</span> <span class="token string">'lg'</span><span class="token punctuation">,</span>
   Small <span class="token operator">=</span> <span class="token string">'sm'</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">enum</span> ButtonType <span class="token punctuation">{</span>
   Primary <span class="token operator">=</span> <span class="token string">'primary'</span><span class="token punctuation">,</span>
   Default <span class="token operator">=</span> <span class="token string">'default'</span><span class="token punctuation">,</span>
   Danger <span class="token operator">=</span> <span class="token string">'danger'</span><span class="token punctuation">,</span>
   Link <span class="token operator">=</span> <span class="token string">'link'</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">BaseButtonProps</span> <span class="token punctuation">{</span>
   className<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   disabled<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
   size<span class="token operator">?</span><span class="token punctuation">:</span> ButtonSize<span class="token punctuation">;</span>
   btnType<span class="token operator">?</span><span class="token punctuation">:</span> ButtonType<span class="token punctuation">;</span>
   children<span class="token punctuation">:</span> React<span class="token punctuation">.</span>ReactNode<span class="token punctuation">;</span>
   href<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用 交叉类型（&amp;）获得我们自己定义的属性和原生 button 的属性</span>
<span class="token keyword">type</span> NativeButtonProps <span class="token operator">=</span> BaseButtonProps <span class="token operator">&amp;</span> React<span class="token punctuation">.</span>ButtonHTMLAttributes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">HTMLButtonElement</span></span><span class="token punctuation">></span></span><span class="token plain-text">;

// 使用 交叉类型（&amp;）获得我们自己定义的属性和原生 a 标签的属性
type AnchorButtonProps = BaseButtonProps &amp; React.AnchorHTMLAttributes</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">HTMLAnchorElement</span></span><span class="token punctuation">></span></span><span class="token plain-text">;

// 使用 Partial&lt;> 使两种属性可选
export type ButtonProps = Partial&lt;NativeButtonProps &amp; AnchorButtonProps>;

const Button: React.FC</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ButtonProps</span></span><span class="token punctuation">></span></span><span class="token plain-text"> = (props) => </span><span class="token punctuation">{</span>
   <span class="token keyword">const</span> <span class="token punctuation">{</span> disabled<span class="token punctuation">,</span> className<span class="token punctuation">,</span> size<span class="token punctuation">,</span> btnType<span class="token punctuation">,</span> children<span class="token punctuation">,</span> href<span class="token punctuation">,</span> <span class="token operator">...</span>restProps <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>

   <span class="token keyword">const</span> classes <span class="token operator">=</span> <span class="token function">classNames</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">,</span> className<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">btn-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>btnType<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token punctuation">:</span> btnType<span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">btn-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>size<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token punctuation">:</span> size<span class="token punctuation">,</span>
      disabled<span class="token punctuation">:</span> btnType <span class="token operator">===</span> ButtonType<span class="token punctuation">.</span>Link <span class="token operator">&amp;&amp;</span> disabled <span class="token comment">// 只有 a 标签才有 disabled 类名，button 没有</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token keyword">if</span> <span class="token punctuation">(</span>btnType <span class="token operator">===</span> ButtonType<span class="token punctuation">.</span>Link <span class="token operator">&amp;&amp;</span> href<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>classes<span class="token punctuation">}</span></span> <span class="token attr-name">href</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>href<span class="token punctuation">}</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token punctuation">...</span><span class="token attr-value">restProps</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token plain-text">
         </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
         <span class="token operator">&lt;</span>button
            className<span class="token operator">=</span><span class="token punctuation">{</span>classes<span class="token punctuation">}</span>
            disabled<span class="token operator">=</span><span class="token punctuation">{</span>disabled<span class="token punctuation">}</span> <span class="token comment">// button 元素默认有 disabled 属性，所以即便没给他设置样式也会和普通 button 有一定区别</span>
            <span class="token punctuation">{</span><span class="token operator">...</span>restProps<span class="token punctuation">}</span>
         <span class="token operator">></span>
            <span class="token punctuation">{</span>children<span class="token punctuation">}</span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token plain-text">;

Button.defaultProps = </span><span class="token punctuation">{</span>
   disabled<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
   btnType<span class="token punctuation">:</span> ButtonType<span class="token punctuation">.</span>Default
<span class="token punctuation">}</span><span class="token plain-text">;

export default Button;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="高阶组件"><a href="#%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>高阶组件</h2>
<h3 id="类组件-1"><a href="#%E7%B1%BB%E7%BB%84%E4%BB%B6-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>类组件</h3>
<div
              class="gatsby-code-button-container"
              data-toaster-id="92694169252304850000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface WithLoadingProps {
   loading: boolean;
}

const withLoading = <P extends object>(Component: React.ComponentType<P>) =>
   class WithLoading extends React.Component<P & WithLoadingProps> {
      render() {
         const { loading, ...props } = this.props;
         return loading ? <LoadingSpinner /> : <Component {...(props as P)} />;
      }
   };`, `92694169252304850000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">interface</span> <span class="token class-name">WithLoadingProps</span> <span class="token punctuation">{</span>
   loading<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> withLoading <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">P</span></span> <span class="token attr-name">extends</span> <span class="token attr-name">object</span><span class="token punctuation">></span></span><span class="token plain-text">(Component: React.ComponentType</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">P</span></span><span class="token punctuation">></span></span><span class="token plain-text">) =>
   class WithLoading extends React.Component&lt;P &amp; WithLoadingProps> </span><span class="token punctuation">{</span>
      <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">const</span> <span class="token punctuation">{</span> loading<span class="token punctuation">,</span> <span class="token operator">...</span>props <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
         <span class="token keyword">return</span> loading <span class="token operator">?</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">LoadingSpinner</span></span> <span class="token punctuation">/></span></span> <span class="token punctuation">:</span> <span class="token operator">&lt;</span>Component <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">(</span>props <span class="token keyword">as</span> <span class="token constant">P</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token plain-text">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3 id="函数组件-1"><a href="#%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>函数组件</h3>
<div
              class="gatsby-code-button-container"
              data-toaster-id="21945458852722210000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const withLoading = <P extends object>(Component: React.ComponentType<P>): React.FC<P & WithLoadingProps> => ({
   loading,
   ...props
}: WithLoadingProps) => (loading ? <LoadingSpinner /> : <Component {...(props as P)} />);`, `21945458852722210000`)"
            >
              <div
                class="gatsby-code-button"
                title="tsx"
              >
                <span class="gatsby-code-button-language">tsx</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token keyword">const</span> withLoading <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">P</span></span> <span class="token attr-name">extends</span> <span class="token attr-name">object</span><span class="token punctuation">></span></span><span class="token plain-text">(Component: React.ComponentType</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">P</span></span><span class="token punctuation">></span></span><span class="token plain-text">): React.FC&lt;P &amp; WithLoadingProps> => ({
   loading,
   ...props
}: WithLoadingProps) => (loading ? </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">LoadingSpinner</span></span> <span class="token punctuation">/></span></span><span class="token plain-text"> : &lt;Component </span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">(</span>props <span class="token keyword">as</span> <span class="token constant">P</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"> />);</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>
<h1 id="工具泛型的实现"><a href="#%E5%B7%A5%E5%85%B7%E6%B3%9B%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>工具泛型的实现</h1>
<h2 id="partial"><a href="#partial" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Partial</h2>
<p>Partial 作用是将传入的属性变为可选项</p>
<h3 id="前置知识"><a href="#%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>前置知识</h3>
<p>首先我们需要理解两个关键字 keyof 和 in，keyof 可以用来取得一个对象接口的所有 key 值，比如</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="44663991534604270000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface Foo {
   name: string;
   age: number;
}
type T = keyof Foo; // -> &quot;name&quot; | &quot;age&quot;`, `44663991534604270000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token constant">T</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> Foo<span class="token punctuation">;</span> <span class="token comment">// -> "name" | "age"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>而 in 则可以遍历枚举类型， 例如</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="67341249439542540000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Keys = 'a' | 'b';
type Obj = {
   [p in Keys]: any;
}; // -> { a: any， b: any }`, `67341249439542540000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Keys <span class="token operator">=</span> <span class="token string">'a'</span> <span class="token operator">|</span> <span class="token string">'b'</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> Obj <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span>p <span class="token keyword">in</span> Keys<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// -> { a: any， b: any }</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>
<h3 id="源码解析"><a href="#%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>源码解析</h3>
<p>keyof 产生联合类型，in 则可以遍历枚举类型，所以他们经常一起使用，看下 Partial 源码</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="44303276426956570000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Partial<T> = {
   [P in keyof T]?: T[P];
};`, `44303276426956570000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Partial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>上面语句的意思是 keyof T 拿到 T 所有属性名，然后 in 进行遍历，将值赋给 P，最后 <code class="language-text">T[P]</code> 取得相应属性的值</p>
<p>结合中间的 ? 我们就明白了 Partial 的含义了</p>
<h3 id="使用场景"><a href="#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>使用场景</h3>
<p>假设我们有一个定义 user 的接口，如下</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="45507147086952780000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface IUser {
   name: string;
   age: number;
   department: string;
}`, `45507147086952780000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">IUser</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   department<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>经过 Partial 类型转化后得到</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="13685403999779822000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type optional = Partial<IUser>;

// optional的结果如下
type optional = {
   name?: string | undefined;
   age?: number | undefined;
   department?: string | undefined;
};`, `13685403999779822000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> optional <span class="token operator">=</span> Partial<span class="token operator">&lt;</span>IUser<span class="token operator">></span><span class="token punctuation">;</span>

<span class="token comment">// optional的结果如下</span>
<span class="token keyword">type</span> optional <span class="token operator">=</span> <span class="token punctuation">{</span>
   name<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   age<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
   department<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="required"><a href="#required" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Required</h2>
<p>Required 的作用是将传入的属性变为必选项，源码如下</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="29816319131823608000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Required<T> = {
   [P in keyof T]-?: T[P];
};`, `29816319131823608000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Required<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>我们发现一个有意思的用法 -?，这里很好理解就是将可选项代表的 ? 去掉，从而让这个类型变成必选项。</p>
<p>与之对应的还有个+? ，这个含义自然与-?之前相反，它是用来把属性变成可选项的</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="34169890598320697000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface IPerson {
   name?: string;
   age?: number;
   height?: number;
}

const person: Required<IPerson> = {
   name: 'zhangsan',
   age: 18,
   height: 180
};`, `34169890598320697000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">IPerson</span> <span class="token punctuation">{</span>
   name<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   age<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   height<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> person<span class="token punctuation">:</span> Required<span class="token operator">&lt;</span>IPerson<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span>
   age<span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
   height<span class="token punctuation">:</span> <span class="token number">180</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="mutable-未包含"><a href="#mutable-%E6%9C%AA%E5%8C%85%E5%90%AB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mutable (未包含)</h2>
<p>类似地，其实还有对 + 和 -，这里要说的不是变量的之间的进行加减而是对 readonly 进行加减。</p>
<p>以下代码的作用就是将 T 的所有属性的 readonly 移除，你也可以写一个相反的出来.</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="66703779854338420000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Mutable<T> = {
   -readonly [P in keyof T]: T[P];
};`, `66703779854338420000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Mutable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token operator">-</span><span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<h2 id="readonly"><a href="#readonly" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Readonly</h2>
<p>将传入的属性变为只读选项, 源码如下</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="98127995814200750000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Readonly<T> = {
   readonly [P in keyof T]: T[P];
};`, `98127995814200750000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Readonly<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<div
              class="gatsby-code-button-container"
              data-toaster-id="7696059568750080000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface IPerson {
   name: string;
   age: number;
}

const person: Readonly<IPerson> = {
   name: 'zhangsan',
   age: 18
};

person.age = 20; //  Error: cannot reassign a readonly property`, `7696059568750080000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">IPerson</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> person<span class="token punctuation">:</span> Readonly<span class="token operator">&lt;</span>IPerson<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span>
   age<span class="token punctuation">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//  Error: cannot reassign a readonly property</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="record"><a href="#record" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Record</h2>
<h3 id="前置知识-1"><a href="#%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>前置知识</h3>
<p>此处注意 K extends keyof T 和直接使用 K in keyof T 的区别，keyof T 仅仅代表键的字符串文字类型，而 extends keyof T 将返回该属性相同的类型</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="10024309307995982000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`function prop<T, K extends keyof T>(obj: T, key: K) {
   return obj[key];
}

function prop2<T>(obj: T, key: keyof T) {
   return obj[key];
}

let o = {
   p1: 0,
   p2: ''
};

let v = prop(o, 'p1'); // is number, K is of type 'p1'
let v2 = prop2(o, 'p1'); // is number | string, no extra info is captured`, `10024309307995982000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> prop<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>obj<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> key<span class="token punctuation">:</span> <span class="token constant">K</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> prop2<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>obj<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> key<span class="token punctuation">:</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
   p1<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   p2<span class="token punctuation">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token function">prop</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token string">'p1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// is number, K is of type 'p1'</span>
<span class="token keyword">let</span> v2 <span class="token operator">=</span> <span class="token function">prop2</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token string">'p1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// is number | string, no extra info is captured</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3 id="源码解析-1"><a href="#%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>源码解析</h3>
<p>将 K 中所有的属性的值转化为 T 类型</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="93591083882900540000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Record<K extends keyof any, T> = {
   [P in K]: T;
};`, `93591083882900540000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Record<span class="token operator">&lt;</span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<h3 id="使用场景-1"><a href="#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>使用场景</h3>
<div
              class="gatsby-code-button-container"
              data-toaster-id="73965052938228250000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface IPageinfo {
   name: string;
}

type IPage = 'home' | 'about' | 'contact';

const page: Record<IPage, IPageinfo> = {
   about: { name: 'about' },
   contact: { name: 'contact' },
   home: { name: 'home' }
};`, `73965052938228250000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">IPageinfo</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> IPage <span class="token operator">=</span> <span class="token string">'home'</span> <span class="token operator">|</span> <span class="token string">'about'</span> <span class="token operator">|</span> <span class="token string">'contact'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> page<span class="token punctuation">:</span> Record<span class="token operator">&lt;</span>IPage<span class="token punctuation">,</span> IPageinfo<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   about<span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'about'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
   contact<span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'contact'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
   home<span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'home'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="pick"><a href="#pick" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pick</h2>
<p>从 T 中取出一系列 K 的属性</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="10573472893141967000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Pick<T, K extends keyof T> = {
   [P in K]: T[P];
};`, `10573472893141967000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<div
              class="gatsby-code-button-container"
              data-toaster-id="21538721179993313000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface IPerson {
   name: string;
   age: number;
   height: number;
}

const person: Pick<IPerson, 'name' | 'age'> = {
   name: 'zhangsan',
   age: 18
};`, `21538721179993313000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">IPerson</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   height<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> person<span class="token punctuation">:</span> Pick<span class="token operator">&lt;</span>IPerson<span class="token punctuation">,</span> <span class="token string">'name'</span> <span class="token operator">|</span> <span class="token string">'age'</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span>
   age<span class="token punctuation">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="exclude"><a href="#exclude" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exclude</h2>
<h3 id="前置知识-2"><a href="#%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>前置知识</h3>
<p>在 ts 2.8 中引入了一个条件类型，示例如下</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="77340529114072170000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`T extends U ? X : Y`, `77340529114072170000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">U</span> <span class="token operator">?</span> <span class="token constant">X</span> <span class="token punctuation">:</span> <span class="token constant">Y</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>以上语句的意思就是如果 T 是 U 的子类型的话，那么就会返回 X，否则返回 Y，甚至可以组合多个</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="54379177128188310000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type TypeName<T> = T extends string
   ? 'string'
   : T extends number
   ? 'number'
   : T extends boolean
   ? 'boolean'
   : T extends undefined
   ? 'undefined'
   : T extends Function
   ? 'function'
   : 'object';`, `54379177128188310000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> TypeName<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span>
   <span class="token operator">?</span> <span class="token string">'string'</span>
   <span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">number</span>
   <span class="token operator">?</span> <span class="token string">'number'</span>
   <span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">boolean</span>
   <span class="token operator">?</span> <span class="token string">'boolean'</span>
   <span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">undefined</span>
   <span class="token operator">?</span> <span class="token string">'undefined'</span>
   <span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Function</span>
   <span class="token operator">?</span> <span class="token string">'function'</span>
   <span class="token punctuation">:</span> <span class="token string">'object'</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>对于联合类型来说会自动分发条件，例如 T extends U ? X : Y，T 可能是 A | B 的联合类型，那实际情况就变成(A extends U ? X : Y) | (B extends U ? X : Y)</p>
<h3 id="源码解析-2"><a href="#%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>源码解析</h3>
<div
              class="gatsby-code-button-container"
              data-toaster-id="2152410023299777800"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Exclude<T, U> = T extends U ? never : T;`, `2152410023299777800`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Exclude<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">U</span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<h3 id="使用场景-2"><a href="#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>使用场景</h3>
<div
              class="gatsby-code-button-container"
              data-toaster-id="179176365407207600"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type T = Exclude<1 | 2, 1 | 3>; // -> 2`, `179176365407207600`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> <span class="token constant">T</span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">3</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// -> 2</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>很轻松地得出结果 2，据代码和示例我们可以推断出 Exclude 的作用是从 T 中找出 U 中没有的元素，换种更加贴近语义的说法其实就是从 T 中排除 U</p>
<h2 id="extract"><a href="#extract" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Extract</h2>
<p>根据源码我们推断出 Extract 的作用是提取出 T 包含在 U 中的元素，换种更加贴近语义的说法就是从 T 中提取出 U</p>
<p>源码如下</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="48015481049601490000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Extract<T, U> = T extends U ? T : never;`, `48015481049601490000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Extract<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">U</span> <span class="token operator">?</span> <span class="token constant">T</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<h2 id="omit"><a href="#omit" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Omit</h2>
<p>用之前的 Pick 和 Exclude 进行组合，实现忽略对象某些属性功能，源码如下</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="25232032239278210000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Omit<T, K> = Pick<T, Exclude<keyof T, K>>;

// 使用
type Foo = Omit<
   {
      name: string;
      age: number;
   },
   'name'
>; // -> { age: number }

interface IPerson {
   name: string;
   age: number;
   height: number;
}

const person: Omit<IPerson, 'age' | 'sex'> = {
   name: 'zhangsan',
   height: 180
};`, `25232032239278210000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Omit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">></span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> Exclude<span class="token operator">&lt;</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">>></span><span class="token punctuation">;</span>

<span class="token comment">// 使用</span>
<span class="token keyword">type</span> Foo <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>
   <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
      age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">'name'</span>
<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// -> { age: number }</span>

<span class="token keyword">interface</span> <span class="token class-name">IPerson</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   height<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> person<span class="token punctuation">:</span> Omit<span class="token operator">&lt;</span>IPerson<span class="token punctuation">,</span> <span class="token string">'age'</span> <span class="token operator">|</span> <span class="token string">'sex'</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span>
   height<span class="token punctuation">:</span> <span class="token number">180</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="returntype"><a href="#returntype" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ReturnType</h2>
<p>在阅读源码之前我们需要了解一下 infer 这个关键字，在条件类型语句中，我们可以用 infer 声明一个类型变量并且对它进行使用，我们可以用它获取函数的返回类型，源码如下</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="28369897617367458000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type ReturnType<T> = T extends (...args: any[]) => infer R ? R : any;`, `28369897617367458000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> ReturnType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> infer <span class="token constant">R</span> <span class="token operator">?</span> <span class="token constant">R</span> <span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>其实这里的 infer R 就是声明一个变量来承载传入函数签名的返回值类型，简单说就是用它取到函数返回值的类型方便之后使用</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="28286591202981670000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`function foo(x: number): Array<number> {
   return [x];
}
type fn = ReturnType<typeof foo>;`, `28286591202981670000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> fn <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> foo<span class="token operator">></span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="axiosreturntype-未包含"><a href="#axiosreturntype-%E6%9C%AA%E5%8C%85%E5%90%AB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>AxiosReturnType (未包含)</h2>
<p>开发经常使用 axios 进行封装 API 层请求，通常是一个函数返回一个 <code class="language-text">AxiosPromise&lt;Resp&gt;</code>，现在我想取到它的 Resp 类型，根据上一个工具泛型的知识我们可以这样写</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="6682520285692184000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`import { AxiosPromise } from 'axios'; // 导入接口
type AxiosReturnType<T> = T extends (...args: any[]) => AxiosPromise<infer R> ? R : any;

// 使用
type Resp = AxiosReturnType<Api>; // 泛型参数中传入你的 Api 请求函数`, `6682520285692184000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">import</span> <span class="token punctuation">{</span> AxiosPromise <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span> <span class="token comment">// 导入接口</span>
<span class="token keyword">type</span> AxiosReturnType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> AxiosPromise<span class="token operator">&lt;</span>infer <span class="token constant">R</span><span class="token operator">></span> <span class="token operator">?</span> <span class="token constant">R</span> <span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>

<span class="token comment">// 使用</span>
<span class="token keyword">type</span> Resp <span class="token operator">=</span> AxiosReturnType<span class="token operator">&lt;</span>Api<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 泛型参数中传入你的 Api 请求函数</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h1 id="巧用-typescript"><a href="#%E5%B7%A7%E7%94%A8-typescript" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>巧用 TypeScript</h1>
<h2 id="函数重载"><a href="#%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>函数重载</h2>
<p>TypeScript 提供函数重载的功能，用来处理因函数参数不同而返回类型不同的使用场景，使用时只需为同一个函数定义多个类型即可，简单使用如下所示：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="89323509010852530000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`declare function test(a: number): number;
declare function test(a: string): string;

const resS = test('Hello World'); // resS 被推断出类型为 string；
const resN = test(1234); // resN 被推断出类型为 number;`, `89323509010852530000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> resS <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// resS 被推断出类型为 string；</span>
<span class="token keyword">const</span> resN <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// resN 被推断出类型为 number;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>它也适用于参数不同，返回值类型相同的场景，我们只需要知道在哪种函数类型定义下能使用哪些参数即可。</p>
<p>考虑如下例子：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="68055914622917820000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface User {
   name: string;
   age: number;
}

declare function test(para: User | number, flag?: boolean): number;`, `68055914622917820000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">para<span class="token punctuation">:</span> User <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">,</span> flag<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>在这个 test 函数里，我们的本意可能是当传入参数 para 是 User 时，不传 flag，当传入 para 是 number 时，传入 flag。TypeScript 并不知道这些，当你传入 para 为 User 时，flag 同样允许你传入：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="74587798584255730000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const user = {
   name: 'Jack',
   age: 666
};

// 没有报错，但是与想法违背
const res = test(user, false);`, `74587798584255730000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token string">'Jack'</span><span class="token punctuation">,</span>
   age<span class="token punctuation">:</span> <span class="token number">666</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 没有报错，但是与想法违背</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>使用函数重载能帮助我们实现：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="78548561959717930000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface User {
   name: string;
   age: number;
}

declare function test(para: User): number;
declare function test(para: number, flag: boolean): number;

const user = {
   name: 'Jack',
   age: 666
};

// bingo
// Error: 参数不匹配
const res = test(user, false);`, `78548561959717930000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">para<span class="token punctuation">:</span> User</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">para<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> flag<span class="token punctuation">:</span> <span class="token builtin">boolean</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token string">'Jack'</span><span class="token punctuation">,</span>
   age<span class="token punctuation">:</span> <span class="token number">666</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// bingo</span>
<span class="token comment">// Error: 参数不匹配</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>实际项目中，你可能要多写几步，如在 class 中：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="98574352849258790000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface User {
   name: string;
   age: number;
}

const user = {
   name: 'Jack',
   age: 123
};

class SomeClass {
   /**
    * 注释 1
    */
   public test(para: User): number;
   /**
    * 注释 2
    */
   public test(para: number, flag: boolean): number;
   public test(para: User | number, flag?: boolean): number {
      // 具体实现
      return 11;
   }
}

const someClass = new SomeClass();

// ok
someClass.test(user);
someClass.test(123, false);

// Error，涉及到具体实现时，这个地方报错
someClass.test(123);
someClass.test(user, false);`, `98574352849258790000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token string">'Jack'</span><span class="token punctuation">,</span>
   age<span class="token punctuation">:</span> <span class="token number">123</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SomeClass</span> <span class="token punctuation">{</span>
   <span class="token comment">/**
    * 注释 1
    */</span>
   <span class="token keyword">public</span> <span class="token function">test</span><span class="token punctuation">(</span>para<span class="token punctuation">:</span> User<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   <span class="token comment">/**
    * 注释 2
    */</span>
   <span class="token keyword">public</span> <span class="token function">test</span><span class="token punctuation">(</span>para<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> flag<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   <span class="token keyword">public</span> <span class="token function">test</span><span class="token punctuation">(</span>para<span class="token punctuation">:</span> User <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">,</span> flag<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
      <span class="token comment">// 具体实现</span>
      <span class="token keyword">return</span> <span class="token number">11</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> someClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SomeClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ok</span>
someClass<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
someClass<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Error，涉及到具体实现时，这个地方报错</span>
someClass<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
someClass<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="映射类型"><a href="#%E6%98%A0%E5%B0%84%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>映射类型</h2>
<p>自从 TypeScript 2.1 版本推出映射类型以来，它便不断被完善与增强。在 2.1 版本中，可以通过 keyof 拿到对象 key 类型，内置 Partial、Readonly、Record、Pick 映射类型；2.3 版本增加 ThisType；2.8 版本增加 Exclude、Extract、NonNullable、ReturnType、InstanceType；同时在此版本中增加条件类型与增强 keyof 的能力；3.1 版本支持对元组与数组的映射。这些无不意味着映射类型在 TypeScript 有着举足轻重的地位。</p>
<p>其中 ThisType 并没有出现在官方文档中，它主要用来在对象字面量中键入 this：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="48899337354712460000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`// Compile with --noImplicitThis

type ObjectDescriptor<D, M> = {
   data?: D;
   methods?: M & ThisType<D & M>; // Type of 'this' in methods is D & M
};

function makeObject<D, M>(desc: ObjectDescriptor<D, M>): D & M {
   let data: object = desc.data || {};
   let methods: object = desc.methods || {};
   return { ...data, ...methods } as D & M;
}

let obj = makeObject({
   data: { x: 0, y: 0 },
   methods: {
      moveBy(dx: number, dy: number) {
         this.x += dx; // Strongly typed this
         this.y += dy; // Strongly typed this
      }
   }
});

obj.x = 10;
obj.y = 20;
obj.moveBy(5, 5);`, `48899337354712460000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// Compile with --noImplicitThis</span>

<span class="token keyword">type</span> ObjectDescriptor<span class="token operator">&lt;</span><span class="token constant">D</span><span class="token punctuation">,</span> <span class="token constant">M</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   data<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token constant">D</span><span class="token punctuation">;</span>
   methods<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token constant">M</span> <span class="token operator">&amp;</span> ThisType<span class="token operator">&lt;</span><span class="token constant">D</span> <span class="token operator">&amp;</span> <span class="token constant">M</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// Type of 'this' in methods is D &amp; M</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> makeObject<span class="token operator">&lt;</span><span class="token constant">D</span><span class="token punctuation">,</span> <span class="token constant">M</span><span class="token operator">></span><span class="token punctuation">(</span>desc<span class="token punctuation">:</span> ObjectDescriptor<span class="token operator">&lt;</span><span class="token constant">D</span><span class="token punctuation">,</span> <span class="token constant">M</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">D</span> <span class="token operator">&amp;</span> <span class="token constant">M</span> <span class="token punctuation">{</span>
   <span class="token keyword">let</span> data<span class="token punctuation">:</span> object <span class="token operator">=</span> desc<span class="token punctuation">.</span>data <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token keyword">let</span> methods<span class="token punctuation">:</span> object <span class="token operator">=</span> desc<span class="token punctuation">.</span>methods <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>data<span class="token punctuation">,</span> <span class="token operator">...</span>methods <span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token constant">D</span> <span class="token operator">&amp;</span> <span class="token constant">M</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token function">makeObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   data<span class="token punctuation">:</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
   methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">moveBy</span><span class="token punctuation">(</span><span class="token parameter">dx<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> dy<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+=</span> dx<span class="token punctuation">;</span> <span class="token comment">// Strongly typed this</span>
         <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+=</span> dy<span class="token punctuation">;</span> <span class="token comment">// Strongly typed this</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">moveBy</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<blockquote>
<p>正是由于 ThisType 的出现，Vue 2.5 才得以增强对 TypeScript 的支持。</p>
</blockquote>
<p>虽已内置了很多映射类型，但在很多时候，我们需要根据自己的项目自定义映射类型：</p>
<p>比如你可能想取出接口类型中的函数类型：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="47710169056604815000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type FunctionPropertyNames<T> = {
   [K in keyof T]: T[K] extends Function ? K : never;
}[keyof T];
type FunctionProperties<T> = Pick<T, FunctionPropertyNames<T>>;

interface Part {
   id: number;
   name: string;
   subparts: Part[];
   updatePart(newName: string): void;
}

type T40 = FunctionPropertyNames<Part>; // &quot;updatePart&quot;
type T42 = FunctionProperties<Part>; // { updatePart(newName: string): void }`, `47710169056604815000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> FunctionPropertyNames<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">Function</span> <span class="token operator">?</span> <span class="token constant">K</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> FunctionProperties<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> FunctionPropertyNames<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Part</span> <span class="token punctuation">{</span>
   id<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   subparts<span class="token punctuation">:</span> Part<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token function">updatePart</span><span class="token punctuation">(</span>newName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token constant">T40</span> <span class="token operator">=</span> FunctionPropertyNames<span class="token operator">&lt;</span>Part<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// "updatePart"</span>
<span class="token keyword">type</span> <span class="token constant">T42</span> <span class="token operator">=</span> FunctionProperties<span class="token operator">&lt;</span>Part<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// { updatePart(newName: string): void }</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>比如你可能为了便捷，把本属于某个属性下的方法，通过一些方式 alias 到其他地方</p>
<p>举个例子：SomeClass 下有个属性 value = [1, 2, 3]，你可能在 Decorators 给类添加了此种功能：在 SomeClass 里调用 this.find() 时，实际上是调用 this.value.find()，但是此时 TypeScript 并不知道这些：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="44983189900120515000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`class SomeClass {
   value = [1, 2, 3];

   someMethod() {
      this.value.find(/* ... */); // ok
      this.find(/* ... */); // Error：SomeClass 没有 find 方法。
   }
}`, `44983189900120515000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">class</span> <span class="token class-name">SomeClass</span> <span class="token punctuation">{</span>
   value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

   <span class="token function">someMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error：SomeClass 没有 find 方法。</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>借助于映射类型和 interface + class 的声明方式，可以实现我们的目的：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="15966495071481268000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type ArrayMethodName = 'filter' | 'forEach' | 'find';

type SelectArrayMethod<T> = {
   [K in ArrayMethodName]: Array<T>[K];
};

interface SomeClass extends SelectArrayMethod<number> {}

class SomeClass {
   value = [1, 2, 3];

   someMethod() {
      this.forEach(/* ... */); // ok
      this.find(/* ... */); // ok
      this.filter(/* ... */); // ok
      this.value; // ok
      this.someMethod(); // ok
   }
}

const someClass = new SomeClass();
someClass.forEach(/* ... */); // ok
someClass.find(/* ... */); // ok
someClass.filter(/* ... */); // ok
someClass.value; // ok
someClass.someMethod(); // ok`, `15966495071481268000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> ArrayMethodName <span class="token operator">=</span> <span class="token string">'filter'</span> <span class="token operator">|</span> <span class="token string">'forEach'</span> <span class="token operator">|</span> <span class="token string">'find'</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> SelectArrayMethod<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> ArrayMethodName<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">SomeClass</span> <span class="token keyword">extends</span> <span class="token class-name">SelectArrayMethod</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">SomeClass</span> <span class="token punctuation">{</span>
   value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

   <span class="token function">someMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// ok</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">someMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> someClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SomeClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
someClass<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
someClass<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
someClass<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
someClass<span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// ok</span>
someClass<span class="token punctuation">.</span><span class="token function">someMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<blockquote>
<p>导出 SomeClass 类时，也能使用。</p>
</blockquote>
<p>可能有点不足的地方，在这段代码里 <code class="language-text">interface SomeClass extends SelectArrayMethod&lt;number&gt; {}</code> 你需要手动添加范型的具体类型（暂时没想到更好方式）。</p>
<h2 id="类型断言"><a href="#%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>类型断言</h2>
<p>类型断言用来明确的告诉 TypeScript 值的详细类型，合理使用能减少我们的工作量。</p>
<p>比如一个变量并没有初始值，但是我们知道它的类型信息（它可能是从后端返回）有什么办法既能正确推导类型信息，又能正常运行了？有一种网上的推荐方式是设置初始值，然后使用 typeof 拿到类型（可能会给其他地方用）。然而我可能比较懒，不喜欢设置初始值，这时候使用类型断言可以解决这类问题：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="61587797412182835000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface User {
   name: string;
   age: number;
}

export default class NewRoom extends Vue {
   private user = {} as User;
}`, `61587797412182835000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">NewRoom</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> user <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">as</span> User<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>在设置初始化时，添加断言，我们就无须添加初始值，编辑器也能正常的给予代码提示了。如果 user 属性很多，这样就能解决大量不必要的工作了，定义的 interface 也能给其他地方使用。</p>
<h2 id="枚举类型"><a href="#%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>枚举类型</h2>
<p>枚举类型分为数字类型与字符串类型，其中数字类型的枚举可以当标志使用：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="23115917522576777000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`// https://github.com/Microsoft/TypeScript/blob/master/src/compiler/types.ts#L3859
export const enum ObjectFlags {
   Class = 1 << 0, // Class
   Interface = 1 << 1, // Interface
   Reference = 1 << 2, // Generic type reference
   Tuple = 1 << 3, // Synthesized generic tuple type
   Anonymous = 1 << 4, // Anonymous
   Mapped = 1 << 5, // Mapped
   Instantiated = 1 << 6, // Instantiated anonymous or mapped type
   ObjectLiteral = 1 << 7, // Originates in an object literal
   EvolvingArray = 1 << 8, // Evolving array type
   ObjectLiteralPatternWithComputedProperties = 1 << 9, // Object literal pattern with computed properties
   ContainsSpread = 1 << 10, // Object literal contains spread operation
   ReverseMapped = 1 << 11, // Object contains a property from a reverse-mapped type
   JsxAttributes = 1 << 12, // Jsx attributes type
   MarkerType = 1 << 13, // Marker type used for variance probing
   JSLiteral = 1 << 14, // Object type declared in JS - disables errors on read/write of nonexisting members
   ClassOrInterface = Class | Interface
}`, `23115917522576777000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// https://github.com/Microsoft/TypeScript/blob/master/src/compiler/types.ts#L3859</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token keyword">enum</span> ObjectFlags <span class="token punctuation">{</span>
   Class <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// Class</span>
   Interface <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// Interface</span>
   Reference <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// Generic type reference</span>
   Tuple <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// Synthesized generic tuple type</span>
   Anonymous <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token comment">// Anonymous</span>
   Mapped <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// Mapped</span>
   Instantiated <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token comment">// Instantiated anonymous or mapped type</span>
   ObjectLiteral <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token comment">// Originates in an object literal</span>
   EvolvingArray <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token comment">// Evolving array type</span>
   ObjectLiteralPatternWithComputedProperties <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token comment">// Object literal pattern with computed properties</span>
   ContainsSpread <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// Object literal contains spread operation</span>
   ReverseMapped <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token comment">// Object contains a property from a reverse-mapped type</span>
   JsxAttributes <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token comment">// Jsx attributes type</span>
   MarkerType <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token comment">// Marker type used for variance probing</span>
   JSLiteral <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token comment">// Object type declared in JS - disables errors on read/write of nonexisting members</span>
   ClassOrInterface <span class="token operator">=</span> Class <span class="token operator">|</span> Interface
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>在 TypeScript src/compiler/types 源码里，定义了大量如上所示的基于数字类型的常量枚举。它们是一种有效存储和表示布尔值集合的方法。</p>
<p>在 《深入理解 TypeScript》 中有一个使用例子：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="18397884715348201000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`enum AnimalFlags {
   None = 0,
   HasClaws = 1 << 0,
   CanFly = 1 << 1,
   HasClawsOrCanFly = HasClaws | CanFly
}

interface Animal {
   flags: AnimalFlags;
   [key: string]: any;
}

function printAnimalAbilities(animal: Animal) {
   var animalFlags = animal.flags;
   if (animalFlags & AnimalFlags.HasClaws) {
      console.log('animal has claws');
   }
   if (animalFlags & AnimalFlags.CanFly) {
      console.log('animal can fly');
   }
   if (animalFlags == AnimalFlags.None) {
      console.log('nothing');
   }
}

var animal = { flags: AnimalFlags.None };
printAnimalAbilities(animal); // nothing
animal.flags |= AnimalFlags.HasClaws;
printAnimalAbilities(animal); // animal has claws
animal.flags &= ~AnimalFlags.HasClaws;
printAnimalAbilities(animal); // nothing
animal.flags |= AnimalFlags.HasClaws | AnimalFlags.CanFly;
printAnimalAbilities(animal); // animal has claws, animal can fly`, `18397884715348201000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">enum</span> AnimalFlags <span class="token punctuation">{</span>
   None <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
   HasClaws <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">0</span><span class="token punctuation">,</span>
   CanFly <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
   HasClawsOrCanFly <span class="token operator">=</span> HasClaws <span class="token operator">|</span> CanFly
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
   flags<span class="token punctuation">:</span> AnimalFlags<span class="token punctuation">;</span>
   <span class="token punctuation">[</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">printAnimalAbilities</span><span class="token punctuation">(</span><span class="token parameter">animal<span class="token punctuation">:</span> Animal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">var</span> animalFlags <span class="token operator">=</span> animal<span class="token punctuation">.</span>flags<span class="token punctuation">;</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>animalFlags <span class="token operator">&amp;</span> AnimalFlags<span class="token punctuation">.</span>HasClaws<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'animal has claws'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>animalFlags <span class="token operator">&amp;</span> AnimalFlags<span class="token punctuation">.</span>CanFly<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'animal can fly'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>animalFlags <span class="token operator">==</span> AnimalFlags<span class="token punctuation">.</span>None<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'nothing'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> animal <span class="token operator">=</span> <span class="token punctuation">{</span> flags<span class="token punctuation">:</span> AnimalFlags<span class="token punctuation">.</span>None <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">printAnimalAbilities</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// nothing</span>
animal<span class="token punctuation">.</span>flags <span class="token operator">|=</span> AnimalFlags<span class="token punctuation">.</span>HasClaws<span class="token punctuation">;</span>
<span class="token function">printAnimalAbilities</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// animal has claws</span>
animal<span class="token punctuation">.</span>flags <span class="token operator">&amp;=</span> <span class="token operator">~</span>AnimalFlags<span class="token punctuation">.</span>HasClaws<span class="token punctuation">;</span>
<span class="token function">printAnimalAbilities</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// nothing</span>
animal<span class="token punctuation">.</span>flags <span class="token operator">|=</span> AnimalFlags<span class="token punctuation">.</span>HasClaws <span class="token operator">|</span> AnimalFlags<span class="token punctuation">.</span>CanFly<span class="token punctuation">;</span>
<span class="token function">printAnimalAbilities</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// animal has claws, animal can fly</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>上例代码中 |= 用来添加一个标志，&#x26;= 和 ~ 用来删除标志，| 用来合并标志。</p>
<h2 id="decorator"><a href="#decorator" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Decorator</h2>
<p>Decorator 早已不是什么新鲜事物，在 TypeScript 1.5 + 的版本中，我们可以利用内置类型 ClassDecorator、PropertyDecorator、MethodDecorator 与 ParameterDecorator 更快书写 Decorator，如 MethodDecorator：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="40525858151106716000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`declare type MethodDecorator = <T>(
   target: Object,
   propertyKey: string | symbol,
   descriptor: TypedPropertyDescriptor<T>
) => TypedPropertyDescriptor<T> | void;`, `40525858151106716000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">type</span> MethodDecorator <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>
   <span class="token parameter">target<span class="token punctuation">:</span> Object<span class="token punctuation">,</span>
   propertyKey<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">symbol</span><span class="token punctuation">,</span>
   descriptor<span class="token punctuation">:</span> TypedPropertyDescriptor<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span>
<span class="token punctuation">)</span> <span class="token operator">=></span> TypedPropertyDescriptor<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>使用时，只需在相应地方加上类型注解，匿名函数的参数类型也就会被自动推导出来了。</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="69056432980155000000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`function methodDecorator(): MethodDecorator {
   return (target, key, descriptor) => {
      // ...
   };
}`, `69056432980155000000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">methodDecorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> MethodDecorator <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> descriptor</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>值得一提的是，如果你在 Decorator 给目标类的 prototype 添加属性时，TypeScript 并不知道这些：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="83481294857734640000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`function testAble(): ClassDecorator {
   return (target) => {
      target.prototype.someValue = true;
   };
}

@testAble()
class SomeClass {}

const someClass = new SomeClass();

someClass.someValue(); // Error: Property 'someValue' does not exist on type 'SomeClass'.`, `83481294857734640000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">testAble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> ClassDecorator <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      target<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>someValue <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

@<span class="token function">testAble</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">SomeClass</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> someClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SomeClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

someClass<span class="token punctuation">.</span><span class="token function">someValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error: Property 'someValue' does not exist on type 'SomeClass'.</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>这很常见，特别是当你想用 Decorator 来扩展一个类时。</p>
<p>GitHub 上有一个关于此问题的 issues，直至目前，也没有一个合适的方案实现它。其主要问题在于 TypeScript 并不知道目标类是否使用了 Decorator 以及 Decorator 的名称。从这个 issues 来看，建议的解决办法是使用 Mixin：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="86686698916429270000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Constructor<T> = new (...args: any[]) => T;

// mixin 函数的声明，需要实现
declare function mixin<T1, T2>(...MixIns: [Constructor<T1>, Constructor<T2>]): Constructor<T1 & T2>;

class MixInClass1 {
   mixinMethod1() {}
}

class MixInClass2 {
   mixinMethod2() {}
}

class Base extends mixin(MixInClass1, MixInClass2) {
   baseMethod() {}
}

const x = new Base();

x.baseMethod(); // OK
x.mixinMethod1(); // OK
x.mixinMethod2(); // OK
x.mixinMethod3(); // Error`, `86686698916429270000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Constructor<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">T</span><span class="token punctuation">;</span>

<span class="token comment">// mixin 函数的声明，需要实现</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> mixin<span class="token operator">&lt;</span><span class="token constant">T1</span><span class="token punctuation">,</span> <span class="token constant">T2</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token operator">...</span>MixIns<span class="token punctuation">:</span> <span class="token punctuation">[</span>Constructor<span class="token operator">&lt;</span><span class="token constant">T1</span><span class="token operator">></span><span class="token punctuation">,</span> Constructor<span class="token operator">&lt;</span><span class="token constant">T2</span><span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Constructor<span class="token operator">&lt;</span><span class="token constant">T1</span> <span class="token operator">&amp;</span> <span class="token constant">T2</span><span class="token operator">></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">MixInClass1</span> <span class="token punctuation">{</span>
   <span class="token function">mixinMethod1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MixInClass2</span> <span class="token punctuation">{</span>
   <span class="token function">mixinMethod2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Base</span> <span class="token keyword">extends</span> <span class="token class-name">mixin</span><span class="token punctuation">(</span>MixInClass1<span class="token punctuation">,</span> MixInClass2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token function">baseMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Base</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

x<span class="token punctuation">.</span><span class="token function">baseMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
x<span class="token punctuation">.</span><span class="token function">mixinMethod1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
x<span class="token punctuation">.</span><span class="token function">mixinMethod2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
x<span class="token punctuation">.</span><span class="token function">mixinMethod3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>当把大量的 JavaScript Decorator 重构为 Mixin 时，这无疑是一件让人头大的事情。</p>
<p>这有一些偏方，能让你顺利从 JavaScript 迁移至 TypeScript：</p>
<ul>
<li>
<p>显式赋值断言修饰符，即是在类里，明确说明某些属性存在于类上：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="85767542526488170000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`function testAble(): ClassDecorator {
  return (target) => {
     target.prototype.someValue = true;
  };
}

@testAble()
class SomeClass {
  public someValue!: boolean;
}

const someClass = new SomeClass();
someClass.someValue; // true`, `85767542526488170000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">testAble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> ClassDecorator <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
     target<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>someValue <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

@<span class="token function">testAble</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">SomeClass</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> someValue<span class="token operator">!</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> someClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SomeClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
someClass<span class="token punctuation">.</span>someValue<span class="token punctuation">;</span> <span class="token comment">// true</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
</li>
<li>
<p>采用声明合并形式，单独定义一个 interface，把用 Decorator 扩展的属性的类型，放入 interface 中：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="53362352416607360000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface SomeClass {
  someValue: boolean;
}

function testAble(): ClassDecorator {
  return (target) => {
     target.prototype.someValue = true;
  };
}

@testAble()
class SomeClass {}

const someClass = new SomeClass();
someClass.someValue; // true`, `53362352416607360000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">SomeClass</span> <span class="token punctuation">{</span>
  someValue<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">testAble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> ClassDecorator <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
     target<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>someValue <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

@<span class="token function">testAble</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">SomeClass</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> someClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SomeClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
someClass<span class="token punctuation">.</span>someValue<span class="token punctuation">;</span> <span class="token comment">// true</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
</li>
</ul>
<h2 id="reflect-metadata"><a href="#reflect-metadata" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reflect Metadata</h2>
<p>Reflect Metadata 是 ES7 的一个提案，它主要用来在声明的时候添加和读取元数据。TypeScript 在 1.5+ 的版本已经支持它，你只需要：</p>
<ul>
<li>npm i reflect-metadata —save。</li>
<li>在 tsconfig.json 里配置 emitDecoratorMetadata 选项。</li>
</ul>
<p>它具有诸多使用场景。</p>
<h3 id="获取类型信息"><a href="#%E8%8E%B7%E5%8F%96%E7%B1%BB%E5%9E%8B%E4%BF%A1%E6%81%AF" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>获取类型信息</h3>
<p>譬如在 vue-property-decorator 6.1 及其以下版本中，通过使用 Reflect.getMetadata API，Prop Decorator 能获取属性类型传至 Vue，简要代码如下：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="65458668404873950000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`function Prop(): PropertyDecorator {
   return (target, key: string) => {
      const type = Reflect.getMetadata('design:type', target, key);
      console.log(\`\${key} type: \${type.name}\`);
      // other...
   };
}

class SomeClass {
   @Prop()
   public Aprop!: string;
}`, `65458668404873950000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">Prop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> PropertyDecorator <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token keyword">type</span> <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">getMetadata</span><span class="token punctuation">(</span><span class="token string">'design:type'</span><span class="token punctuation">,</span> target<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> type: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">type</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// other...</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">SomeClass</span> <span class="token punctuation">{</span>
   @<span class="token function">Prop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token keyword">public</span> Aprop<span class="token operator">!</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>运行代码可在控制台看到 Aprop type: string。除能获取属性类型外，通过 Reflect.getMetadata(“design:paramtypes”, target, key) 和 Reflect.getMetadata(“design:returntype”, target, key) 可以分别获取函数参数类型和返回值类型。</p>
<h3 id="自定义-metadatakey"><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89-metadatakey" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>自定义 metadataKey</h3>
<p>除能获取类型信息外，常用于自定义 metadataKey，并在合适的时机获取它的值，示例如下：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="83887390239883350000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`function classDecorator(): ClassDecorator {
   return (target) => {
      // 在类上定义元数据，key 为 \`classMetaData\`，value 为 \`a\`
      Reflect.defineMetadata('classMetaData', 'a', target);
   };
}

function methodDecorator(): MethodDecorator {
   return (target, key, descriptor) => {
      // 在类的原型属性 'someMethod' 上定义元数据，key 为 \`methodMetaData\`，value 为 \`b\`
      Reflect.defineMetadata('methodMetaData', 'b', target, key);
   };
}

@classDecorator()
class SomeClass {
   @methodDecorator()
   someMethod() {}
}

Reflect.getMetadata('classMetaData', SomeClass); // 'a'
Reflect.getMetadata('methodMetaData', new SomeClass(), 'someMethod'); // 'b'`, `83887390239883350000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">classDecorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> ClassDecorator <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// 在类上定义元数据，key 为 `classMetaData`，value 为 `a`</span>
      Reflect<span class="token punctuation">.</span><span class="token function">defineMetadata</span><span class="token punctuation">(</span><span class="token string">'classMetaData'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">methodDecorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> MethodDecorator <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> descriptor</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// 在类的原型属性 'someMethod' 上定义元数据，key 为 `methodMetaData`，value 为 `b`</span>
      Reflect<span class="token punctuation">.</span><span class="token function">defineMetadata</span><span class="token punctuation">(</span><span class="token string">'methodMetaData'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> target<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

@<span class="token function">classDecorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">SomeClass</span> <span class="token punctuation">{</span>
   @<span class="token function">methodDecorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token function">someMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Reflect<span class="token punctuation">.</span><span class="token function">getMetadata</span><span class="token punctuation">(</span><span class="token string">'classMetaData'</span><span class="token punctuation">,</span> SomeClass<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'a'</span>
Reflect<span class="token punctuation">.</span><span class="token function">getMetadata</span><span class="token punctuation">(</span><span class="token string">'methodMetaData'</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">SomeClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'someMethod'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'b'</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3 id="用例"><a href="#%E7%94%A8%E4%BE%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>用例</h3>
<h4 id="控制反转和依赖注入"><a href="#%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%E5%92%8C%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>控制反转和依赖注入</h4>
<p>在 Angular 2+ 的版本中，控制反转与依赖注入便是基于此实现，现在，我们来实现一个简单版：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="38905921301127550000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Constructor<T = any> = new (...args: any[]) => T;

const Injectable = (): ClassDecorator => (target) => {};

class OtherService {
   a = 1;
}

@Injectable()
class TestService {
   constructor(public readonly otherService: OtherService) {}

   testMethod() {
      console.log(this.otherService.a);
   }
}

const Factory = <T>(target: Constructor<T>): T => {
   // 获取所有注入的服务
   const providers = Reflect.getMetadata('design:paramtypes', target); // [OtherService]
   const args = providers.map((provider: Constructor) => new provider());
   return new target(...args);
};

Factory(TestService).testMethod(); // 1`, `38905921301127550000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Constructor<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">any</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">T</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Injectable <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token parameter">ClassDecorator</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">OtherService</span> <span class="token punctuation">{</span>
   a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

@<span class="token function">Injectable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">TestService</span> <span class="token punctuation">{</span>
   <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> <span class="token keyword">readonly</span> otherService<span class="token punctuation">:</span> OtherService</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

   <span class="token function">testMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>otherService<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> Factory <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>target<span class="token punctuation">:</span> Constructor<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token parameter"><span class="token constant">T</span></span> <span class="token operator">=></span> <span class="token punctuation">{</span>
   <span class="token comment">// 获取所有注入的服务</span>
   <span class="token keyword">const</span> providers <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">getMetadata</span><span class="token punctuation">(</span><span class="token string">'design:paramtypes'</span><span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [OtherService]</span>
   <span class="token keyword">const</span> args <span class="token operator">=</span> providers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">provider<span class="token punctuation">:</span> Constructor</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token class-name">provider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">target</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">Factory</span><span class="token punctuation">(</span>TestService<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">testMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h4 id="controller-与-get-的实现"><a href="#controller-%E4%B8%8E-get-%E7%9A%84%E5%AE%9E%E7%8E%B0" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Controller 与 Get 的实现</h4>
<p>如果你在使用 TypeScript 开发 Node 应用，相信你对 Controller、Get、POST 这些 Decorator，并不陌生：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="41052548001303980000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`@Controller('/test')
class SomeClass {
   @Get('/a')
   someGetMethod() {
      return 'hello world';
   }

   @Post('/b')
   somePostMethod() {}
}`, `41052548001303980000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts">@<span class="token function">Controller</span><span class="token punctuation">(</span><span class="token string">'/test'</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">SomeClass</span> <span class="token punctuation">{</span>
   @<span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">'/a'</span><span class="token punctuation">)</span>
   <span class="token function">someGetMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">'hello world'</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   @<span class="token function">Post</span><span class="token punctuation">(</span><span class="token string">'/b'</span><span class="token punctuation">)</span>
   <span class="token function">somePostMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>它们也是基于 Reflect Metadata 实现，不同的是，这次我们将 metadataKey 定义在 descriptor 的 value 上（稍后解释），简单实现如下：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="23566714199197737000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const METHOD_METADATA = 'method'；
const PATH_METADATA = 'path'；

const Controller = (path: string): ClassDecorator => {
  return target => {
    Reflect.defineMetadata(PATH_METADATA, path, target);
  }
}

const createMappingDecorator = (method: string) => (path: string): MethodDecorator => {
  return (target, key, descriptor) => {
    Reflect.defineMetadata(PATH_METADATA, path, descriptor.value);
    Reflect.defineMetadata(METHOD_METADATA, method, descriptor.value);
  }
}

const Get = createMappingDecorator('GET');
const Post = createMappingDecorator('POST');`, `23566714199197737000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">const</span> <span class="token constant">METHOD_METADATA</span> <span class="token operator">=</span> <span class="token string">'method'</span>；
<span class="token keyword">const</span> <span class="token constant">PATH_METADATA</span> <span class="token operator">=</span> <span class="token string">'path'</span>；

<span class="token keyword">const</span> Controller <span class="token operator">=</span> <span class="token punctuation">(</span>path<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token parameter">ClassDecorator</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token parameter">target</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    Reflect<span class="token punctuation">.</span><span class="token function">defineMetadata</span><span class="token punctuation">(</span><span class="token constant">PATH_METADATA</span><span class="token punctuation">,</span> path<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">createMappingDecorator</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">method<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>path<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token parameter">MethodDecorator</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> descriptor</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    Reflect<span class="token punctuation">.</span><span class="token function">defineMetadata</span><span class="token punctuation">(</span><span class="token constant">PATH_METADATA</span><span class="token punctuation">,</span> path<span class="token punctuation">,</span> descriptor<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Reflect<span class="token punctuation">.</span><span class="token function">defineMetadata</span><span class="token punctuation">(</span><span class="token constant">METHOD_METADATA</span><span class="token punctuation">,</span> method<span class="token punctuation">,</span> descriptor<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> Get <span class="token operator">=</span> <span class="token function">createMappingDecorator</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> Post <span class="token operator">=</span> <span class="token function">createMappingDecorator</span><span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>接着，创建一个函数，映射出 route：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="92969845508626550000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`function mapRoute(instance: Object) {
   const prototype = Object.getPrototypeOf(instance);

   // 筛选出类的 methodName
   const methodsNames = Object.getOwnPropertyNames(prototype).filter(
      (item) => !isConstructor(item) && isFunction(prototype[item])
   );
   return methodsNames.map((methodName) => {
      const fn = prototype[methodName];

      // 取出定义的 metadata
      const route = Reflect.getMetadata(PATH_METADATA, fn);
      const method = Reflect.getMetadata(METHOD_METADATA, fn);
      return {
         route,
         method,
         fn,
         methodName
      };
   });
}`, `92969845508626550000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">mapRoute</span><span class="token punctuation">(</span><span class="token parameter">instance<span class="token punctuation">:</span> Object</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">const</span> prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>instance<span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token comment">// 筛选出类的 methodName</span>
   <span class="token keyword">const</span> methodsNames <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>prototype<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">!</span><span class="token function">isConstructor</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isFunction</span><span class="token punctuation">(</span>prototype<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> methodsNames<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">methodName</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> fn <span class="token operator">=</span> prototype<span class="token punctuation">[</span>methodName<span class="token punctuation">]</span><span class="token punctuation">;</span>

      <span class="token comment">// 取出定义的 metadata</span>
      <span class="token keyword">const</span> route <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">getMetadata</span><span class="token punctuation">(</span><span class="token constant">PATH_METADATA</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> method <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">getMetadata</span><span class="token punctuation">(</span><span class="token constant">METHOD_METADATA</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
         route<span class="token punctuation">,</span>
         method<span class="token punctuation">,</span>
         fn<span class="token punctuation">,</span>
         methodName
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>我们可以得到一些有用的信息：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="11527522563372550000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`Reflect.getMetadata(PATH_METADATA, SomeClass); // '/test'

mapRoute(new SomeClass());

/**
 * [{
 *    route: '/a',
 *    method: 'GET',
 *    fn: someGetMethod() { ... },
 *    methodName: 'someGetMethod'
 *  },{
 *    route: '/b',
 *    method: 'POST',
 *    fn: somePostMethod() { ... },
 *    methodName: 'somePostMethod'
 * }]
 *
 */`, `11527522563372550000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts">Reflect<span class="token punctuation">.</span><span class="token function">getMetadata</span><span class="token punctuation">(</span><span class="token constant">PATH_METADATA</span><span class="token punctuation">,</span> SomeClass<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '/test'</span>

<span class="token function">mapRoute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SomeClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * [{
 *    route: '/a',
 *    method: 'GET',
 *    fn: someGetMethod() { ... },
 *    methodName: 'someGetMethod'
 *  },{
 *    route: '/b',
 *    method: 'POST',
 *    fn: somePostMethod() { ... },
 *    methodName: 'somePostMethod'
 * }]
 *
 */</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>最后，只需把 route 相关信息绑在 express 或者 koa 上就 ok 了。</p>
<p>至于为什么要定义在 descriptor 的 value 上，我们希望 mapRoute 函数的参数是一个实例，而非 class 本身（控制反转）。</p>
<h2 id="数组与元组"><a href="#%E6%95%B0%E7%BB%84%E4%B8%8E%E5%85%83%E7%BB%84" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>数组与元组</h2>
<p>创建一个数组很简单：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="15723395600319523000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const arr = [1];`, `15723395600319523000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>此时 TypeScript 将会推断 arr 类型为 number[]：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="87245086975218170000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`arr.push('1'); // Error`, `87245086975218170000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts">arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>当数组元素具有其它类型时，可以通过类型注解的方式：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="3559117533733768700"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const arr: Array<string | number> = [1];

arr.push('1'); // OK
arr.push(true); // Error`, `3559117533733768700`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">const</span> arr<span class="token punctuation">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>
<p>或者你也可以通过可选元组的方式：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="95487133950170100000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const arr: [number, string?] = [1]; // arr 的成员类型可以是: number, string, undefined
arr.push('1'); // OK
arr.push(true); // Error`, `95487133950170100000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">const</span> arr<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">?</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// arr 的成员类型可以是: number, string, undefined</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>使用元组形式，还能提供指定位置的类型检查：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="12571905303455599000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`arr[0] = '1'; // Error
arr[1] = 1; // Error`, `12571905303455599000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts">arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>
arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// Error</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<h3 id="使用"><a href="#%E4%BD%BF%E7%94%A8" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>使用</h3>
<p>通常，我们使用 Promise.all 并行发出多个请求：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="2329944114566440000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface A {
   name: string;
}

interface B {
   age: number;
}

const [{ data: a }, { data: b }] = await Promise.all([axios.get<A>('http://some.1'), axios.get<B>('http://some.2')]);`, `2329944114566440000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
   age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> data<span class="token punctuation">:</span> a <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> data<span class="token punctuation">:</span> b <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token string">'http://some.1'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token operator">&lt;</span><span class="token constant">B</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token string">'http://some.2'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>此时，TypeScript 能推出 a 的类型是 A, b 的类型是 B。</p>
<p>现在，稍作改变：当满足特定条件时，才发出第二个请求：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="86958527408608740000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`// 使用类型注解
const requestList: [Promise<AxiosResponse<A>>, Promise<AxiosResponse<B>>?] = [axios.get<A>('http://some.1')];
if (flag) {
   requestList[1] = axios.get<B>('http://some.2');
}
const [{ data: a }, response] = await Promise.all(requestList);`, `86958527408608740000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// 使用类型注解</span>
<span class="token keyword">const</span> requestList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">Promise</span><span class="token operator">&lt;</span>AxiosResponse<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">>></span><span class="token punctuation">,</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>AxiosResponse<span class="token operator">&lt;</span><span class="token constant">B</span><span class="token operator">>></span><span class="token operator">?</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token string">'http://some.1'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   requestList<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token operator">&lt;</span><span class="token constant">B</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token string">'http://some.2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> data<span class="token punctuation">:</span> a <span class="token punctuation">}</span><span class="token punctuation">,</span> response<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>requestList<span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>我们期望它会如预想时那样工作，可是事与愿违 Promise.all(requestList) 会出现类型兼容性的报错，在这个 Issues 里，描述了相同的问题。</p>
<p>现在，你可以通过断言的方式，来让程序正常运作：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="37589388836246380000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const requestList: any[] = [axios.get<A>('http://some.1')]; // 设置为 any[] 类型
if (flag) {
   requestList[1] = axios.get<B>('http://some.2');
}
const [{ data: a }, response] = (await Promise.all(requestList)) as [AxiosResponse<A>, AxiosResponse<B>?]; // 类型安全`, `37589388836246380000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">const</span> requestList<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token string">'http://some.1'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 设置为 any[] 类型</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   requestList<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token operator">&lt;</span><span class="token constant">B</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token string">'http://some.2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> data<span class="token punctuation">:</span> a <span class="token punctuation">}</span><span class="token punctuation">,</span> response<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>requestList<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token punctuation">[</span>AxiosResponse<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span><span class="token punctuation">,</span> AxiosResponse<span class="token operator">&lt;</span><span class="token constant">B</span><span class="token operator">></span><span class="token operator">?</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 类型安全</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="字面量类型"><a href="#%E5%AD%97%E9%9D%A2%E9%87%8F%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>字面量类型</h2>
<p>在 JavaScript 基础上，TypeScript 扩展了一系列字面量类型，用来确保类型的准确性。</p>
<p>如创建一个字符串字面量：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="51788520455971955000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const a = 'hello'; // a 的类型是 'hello'
a = 'world'; // Error`, `51788520455971955000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span> <span class="token comment">// a 的类型是 'hello'</span>
a <span class="token operator">=</span> <span class="token string">'world'</span><span class="token punctuation">;</span> <span class="token comment">// Error</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>或者你也可以：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="73038379536971210000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`let a: 'hello' = 'hello'; // a 的类型是 'hello'
a = 'world'; // Error`, `73038379536971210000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">let</span> a<span class="token punctuation">:</span> <span class="token string">'hello'</span> <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span> <span class="token comment">// a 的类型是 'hello'</span>
a <span class="token operator">=</span> <span class="token string">'world'</span><span class="token punctuation">;</span> <span class="token comment">// Error</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>其它数据类型与此相似。</p>
<p>你也可以定义交叉类型与联合类型的字面量：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="41087291424713330000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface A {
   name: string;
}

interface B {
   name: string;
   age: number;
}

type C = A | B;
type D = A & B;`, `41087291424713330000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token constant">C</span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token operator">|</span> <span class="token constant">B</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token constant">D</span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token operator">&amp;</span> <span class="token constant">B</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3 id="对象字面量类型"><a href="#%E5%AF%B9%E8%B1%A1%E5%AD%97%E9%9D%A2%E9%87%8F%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>对象字面量类型</h3>
<p>对于对象字面量的类型，TypeScript 有一个被称之为 <code class="language-text">Freshness</code> 的概念，它也被称为更严格的对象字面量检查，如下例子：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="42677745250061230000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`let someThing: { name: string };
someThing = { name: 'hello' }; // ok
someThing = { name: 'hello', age: 123 }; // Error, 对象字面量只能指定已知属性, { name: string } 类型中不存在 age 属性

let otherThing = { name: 'hello', age: 123 };
someThing = otherThing; // ok`, `42677745250061230000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">let</span> someThing<span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
someThing <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'hello'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
someThing <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">123</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// Error, 对象字面量只能指定已知属性, { name: string } 类型中不存在 age 属性</span>

<span class="token keyword">let</span> otherThing <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">123</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
someThing <span class="token operator">=</span> otherThing<span class="token punctuation">;</span> <span class="token comment">// ok</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>TypeScript 认为创建的每个对象字面量都是 <code class="language-text">fresh</code> 状态；当一个 <code class="language-text">fresh</code> 对象字面量赋值给一个变量时，如果对象的类型与变量类型不兼容时，会出现报错（如上例子中 <code class="language-text">someThine = { name: &#39;hello&#39;, age: 123 };</code> 的错误）；当对象字面量的类型变宽，对象字面量的 <code class="language-text">fresh</code> 状态会消失（如上例子中 <code class="language-text">someThing = otherThing;</code> 赋值以后 someThing 的类型变宽）。</p>
<p>一个更实际的用例如下：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="71750172513322980000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`function logName(something: { name: string }) {
   console.log(something.name);
}

const obj = {
   name: 'matt',
   job: 'being awesome'
};

logName(obj); // ok
logName({ name: 'matt' }); // ok
logName({ nama: 'matt' }); // Error: nama 属性在 { name: string } 属性中不存在。
logName({ name: 'matt', job: 'being awesome' }); // Error: 对象字面量只能指定已知属性，\`job\` 属性在这里并不存在。`, `71750172513322980000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">logName</span><span class="token punctuation">(</span><span class="token parameter">something<span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>something<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token string">'matt'</span><span class="token punctuation">,</span>
   job<span class="token punctuation">:</span> <span class="token string">'being awesome'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">logName</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
<span class="token function">logName</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'matt'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
<span class="token function">logName</span><span class="token punctuation">(</span><span class="token punctuation">{</span> nama<span class="token punctuation">:</span> <span class="token string">'matt'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error: nama 属性在 { name: string } 属性中不存在。</span>
<span class="token function">logName</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'matt'</span><span class="token punctuation">,</span> job<span class="token punctuation">:</span> <span class="token string">'being awesome'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error: 对象字面量只能指定已知属性，`job` 属性在这里并不存在。</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>基本原理与上文中相似，当想用更严格的类型检查时，可以传一个具有 fresh 状态的对象字面量（如 <code class="language-text">logName({ name: &#39;matt&#39;, job: &#39;being awesome&#39; });</code>）。当你想多传一些属性至函数，可以将对象字面量赋值至一个新变量，然后再传至函数（如 <code class="language-text">logName(obj)</code>）。或者你也可以通过给函数形参添加多余类型的方式 <code class="language-text">function logName(someThing: { name: string; [key: string]: string })</code>。</p>
<h2 id="用-decorator-限制类型"><a href="#%E7%94%A8-decorator-%E9%99%90%E5%88%B6%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>用 Decorator 限制类型</h2>
<p>Decorator 可用于限制类方法的返回类型，如下所示：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="98553494104127640000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const TestDecorator = () => {
   return (
      target: Object,
      key: string | symbol,
      descriptor: TypedPropertyDescriptor<() => number> // 函数返回值必须是 number
   ) => {
      // 其他代码
   };
};

class Test {
   @TestDecorator()
   testMethod() {
      return '123'; // Error: Type 'string' is not assignable to type 'number'
   }
}`, `98553494104127640000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">const</span> <span class="token function-variable function">TestDecorator</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span>
      target<span class="token punctuation">:</span> Object<span class="token punctuation">,</span>
      key<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">symbol</span><span class="token punctuation">,</span>
      descriptor<span class="token punctuation">:</span> TypedPropertyDescriptor<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">number</span><span class="token operator">></span> <span class="token comment">// 函数返回值必须是 number</span>
   <span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// 其他代码</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
   @<span class="token function">TestDecorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token function">testMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">'123'</span><span class="token punctuation">;</span> <span class="token comment">// Error: Type 'string' is not assignable to type 'number'</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>你也可以用泛型让 TestDecorator 的传入参数类型与 testMethod 的返回参数类型兼容：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="32710110249667523000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const TestDecorator = <T>(para: T) => {
   return (target: Object, key: string | symbol, descriptor: TypedPropertyDescriptor<() => T>) => {
      // 其他代码
   };
};

class Test {
   @TestDecorator('hello')
   testMethod() {
      return 123; // Error: Type 'number' is not assignable to type 'string'
   }
}`, `32710110249667523000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">const</span> TestDecorator <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token parameter">para<span class="token punctuation">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">:</span> Object<span class="token punctuation">,</span> key<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">symbol</span><span class="token punctuation">,</span> descriptor<span class="token punctuation">:</span> TypedPropertyDescriptor<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">T</span><span class="token operator">></span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// 其他代码</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
   @<span class="token function">TestDecorator</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>
   <span class="token function">testMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// Error: Type 'number' is not assignable to type 'string'</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="泛型的类型推断"><a href="#%E6%B3%9B%E5%9E%8B%E7%9A%84%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%96%AD" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>泛型的类型推断</h2>
<p>在定义泛型后，有两种方式使用，一种是传入泛型类型，另一种使用类型推断，即编译器根据其他参数类型来推断泛型类型。简单示例如下：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="58086541409186630000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`declare function fn<T>(arg: T): T; // 定义一个泛型函数

const fn1 = fn<string>('hello'); // 第一种方式，传入泛型类型 string
const fn2 = fn(1); // 第二种方式，从参数 arg 传入的类型 number，来推断出泛型 T 的类型是 number`, `58086541409186630000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">function</span> fn<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>arg<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span> <span class="token comment">// 定义一个泛型函数</span>

<span class="token keyword">const</span> fn1 <span class="token operator">=</span> fn<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 第一种方式，传入泛型类型 string</span>
<span class="token keyword">const</span> fn2 <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 第二种方式，从参数 arg 传入的类型 number，来推断出泛型 T 的类型是 number</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>
<p>它通常与映射类型一起使用，用来实现一些比较复杂的功能。</p>
<h3 id="vue-type-简单实现"><a href="#vue-type-%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Vue Type 简单实现</h3>
<p>如下一个例子：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="42192792197733870000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Options<T> = {
   [P in keyof T]: T[P];
};

declare function test<T>(o: Options<T>): T;

test({ name: 'Hello' }).name; // string`, `42192792197733870000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Options<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">declare</span> <span class="token keyword">function</span> test<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>o<span class="token punctuation">:</span> Options<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Hello'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// string</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>test 函数将传入参数的所有属性取出来，现在我们来一步一步加工，实现想要的功能。</p>
<p>首先，更改传入参数的形式，由 <code class="language-text">{ name: &#39;Hello&#39; }</code> 的形式变更为 <code class="language-text">{ data: { name: &#39;Hello&#39; } }</code>，调用函数的返回值类型不变，即 <code class="language-text">test({ data: { name: &#39;Hello&#39; } }).name</code> 的值也是 string 类型。</p>
<p>这并不复杂，这只需要把传入参数的 data 类型设置为 T 即可：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="28808491087116874000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`declare function test<T>(o: { data: Options<T> }): T;

test({ data: { name: 'Hello' } }).name; // string`, `28808491087116874000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">function</span> test<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>o<span class="token punctuation">:</span> <span class="token punctuation">{</span> data<span class="token punctuation">:</span> Options<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> data<span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Hello'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// string</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>当 data 对象里，含有函数时，它也能运作：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="60354480074153620000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const param = {
   data: {
      name: 'Hello',
      someMethod() {
         return 'hello world';
      }
   }
};

test(param).someMethod(); // string`, `60354480074153620000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">const</span> param <span class="token operator">=</span> <span class="token punctuation">{</span>
   data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'Hello'</span><span class="token punctuation">,</span>
      <span class="token function">someMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token string">'hello world'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">someMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>接着，考虑一种特殊的函数情景，像 Vue 中 Computed 一样，不调用函数，也能取出函数的返回值类型。现在传入参数的形式变更为：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="96382041031693060000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const param = {
   data: {
      name: 'Hello'
   },
   computed: {
      age() {
         return 20;
      }
   }
};`, `96382041031693060000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">const</span> param <span class="token operator">=</span> <span class="token punctuation">{</span>
   data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'Hello'</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token number">20</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>一个函数的类型可以简单的看成是 <code class="language-text">() =&gt; T</code> 的形式，对象中的方法类型，可以看成 <code class="language-text">a: () =&gt; T</code> 的形式，在反向推导时（由函数返回值，来推断类型 a 的类型）可以利用它，需要添加一个映射类型 <code class="language-text">Computed&lt;T&gt;</code>，用来处理 computed 里的函数：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="30733229001491534000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Options<T> = {
   [P in keyof T]: T[P];
};

type Computed<T> = {
   [P in keyof T]: () => T[P];
};

interface Params<T, M> {
   data: Options<T>;
   computed: Computed<M>;
}

declare function test<T, M>(o: Params<T, M>): T & M;

const param = {
   data: {
      name: 'Hello'
   },
   computed: {
      age() {
         return 20;
      }
   }
};

test(param).name; // string
test(param).age; // number`, `30733229001491534000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Options<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> Computed<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Params</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">M</span><span class="token operator">></span> <span class="token punctuation">{</span>
   data<span class="token punctuation">:</span> Options<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">;</span>
   computed<span class="token punctuation">:</span> Computed<span class="token operator">&lt;</span><span class="token constant">M</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">function</span> test<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">M</span><span class="token operator">></span><span class="token punctuation">(</span>o<span class="token punctuation">:</span> Params<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">M</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token operator">&amp;</span> <span class="token constant">M</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> param <span class="token operator">=</span> <span class="token punctuation">{</span>
   data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'Hello'</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token number">20</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// string</span>
<span class="token function">test</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">.</span>age<span class="token punctuation">;</span> <span class="token comment">// number</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>最后，结合巧用 ThisType 映射类型，可以轻松的实现在 computed age 方法下访问 data 中的数据：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="90400634045523350000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Options<T> = {
   [P in keyof T]: T[P];
};

type Computed<T> = {
   [P in keyof T]: () => T[P];
};

interface Params<T, M> {
   data: Options<T>;
   computed: Computed<M>;
}

declare function test<T, M>(o: Params<T, M>): T & M;

const param = {
   data: {
      name: 'Hello'
   },
   computed: {
      age() {
         return 20;
      }
   }
};

test(param).name; // string
test(param).age; // number`, `90400634045523350000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Options<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> Computed<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Params</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">M</span><span class="token operator">></span> <span class="token punctuation">{</span>
   data<span class="token punctuation">:</span> Options<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">;</span>
   computed<span class="token punctuation">:</span> Computed<span class="token operator">&lt;</span><span class="token constant">M</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">function</span> test<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">M</span><span class="token operator">></span><span class="token punctuation">(</span>o<span class="token punctuation">:</span> Params<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">M</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token operator">&amp;</span> <span class="token constant">M</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> param <span class="token operator">=</span> <span class="token punctuation">{</span>
   data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'Hello'</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token number">20</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// string</span>
<span class="token function">test</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">.</span>age<span class="token punctuation">;</span> <span class="token comment">// number</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3 id="扁平数组构建树形结构"><a href="#%E6%89%81%E5%B9%B3%E6%95%B0%E7%BB%84%E6%9E%84%E5%BB%BA%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>扁平数组构建树形结构</h3>
<p>扁平数组构建树形结构即是将一组扁平数组，根据 parent_id（或者是其他）转换成树形结构：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="27481443278975660000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`// 转换前数据
const arr = [
   { id: 1, parentId: 0, name: 'test1' },
   { id: 2, parentId: 1, name: 'test2' },
   { id: 3, parentId: 0, name: 'test3' }
];

// 转化后
[
   {
      id: 1,
      parentId: 0,
      name: 'test1',
      children: [
         {
            id: 2,
            parentId: 1,
            name: 'test2',
            children: []
         }
      ]
   },
   {
      id: 3,
      parentId: 0,
      name: 'test3',
      children: []
   }
];`, `27481443278975660000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// 转换前数据</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
   <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> parentId<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'test1'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> parentId<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'test2'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> parentId<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'test3'</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 转化后</span>
<span class="token punctuation">[</span>
   <span class="token punctuation">{</span>
      id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      parentId<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'test1'</span><span class="token punctuation">,</span>
      children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
         <span class="token punctuation">{</span>
            id<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            parentId<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            name<span class="token punctuation">:</span> <span class="token string">'test2'</span><span class="token punctuation">,</span>
            children<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span>
      id<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      parentId<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'test3'</span><span class="token punctuation">,</span>
      children<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>如果 children 字段名字不变，函数的类型并不难写，它大概是如下样子：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="53204410211977100000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface Item {
   id: number;
   parentId: number;
   name: string;
}

type TreeItem = Item & { children: TreeItem[] | [] };

declare function listToTree(list: Item[]): TreeItem[];

listToTree(arr).forEach((i) => i.children); // ok`, `53204410211977100000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Item</span> <span class="token punctuation">{</span>
   id<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   parentId<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> TreeItem <span class="token operator">=</span> Item <span class="token operator">&amp;</span> <span class="token punctuation">{</span> children<span class="token punctuation">:</span> TreeItem<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">listToTree</span><span class="token punctuation">(</span><span class="token parameter">list<span class="token punctuation">:</span> Item<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> TreeItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">listToTree</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token operator">=></span> i<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>但是在很多时候，children 字段的名字并不固定，而是从参数中传进来：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="84581559879078000000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const options = {
   childrenKey: 'childrenList'
};

listToTree(arr, options);`, `84581559879078000000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
   childrenKey<span class="token punctuation">:</span> <span class="token string">'childrenList'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">listToTree</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>此时 children 字段名称应该为 childrenList：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="21700339482448937000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`[
   {
      id: 1,
      parentId: 0,
      name: 'test1',
      childrenList: [{ id: 2, parentId: 1, name: 'test2', childrenList: [] }]
   },
   {
      id: 3,
      parentId: 0,
      name: 'test3',
      childrenList: []
   }
];`, `21700339482448937000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token punctuation">[</span>
   <span class="token punctuation">{</span>
      id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      parentId<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'test1'</span><span class="token punctuation">,</span>
      childrenList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> parentId<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'test2'</span><span class="token punctuation">,</span> childrenList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span>
      id<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      parentId<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'test3'</span><span class="token punctuation">,</span>
      childrenList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>实现的思路大致是前文所说的利用泛型的类型推断，从传入的 options 参数中，得到 childrenKey 的类型，然后再传给 TreeItem，如下：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="65078285363453280000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface Options<T extends string> {
   // 限制为 string 类型
   childrenKey: T;
}

declare function listToTree<T extends string = 'children'>(list: Item[], options: Options<T>): TreeItem<T>[];`, `65078285363453280000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Options</span><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token operator">></span> <span class="token punctuation">{</span>
   <span class="token comment">// 限制为 string 类型</span>
   childrenKey<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">function</span> listToTree<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span> <span class="token operator">=</span> <span class="token string">'children'</span><span class="token operator">></span><span class="token punctuation">(</span>list<span class="token punctuation">:</span> Item<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> options<span class="token punctuation">:</span> Options<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">:</span> TreeItem<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>当 options 为 <code class="language-text">{ childrenKey: &#39;childrenList&#39; }</code> 时，T 能被正确推导出为 childrenList，接着只需要在 TreeItem 中，把 children 修改为传入的 T 即可：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="92233687566454590000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface Item {
   id: number;
   parentId: number;
   name: string;
}

interface Options<T extends string> {
   childrenKey: T;
}

type TreeItem<T extends string> = Item & { [key in T]: TreeItem<T>[] | [] };

declare function listToTree<T extends string = 'children'>(list: Item[], options: Options<T>): TreeItem<T>[];

listToTree(arr, { childrenKey: 'childrenList' }).forEach((i) => i.childrenList); // ok`, `92233687566454590000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Item</span> <span class="token punctuation">{</span>
   id<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   parentId<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Options</span><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token operator">></span> <span class="token punctuation">{</span>
   childrenKey<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> TreeItem<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token operator">></span> <span class="token operator">=</span> Item <span class="token operator">&amp;</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>key <span class="token keyword">in</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> TreeItem<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">declare</span> <span class="token keyword">function</span> listToTree<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span> <span class="token operator">=</span> <span class="token string">'children'</span><span class="token operator">></span><span class="token punctuation">(</span>list<span class="token punctuation">:</span> Item<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> options<span class="token punctuation">:</span> Options<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">:</span> TreeItem<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">listToTree</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token punctuation">{</span> childrenKey<span class="token punctuation">:</span> <span class="token string">'childrenList'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token operator">=></span> i<span class="token punctuation">.</span>childrenList<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>有一点局限性，由于对象字面量的 Fresh 的影响，当 options 不是以对象字面量的形式传入时，需要给它断言：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="58955625280609180000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const options = {
   childrenKey: 'childrenList' as 'childrenList'
};

listToTree(arr, options).forEach((i) => i.childrenList); // ok`, `58955625280609180000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
   childrenKey<span class="token punctuation">:</span> <span class="token string">'childrenList'</span> <span class="token keyword">as</span> <span class="token string">'childrenList'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">listToTree</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token operator">=></span> i<span class="token punctuation">.</span>childrenList<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="infer"><a href="#infer" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>infer</h2>
<p>infer 最早出现在此 PR 中，表示在 extends 条件语句中待推断的类型变量。</p>
<p>简单示例如下：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="48836960826542760000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type ParamType<T> = T extends (param: infer P) => any ? P : T;`, `48836960826542760000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> ParamType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token parameter">param<span class="token punctuation">:</span> infer <span class="token constant">P</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">any</span> <span class="token operator">?</span> <span class="token constant">P</span> <span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>在这个条件语句 <code class="language-text">T extends (param: infer P) =&gt; any ? P : T</code> 中，<code class="language-text">infer P</code> 表示待推断的函数参数。</p>
<p>整句表示为：如果 T 能赋值给 <code class="language-text">(param: infer P) =&gt; any</code>，则结果是 <code class="language-text">(param: infer P) =&gt; any</code> 类型中的参数 P，否则返回为 T。</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="67956068721161240000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface User {
   name: string;
   age: number;
}

type Func = (user: User) => void;

type Param = ParamType<Func>; // Param = User
type AA = ParamType<string>; // string`, `67956068721161240000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token function-variable function">Func</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">user<span class="token punctuation">:</span> User</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> Param <span class="token operator">=</span> ParamType<span class="token operator">&lt;</span>Func<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// Param = User</span>
<span class="token keyword">type</span> <span class="token constant">AA</span> <span class="token operator">=</span> ParamType<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// string</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3 id="内置类型"><a href="#%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>内置类型</h3>
<p>在 2.8 版本中，TypeScript 内置了一些与 infer 有关的映射类型：</p>
<ul>
<li>用于提取函数类型的返回值类型：</li>
</ul>
<div
              class="gatsby-code-button-container"
              data-toaster-id="4825888267658396000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type ReturnType<T> = T extends (...args: any[]) => infer P ? P : any;`, `4825888267658396000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> ReturnType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> infer <span class="token constant">P</span> <span class="token operator">?</span> <span class="token constant">P</span> <span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>相比于文章开始给出的示例，<code class="language-text">ReturnType&lt;T&gt;</code> 只是将 infer P 从参数位置移动到返回值位置，因此此时 P 即是表示待推断的返回值类型。</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="16985658457797204000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Func = () => User;
type Test = ReturnType<Func>; // Test = User`, `16985658457797204000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> <span class="token function-variable function">Func</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> User<span class="token punctuation">;</span>
<span class="token keyword">type</span> Test <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span>Func<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// Test = User</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<ul>
<li>用于提取构造函数中参数（实例）类型：</li>
</ul>
<p>一个构造函数可以使用 new 来实例化，因此它的类型通常表示如下：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="74165119251272580000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Constructor = new (...args: any[]) => any;`, `74165119251272580000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Constructor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">any</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>当 infer 用于构造函数类型中，可用于参数位置 <code class="language-text">new (...args: infer P) =&gt; any;</code> 和返回值位置 <code class="language-text">new (...args: any[]) =&gt; infer P;</code>。</p>
<p>因此就内置如下两个映射类型：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="38451870712980400000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`// 获取参数类型
type ConstructorParameters<T extends new (...args: any[]) => any> = T extends new (...args: infer P) => any ? P : never;

// 获取实例类型
type InstanceType<T extends new (...args: any[]) => any> = T extends new (...args: any[]) => infer R ? R : any;

class TestClass {
   constructor(public name: string, public string: number) {}
}

type Params = ConstructorParameters<typeof TestClass>; // [string, number]

type Instance = InstanceType<typeof TestClass>; // TestClass`, `38451870712980400000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// 获取参数类型</span>
<span class="token keyword">type</span> ConstructorParameters<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">new</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">any</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">new</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> infer <span class="token constant">P</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">any</span> <span class="token operator">?</span> <span class="token constant">P</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>

<span class="token comment">// 获取实例类型</span>
<span class="token keyword">type</span> InstanceType<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">new</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">any</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">new</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> infer <span class="token constant">R</span> <span class="token operator">?</span> <span class="token constant">R</span> <span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">TestClass</span> <span class="token punctuation">{</span>
   <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">public</span> <span class="token builtin">string</span><span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Params <span class="token operator">=</span> ConstructorParameters<span class="token operator">&lt;</span><span class="token keyword">typeof</span> TestClass<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// [string, number]</span>

<span class="token keyword">type</span> Instance <span class="token operator">=</span> InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> TestClass<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// TestClass</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3 id="一些用例"><a href="#%E4%B8%80%E4%BA%9B%E7%94%A8%E4%BE%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>一些用例</h3>
<p>至此，相信你已经对 infer 已有基本了解，我们来看看一些使用它的「骚操作」：</p>
<ul>
<li>tuple 转 union ，如：<code class="language-text">[string, number] -&gt; string | number</code></li>
</ul>
<p>解答之前，我们需要了解 tuple 类型在一定条件下，是可以赋值给数组类型：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="90213510503713230000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type TTuple = [string, number];
type TArray = Array<string | number>;

type Res = TTuple extends TArray ? true : false; // true
type ResO = TArray extends TTuple ? true : false; // false`, `90213510503713230000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> TTuple <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> TArray <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">></span><span class="token punctuation">;</span>

<span class="token keyword">type</span> Res <span class="token operator">=</span> TTuple <span class="token keyword">extends</span> <span class="token class-name">TArray</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">type</span> ResO <span class="token operator">=</span> TArray <span class="token keyword">extends</span> <span class="token class-name">TTuple</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// false</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>因此，在配合 infer 时，很容易做到：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="22787133055392460000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type ElementOf<T> = T extends Array<infer E> ? E : never;

type TTuple = [string, number];

type ToUnion = ElementOf<TTuple>; // string | number`, `22787133055392460000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> ElementOf<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span>infer <span class="token constant">E</span><span class="token operator">></span> <span class="token operator">?</span> <span class="token constant">E</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> TTuple <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> ToUnion <span class="token operator">=</span> ElementOf<span class="token operator">&lt;</span>TTuple<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// string | number</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>在 stackoverflow 上看到另一种解法，比较简（牛）单（逼）：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="97762845380725060000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type TTuple = [string, number];
type Res = TTuple[number]; // string | number`, `97762845380725060000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> TTuple <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> Res <span class="token operator">=</span> TTuple<span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// string | number</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<ul>
<li>union 转 intersection，如：<code class="language-text">string | number -&gt; string &amp; number</code></li>
</ul>
<p>这个可能要稍微麻烦一点，需要 infer 配合 <code class="language-text">Distributive conditional types</code> 使用。</p>
<p><code class="language-text">Distributive conditional types</code> 是由 <code class="language-text">naked type parameter</code> 构成的条件类型。而 <code class="language-text">naked type parameter</code> 表示没有被 Wrapped 的类型（如：<code class="language-text">Array&lt;T&gt;</code>、<code class="language-text">[T]</code>、<code class="language-text">Promise&lt;T&gt;</code> 等都是不是 <code class="language-text">naked type parameter</code>）。<code class="language-text">Distributive conditional types</code> 主要用于拆分 extends 左边部分的联合类型，举个例子：在条件类型 <code class="language-text">T extends U ? X : Y</code> 中，当 T 是 <code class="language-text">A | B</code> 时，会拆分成 <code class="language-text">A extends U ? X : Y | B extends U ? X : Y</code>；</p>
<p>有了这个前提，再利用在逆变位置上，同一类型变量的多个候选类型将会被推断为交叉类型的特性，即</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="39531247391261810000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Bar<T> = T extends { a: (x: infer U) => void; b: (x: infer U) => void } ? U : never;
type T20 = Bar<{ a: (x: string) => void; b: (x: string) => void }>; // string
type T21 = Bar<{ a: (x: string) => void; b: (x: number) => void }>; // string & number`, `39531247391261810000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Bar<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> <span class="token function-variable function">a</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> infer <span class="token constant">U</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span> <span class="token function-variable function">b</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> infer <span class="token constant">U</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span> <span class="token punctuation">}</span> <span class="token operator">?</span> <span class="token constant">U</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token constant">T20</span> <span class="token operator">=</span> Bar<span class="token operator">&lt;</span><span class="token punctuation">{</span> <span class="token function-variable function">a</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span> <span class="token function-variable function">b</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span> <span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// string</span>
<span class="token keyword">type</span> <span class="token constant">T21</span> <span class="token operator">=</span> Bar<span class="token operator">&lt;</span><span class="token punctuation">{</span> <span class="token function-variable function">a</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span> <span class="token function-variable function">b</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span> <span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// string &amp; number</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>因此，综合以上几点，我们可以得到在 stackoverflow 上的一个答案：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="62534114960867980000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type UnionToIntersection<U> = (U extends any ? (k: U) => void : never) extends ((k: infer I) => void) ? I : never;

type Result = UnionToIntersection<string | number>; // string & number`, `62534114960867980000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> UnionToIntersection<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token class-name">any</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token parameter">k<span class="token punctuation">:</span> <span class="token constant">U</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">)</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">k<span class="token punctuation">:</span> infer <span class="token constant">I</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token constant">I</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> Result <span class="token operator">=</span> UnionToIntersection<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// string &amp; number</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>当传入 <code class="language-text">string | number</code> 时：</p>
<ul>
<li>
<p>第一步：<code class="language-text">(U extends any ? (k: U) =&gt; void : never)</code> 会把 union 拆分成 <code class="language-text">(string extends any ? (k: string) =&gt; void : never) | (number extends any ? (k: number)=&gt; void : never)</code>，即是得到 <code class="language-text">(k: string) =&gt; void | (k: number) =&gt; void</code>；</p>
</li>
<li>
<p>第二步：<code class="language-text">(k: string) =&gt; void | (k: number) =&gt; void extends ((k: infer I) =&gt; void) ? I : never</code>，根据上文可以推断出 I 为 string &#x26; number。</p>
</li>
</ul>
<h3 id="leetcode-的一道-typescript-面试题"><a href="#leetcode-%E7%9A%84%E4%B8%80%E9%81%93-typescript-%E9%9D%A2%E8%AF%95%E9%A2%98" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>LeetCode 的一道 TypeScript 面试题</h3>
<p>前段时间在 GitHub 上发现一道来自 LeetCode TypeScript 的面试题，比较有意思，题目的大致意思是：</p>
<p>假设有一个这样的类型（原题中给出的是类，这里简化为 interface）：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="55259077763197340000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface Module {
   count: number;
   message: string;
   asyncMethod<T, U>(input: Promise<T>): Promise<Action<U>>;
   syncMethod<T, U>(action: Action<T>): Action<U>;
}`, `55259077763197340000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Module</span> <span class="token punctuation">{</span>
   count<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   message<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   asyncMethod<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span><span class="token punctuation">(</span>input<span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Action<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">>></span><span class="token punctuation">;</span>
   syncMethod<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span><span class="token punctuation">(</span>action<span class="token punctuation">:</span> Action<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">:</span> Action<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>在经过 Connect 函数之后，返回值类型为</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="35223203408794145000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Result {
  asyncMethod<T, U>(input: T): Action<U>;
  syncMethod<T, U>(action: T): Action<U>;
}`, `35223203408794145000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Result <span class="token punctuation">{</span>
  asyncMethod<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span><span class="token punctuation">(</span>input<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Action<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span><span class="token punctuation">;</span>
  syncMethod<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span><span class="token punctuation">(</span>action<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Action<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>
<p>其中 <code class="language-text">Action&lt;T&gt;</code> 的定义为：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="16226069448486680000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface Action<T> {
   payload?: T;
   type: string;
}`, `16226069448486680000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Action</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token punctuation">{</span>
   payload<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
   <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>
<p>这里主要考察两点</p>
<ul>
<li>挑选出函数</li>
<li>条件类型 + 此篇文章所提及的 infer</li>
</ul>
<p>接下来就比较简单了，主要是利用条件类型 + infer，如果函数可以赋值给 <code class="language-text">asyncMethod&lt;T, U&gt;(input: Promise&lt;T&gt;): Promise&lt;Action&lt;U&gt;&gt;</code>，则取值为 <code class="language-text">asyncMethod&lt;T, U&gt;(input: T): Action&lt;U&gt;</code></p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="5685153580386082000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface Action<T> {
   payload?: T;
   type: string;
}

interface Module {
   count: number;
   message: string;
   asyncMethod<T, U>(input: Promise<T>): Promise<Action<U>>;
   syncMethod<T, U>(action: Action<T>): Action<U>;
}

type asyncMethod<T, U> = (input: Promise<T>) => Promise<Action<U>>; // 转换前
type asyncMethodConnect<T, U> = (input: T) => Action<U>; // 转换后
type syncMethod<T, U> = (action: Action<T>) => Action<U>; // 转换前
type syncMethodConnect<T, U> = (action: T) => Action<U>; // 转换后

type methodsPick<T> = {
   [P in keyof T]: T[P] extends Function ? P : never;
}[keyof T];

type ModuleMethodsConnect<T> = T extends asyncMethod<infer U, infer V>
   ? asyncMethodConnect<U, V>
   : T extends syncMethod<infer U, infer V>
   ? syncMethodConnect<U, V>
   : never;

type ModuleMethods = methodsPick<Module>;

type Connect = (
   module: Module
) => {
   [T in ModuleMethods]: ModuleMethodsConnect<Module[T]>;
};`, `5685153580386082000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Action</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token punctuation">{</span>
   payload<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
   <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Module</span> <span class="token punctuation">{</span>
   count<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   message<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   asyncMethod<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span><span class="token punctuation">(</span>input<span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Action<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">>></span><span class="token punctuation">;</span>
   syncMethod<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span><span class="token punctuation">(</span>action<span class="token punctuation">:</span> Action<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">:</span> Action<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> asyncMethod<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">input<span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Action<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">>></span><span class="token punctuation">;</span> <span class="token comment">// 转换前</span>
<span class="token keyword">type</span> asyncMethodConnect<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">input<span class="token punctuation">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> Action<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 转换后</span>
<span class="token keyword">type</span> syncMethod<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">action<span class="token punctuation">:</span> Action<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span><span class="token punctuation">)</span> <span class="token operator">=></span> Action<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 转换前</span>
<span class="token keyword">type</span> syncMethodConnect<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">action<span class="token punctuation">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> Action<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// 转换后</span>

<span class="token keyword">type</span> methodsPick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">Function</span> <span class="token operator">?</span> <span class="token constant">P</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> ModuleMethodsConnect<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">asyncMethod</span><span class="token operator">&lt;</span>infer <span class="token constant">U</span><span class="token punctuation">,</span> infer <span class="token constant">V</span><span class="token operator">></span>
   <span class="token operator">?</span> asyncMethodConnect<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token punctuation">,</span> <span class="token constant">V</span><span class="token operator">></span>
   <span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">syncMethod</span><span class="token operator">&lt;</span>infer <span class="token constant">U</span><span class="token punctuation">,</span> infer <span class="token constant">V</span><span class="token operator">></span>
   <span class="token operator">?</span> syncMethodConnect<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token punctuation">,</span> <span class="token constant">V</span><span class="token operator">></span>
   <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> ModuleMethods <span class="token operator">=</span> methodsPick<span class="token operator">&lt;</span>Module<span class="token operator">></span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token function-variable function">Connect</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
   <span class="token parameter"><span class="token keyword">module</span><span class="token punctuation">:</span> Module</span>
<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">T</span> <span class="token keyword">in</span> ModuleMethods<span class="token punctuation">]</span><span class="token punctuation">:</span> ModuleMethodsConnect<span class="token operator">&lt;</span>Module<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h1 id="类型编程"><a href="#%E7%B1%BB%E5%9E%8B%E7%BC%96%E7%A8%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>类型编程</h1>
<h2 id="泛型"><a href="#%E6%B3%9B%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>泛型</h2>
<h3 id="写法"><a href="#%E5%86%99%E6%B3%95" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>写法</h3>
<div
              class="gatsby-code-button-container"
              data-toaster-id="57817524356287530000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`function foo<T>(arg: T): T {
   return arg;
}

// 箭头函数下的书写
const foo = <T>(arg: T) => arg;

// tsx 文件下的书写
const foo = <T extends {}>(arg: T) => arg;

class Foo<T, U> {
   constructor(public arg1: T, public arg2: U) {}

   public method(): T {
      return this.arg1;
   }
}`, `57817524356287530000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> foo<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>arg<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 箭头函数下的书写</span>
<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token parameter">arg<span class="token punctuation">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> arg<span class="token punctuation">;</span>

<span class="token comment">// tsx 文件下的书写</span>
<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token parameter">arg<span class="token punctuation">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> arg<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span> <span class="token punctuation">{</span>
   <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> arg1<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token keyword">public</span> arg2<span class="token punctuation">:</span> <span class="token constant">U</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

   <span class="token keyword">public</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>arg1<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3 id="函数泛型取对象的值"><a href="#%E5%87%BD%E6%95%B0%E6%B3%9B%E5%9E%8B%E5%8F%96%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%80%BC" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>函数泛型取对象的值</h3>
<div
              class="gatsby-code-button-container"
              data-toaster-id="22250751161220570000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`// 函数泛型取对象的值，第一种形式
function pickSingleValue<T>(obj: T, key: keyof T): T[keyof T] {
   return obj[key];
}

// 针对第一种形式的缺点：keyof 出现了两次，泛型 T 应该被限制为对象类型
function pickSingleValue<T extends object, U extends keyof T>(obj: T, key: U): T[U] {
   return obj[key];
}

// 换一个功能：取出一系列值
function pick<T extends object, U extends keyof T>(obj: T, keys: U[]): T[U][] {
   return keys.map((key) => obj[key]);
}

// const fooObj = { a: 1, b: &quot;1&quot; };
// pick(fooObj, ['a', 'b']) // (string | number)[]`, `22250751161220570000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// 函数泛型取对象的值，第一种形式</span>
<span class="token keyword">function</span> pickSingleValue<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>obj<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> key<span class="token punctuation">:</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 针对第一种形式的缺点：keyof 出现了两次，泛型 T 应该被限制为对象类型</span>
<span class="token keyword">function</span> pickSingleValue<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">object</span><span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>obj<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> key<span class="token punctuation">:</span> <span class="token constant">U</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">U</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 换一个功能：取出一系列值</span>
<span class="token keyword">function</span> pick<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">object</span><span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>obj<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> keys<span class="token punctuation">:</span> <span class="token constant">U</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">U</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> keys<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=></span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// const fooObj = { a: 1, b: "1" };</span>
<span class="token comment">// pick(fooObj, ['a', 'b']) // (string | number)[]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="索引类型"><a href="#%E7%B4%A2%E5%BC%95%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>索引类型</h2>
<div
              class="gatsby-code-button-container"
              data-toaster-id="40555295482477310000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface Foo {
   [keys: string]: string;
}

// 由于 JS 可以同时通过数字与字符串访问对象属性，因此 keyof Foo 的结果会是 string | number
const o: Foo = {
   1: '芜湖！'
};

o[1] === o['1'];`, `40555295482477310000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span>keys<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 由于 JS 可以同时通过数字与字符串访问对象属性，因此 keyof Foo 的结果会是 string | number</span>
<span class="token keyword">const</span> o<span class="token punctuation">:</span> Foo <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">'芜湖！'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

o<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">===</span> o<span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="映射类型-1"><a href="#%E6%98%A0%E5%B0%84%E7%B1%BB%E5%9E%8B-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>映射类型</h2>
<div
              class="gatsby-code-button-container"
              data-toaster-id="89994209281578240000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface A {
   a: boolean;
   b: string;
   c: number;
   d: () => void;
}

type StringifyA<T> = {
   [K in keyof T]: string;
};

type Clone<T> = {
   [K in keyof T]: T[K];
};`, `89994209281578240000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
   a<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
   b<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   c<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   <span class="token function-variable function">d</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> StringifyA<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> Clone<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="条件类型"><a href="#%E6%9D%A1%E4%BB%B6%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>条件类型</h2>
<h3 id="写法-1"><a href="#%E5%86%99%E6%B3%95-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>写法</h3>
<div
              class="gatsby-code-button-container"
              data-toaster-id="49534440199949840000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`// 在这种情况下，条件类型的推导就会被延迟
declare function strOrnum<T extends boolean>(x: T): T extends true ? string : number;

type TypeName<T> = T extends string
   ? 'string'
   : T extends number
   ? 'number'
   : T extends boolean
   ? 'boolean'
   : T extends undefined
   ? 'undefined'
   : T extends Function
   ? 'function'
   : 'object';`, `49534440199949840000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// 在这种情况下，条件类型的推导就会被延迟</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> strOrnum<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">boolean</span><span class="token operator">></span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">true</span> <span class="token operator">?</span> <span class="token builtin">string</span> <span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> TypeName<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span>
   <span class="token operator">?</span> <span class="token string">'string'</span>
   <span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">number</span>
   <span class="token operator">?</span> <span class="token string">'number'</span>
   <span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">boolean</span>
   <span class="token operator">?</span> <span class="token string">'boolean'</span>
   <span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">undefined</span>
   <span class="token operator">?</span> <span class="token string">'undefined'</span>
   <span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Function</span>
   <span class="token operator">?</span> <span class="token string">'function'</span>
   <span class="token punctuation">:</span> <span class="token string">'object'</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3 id="分布式条件类型"><a href="#%E5%88%86%E5%B8%83%E5%BC%8F%E6%9D%A1%E4%BB%B6%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>分布式条件类型</h3>
<div
              class="gatsby-code-button-container"
              data-toaster-id="6723791172345561000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`// 对于属于裸类型参数的检查类型，条件类型会在实例化时自动分发到联合类型上
// 使用上面的TypeName类型别名
type T1 = TypeName<string | (() => void)>; // &quot;string&quot; | &quot;function&quot;

type T2 = TypeName<string | string[]>; // &quot;string&quot; | &quot;object&quot;

type T3 = TypeName<string[] | number[]>; // &quot;object&quot;

type Naked<T> = T extends boolean ? 'Y' : 'N';
type Wrapped<T> = [T] extends [boolean] ? 'Y' : 'N';

/*
 * 先分发到 Naked<number> | Naked<boolean>
 * 然后到 &quot;N&quot; | &quot;Y&quot;
 */
type Distributed = Naked<number | boolean>;

/*
 * 不会分发，因为这里不是裸类型参数，直接是 [number | boolean] extends [boolean]
 * 然后是 &quot;N&quot;
 */
type NotDistributed = Wrapped<number | boolean>;`, `6723791172345561000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// 对于属于裸类型参数的检查类型，条件类型会在实例化时自动分发到联合类型上</span>
<span class="token comment">// 使用上面的TypeName类型别名</span>
<span class="token keyword">type</span> <span class="token constant">T1</span> <span class="token operator">=</span> TypeName<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// "string" | "function"</span>

<span class="token keyword">type</span> <span class="token constant">T2</span> <span class="token operator">=</span> TypeName<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// "string" | "object"</span>

<span class="token keyword">type</span> <span class="token constant">T3</span> <span class="token operator">=</span> TypeName<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// "object"</span>

<span class="token keyword">type</span> Naked<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">boolean</span> <span class="token operator">?</span> <span class="token string">'Y'</span> <span class="token punctuation">:</span> <span class="token string">'N'</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> Wrapped<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token builtin">boolean</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token string">'Y'</span> <span class="token punctuation">:</span> <span class="token string">'N'</span><span class="token punctuation">;</span>

<span class="token comment">/*
 * 先分发到 Naked&lt;number> | Naked&lt;boolean>
 * 然后到 "N" | "Y"
 */</span>
<span class="token keyword">type</span> Distributed <span class="token operator">=</span> Naked<span class="token operator">&lt;</span><span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">boolean</span><span class="token operator">></span><span class="token punctuation">;</span>

<span class="token comment">/*
 * 不会分发，因为这里不是裸类型参数，直接是 [number | boolean] extends [boolean]
 * 然后是 "N"
 */</span>
<span class="token keyword">type</span> NotDistributed <span class="token operator">=</span> Wrapped<span class="token operator">&lt;</span><span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">boolean</span><span class="token operator">></span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>没有被额外包装的联合类型参数，在条件类型进行判定时会将联合类型分发，分别进行判断。</p>
<h2 id="infer-1"><a href="#infer-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>infer</h2>
<div
              class="gatsby-code-button-container"
              data-toaster-id="22018365698888507000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const foo = (): string => {
   return 'linbudu';
};

// string
type FooReturnType = ReturnType<typeof foo>;

type ReturnType<T extends (...args: any) => any> = T extends (...args: any) => infer R ? R : any;

type Parameters<T extends (...args: any) => any> = T extends (...args: infer P) => any ? P : never;`, `22018365698888507000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token parameter"><span class="token builtin">string</span></span> <span class="token operator">=></span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token string">'linbudu'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// string</span>
<span class="token keyword">type</span> FooReturnType <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> foo<span class="token operator">></span><span class="token punctuation">;</span>

<span class="token keyword">type</span> ReturnType<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">any</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> infer <span class="token constant">R</span> <span class="token operator">?</span> <span class="token constant">R</span> <span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> Parameters<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">any</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token punctuation">:</span> infer <span class="token constant">P</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">any</span> <span class="token operator">?</span> <span class="token constant">P</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>类型系统在获得足够的信息后，就能将 infer 后跟随的类型参数推导出来</p>
<h2 id="类型守卫"><a href="#%E7%B1%BB%E5%9E%8B%E5%AE%88%E5%8D%AB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>类型守卫</h2>
<h3 id="写法-2"><a href="#%E5%86%99%E6%B3%95-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>写法</h3>
<div
              class="gatsby-code-button-container"
              data-toaster-id="36798159419956120000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`// numOrStrProp: number | string;
export const isString = (arg: unknown): boolean => typeof arg === 'string';

function useIt(numOrStr: number | string) {
   if (isString(numOrStr)) {
      console.log(numOrStr.length); // 这里类型推断依然为 number | string，并没有起到缩小类型范围的作用
   }
}

// 改进，使用 is 关键字，起作用了
export const isString = (arg: unknown): arg is string => typeof arg === 'string';

// 例子
export type Falsy = false | '' | 0 | null | undefined;

export const isFalsy = (val: unknown): val is Falsy => !val;`, `36798159419956120000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// numOrStrProp: number | string;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> isString <span class="token operator">=</span> <span class="token punctuation">(</span>arg<span class="token punctuation">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token parameter"><span class="token builtin">boolean</span></span> <span class="token operator">=></span> <span class="token keyword">typeof</span> arg <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">useIt</span><span class="token punctuation">(</span><span class="token parameter">numOrStr<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isString</span><span class="token punctuation">(</span>numOrStr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numOrStr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这里类型推断依然为 number | string，并没有起到缩小类型范围的作用</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 改进，使用 is 关键字，起作用了</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> isString <span class="token operator">=</span> <span class="token punctuation">(</span>arg<span class="token punctuation">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token punctuation">:</span> arg <span class="token keyword">is</span> <span class="token parameter"><span class="token builtin">string</span></span> <span class="token operator">=></span> <span class="token keyword">typeof</span> arg <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">;</span>

<span class="token comment">// 例子</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> Falsy <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token operator">|</span> <span class="token string">''</span> <span class="token operator">|</span> <span class="token number">0</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> isFalsy <span class="token operator">=</span> <span class="token punctuation">(</span>val<span class="token punctuation">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token punctuation">:</span> val <span class="token keyword">is</span> <span class="token parameter">Falsy</span> <span class="token operator">=></span> <span class="token operator">!</span>val<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3 id="如何将-a--b-联合类型缩小到-a"><a href="#%E5%A6%82%E4%BD%95%E5%B0%86-a--b-%E8%81%94%E5%90%88%E7%B1%BB%E5%9E%8B%E7%BC%A9%E5%B0%8F%E5%88%B0-a" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>如何将 A | B 联合类型缩小到 A</h3>
<div
              class="gatsby-code-button-container"
              data-toaster-id="41461225908866030000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`class A {
   public a() {}

   public useA() {
      return 'A';
   }
}

class B {
   public b() {}

   public useB() {
      return 'B';
   }
}

function useIt(arg: A | B): void {
   if ('a' in arg) {
      arg.useA();
   } else {
      arg.useB();
   }
}`, `41461225908866030000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

   <span class="token keyword">public</span> <span class="token function">useA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">'A'</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

   <span class="token keyword">public</span> <span class="token function">useB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">'B'</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">useIt</span><span class="token punctuation">(</span><span class="token parameter">arg<span class="token punctuation">:</span> <span class="token constant">A</span> <span class="token operator">|</span> <span class="token constant">B</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'a'</span> <span class="token keyword">in</span> arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      arg<span class="token punctuation">.</span><span class="token function">useA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      arg<span class="token punctuation">.</span><span class="token function">useB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3 id="字面量类型作为类型守卫"><a href="#%E5%AD%97%E9%9D%A2%E9%87%8F%E7%B1%BB%E5%9E%8B%E4%BD%9C%E4%B8%BA%E7%B1%BB%E5%9E%8B%E5%AE%88%E5%8D%AB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>字面量类型作为类型守卫</h3>
<div
              class="gatsby-code-button-container"
              data-toaster-id="51059109268718770000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`interface IBoy {
   name: 'mike';
   gf: string;
}

interface IGirl {
   name: 'sofia';
   bf: string;
}

function getLover(child: IBoy | IGirl): string {
   if (child.name === 'mike') {
      return child.gf;
   } else {
      return child.bf;
   }
}

// 不同状态下的接口，这里不好判断
interface IUserProps {
   isLogin: boolean;
   name: string; // 用户名称仅在登录时有
   from: string; // 用户来源（一般用于埋点），仅在未登录时有
}

// 分割接口
interface IUnLogin {
   isLogin: false;
   from: string; // 用户来源（一般用于埋点），仅在未登录时有
}

interface ILogined {
   isLogin: true;
   name: string; // 用户名称仅在登录时有
}

function getUserInfo(user: IUnLogin | ILogined): string {
   return user.isLogin === true ? user.name : user.from;
}`, `51059109268718770000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">IBoy</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token string">'mike'</span><span class="token punctuation">;</span>
   gf<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">IGirl</span> <span class="token punctuation">{</span>
   name<span class="token punctuation">:</span> <span class="token string">'sofia'</span><span class="token punctuation">;</span>
   bf<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getLover</span><span class="token punctuation">(</span><span class="token parameter">child<span class="token punctuation">:</span> IBoy <span class="token operator">|</span> IGirl</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>child<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'mike'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> child<span class="token punctuation">.</span>gf<span class="token punctuation">;</span>
   <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> child<span class="token punctuation">.</span>bf<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 不同状态下的接口，这里不好判断</span>
<span class="token keyword">interface</span> <span class="token class-name">IUserProps</span> <span class="token punctuation">{</span>
   isLogin<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 用户名称仅在登录时有</span>
   <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 用户来源（一般用于埋点），仅在未登录时有</span>
<span class="token punctuation">}</span>

<span class="token comment">// 分割接口</span>
<span class="token keyword">interface</span> <span class="token class-name">IUnLogin</span> <span class="token punctuation">{</span>
   isLogin<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
   <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 用户来源（一般用于埋点），仅在未登录时有</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">ILogined</span> <span class="token punctuation">{</span>
   isLogin<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
   name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 用户名称仅在登录时有</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token parameter">user<span class="token punctuation">:</span> IUnLogin <span class="token operator">|</span> ILogined</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> user<span class="token punctuation">.</span>isLogin <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token operator">?</span> user<span class="token punctuation">.</span>name <span class="token punctuation">:</span> user<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="工具类型"><a href="#%E5%B7%A5%E5%85%B7%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>工具类型</h2>
<p>以上重复的工具类型不再说明，以下只说明自定义的工具类型，大部分工具类型都来自于 <a href="https://github.com/piotrwitek/utility-types" target="_blank" rel="nofollow noreferrer noopener">utility-types</a> 三方库</p>
<h3 id="提取-promise-的类型"><a href="#%E6%8F%90%E5%8F%96-promise-%E7%9A%84%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>提取 Promise 的类型</h3>
<div
              class="gatsby-code-button-container"
              data-toaster-id="31165492191517143000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const foo = (): Promise<string> => {
   return new Promise((resolve, reject) => {
      resolve('linbudu');
   });
};

type FooReturnType = ReturnType<typeof foo>; // Promise<string>

// 使用 infer R 来等待类型系统推导出 R 的具体类型。
type PromiseType<T extends Promise<any>> = T extends Promise<infer R> ? R : never;

type NakedFooReturnType = PromiseType<FooReturnType>; // string`, `31165492191517143000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span> <span class="token operator">=></span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'linbudu'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> FooReturnType <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> foo<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// Promise&lt;string></span>

<span class="token comment">// 使用 infer R 来等待类型系统推导出 R 的具体类型。</span>
<span class="token keyword">type</span> PromiseType<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">>></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span>infer <span class="token constant">R</span><span class="token operator">></span> <span class="token operator">?</span> <span class="token constant">R</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> NakedFooReturnType <span class="token operator">=</span> PromiseType<span class="token operator">&lt;</span>FooReturnType<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// string</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3 id="递归的工具类型"><a href="#%E9%80%92%E5%BD%92%E7%9A%84%E5%B7%A5%E5%85%B7%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>递归的工具类型</h3>
<div
              class="gatsby-code-button-container"
              data-toaster-id="71983697503653100000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type DeepPartial<T> = {
   [P in keyof T]?: T[P] extends object ? DeepPartial<T[P]> : T[P];
};`, `71983697503653100000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> DeepPartial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">object</span> <span class="token operator">?</span> DeepPartial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<h3 id="返回键名的工具类型"><a href="#%E8%BF%94%E5%9B%9E%E9%94%AE%E5%90%8D%E7%9A%84%E5%B7%A5%E5%85%B7%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>返回键名的工具类型</h3>
<p>利用 <code class="language-text">{ [K in keyof T]: ... }[keyof T]</code> 形式返回键名</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="65857079702176915000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type FunctTypeKeys<T extends object> = {
   [K in keyof T]-?: T[K] extends Function ? K : never;
}[keyof T];

interface IWithFuncKeys {
   a: string;
   b: number;
   c: boolean;
   d: () => void;
}

type WTFIsThis<T extends object> = {
   [K in keyof T]-?: T[K] extends Function ? K : never;
};

type FunctTypeKeys<T extends object> = {
   [K in keyof T]-?: T[K] extends Function ? K : never;
}[keyof T];

type UseIt1 = WTFIsThis<IWithFuncKeys>;
// {
//     a: never;
//     b: never;
//     c: never;
//     d: &quot;d&quot;;
// }

type UseIt2 = FunctTypeKeys<IWithFuncKeys>; // d`, `65857079702176915000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> FunctTypeKeys<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">object</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">Function</span> <span class="token operator">?</span> <span class="token constant">K</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">IWithFuncKeys</span> <span class="token punctuation">{</span>
   a<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   b<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   c<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
   <span class="token function-variable function">d</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> WTFIsThis<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">object</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">Function</span> <span class="token operator">?</span> <span class="token constant">K</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> FunctTypeKeys<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">object</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">Function</span> <span class="token operator">?</span> <span class="token constant">K</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> UseIt1 <span class="token operator">=</span> WTFIsThis<span class="token operator">&lt;</span>IWithFuncKeys<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token comment">// {</span>
<span class="token comment">//     a: never;</span>
<span class="token comment">//     b: never;</span>
<span class="token comment">//     c: never;</span>
<span class="token comment">//     d: "d";</span>
<span class="token comment">// }</span>

<span class="token keyword">type</span> UseIt2 <span class="token operator">=</span> FunctTypeKeys<span class="token operator">&lt;</span>IWithFuncKeys<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// d</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h4 id="可选字段"><a href="#%E5%8F%AF%E9%80%89%E5%AD%97%E6%AE%B5" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>可选字段</h4>
<div
              class="gatsby-code-button-container"
              data-toaster-id="63958842294832595000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type WTFAMI1 = {} extends { prop: number } ? 'Y' : 'N';
type WTFAMI2 = {} extends { prop?: number } ? 'Y' : 'N';`, `63958842294832595000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> <span class="token constant">WTFAMI1</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> prop<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token operator">?</span> <span class="token string">'Y'</span> <span class="token punctuation">:</span> <span class="token string">'N'</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token constant">WTFAMI2</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> prop<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token operator">?</span> <span class="token string">'Y'</span> <span class="token punctuation">:</span> <span class="token string">'N'</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>这里的 <code class="language-text">{} extends K</code>，只有 K 是可选的情况下才成立，使用如下</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="16260473466215619000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`export type RequiredKeys<T> = {
   [K in keyof T]-?: {} extends Pick<T, K> ? never : K;
}[keyof T];

export type OptionalKeys<T> = {
   [K in keyof T]-?: {} extends Pick<T, K> ? K : never;
}[keyof T];`, `16260473466215619000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">export</span> <span class="token keyword">type</span> RequiredKeys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">extends</span> <span class="token class-name">Pick</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">></span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token punctuation">:</span> <span class="token constant">K</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> OptionalKeys<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">extends</span> <span class="token class-name">Pick</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">></span> <span class="token operator">?</span> <span class="token constant">K</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h4 id="可变、不可变"><a href="#%E5%8F%AF%E5%8F%98%E3%80%81%E4%B8%8D%E5%8F%AF%E5%8F%98" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>可变、不可变</h4>
<div
              class="gatsby-code-button-container"
              data-toaster-id="21879002278708450000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`/**
 * @desc 一个辅助类型，判断 X 和 Y 是否类型相同，
 * @returns 是则返回 A，否则返回 B
 */
type Equal<X, Y, A = X, B = never> = (<T>() => T extends X ? 1 : 2) extends <T>() => T extends Y ? 1 : 2 ? A : B;

export type MutableKeys<T extends object> = {
   [P in keyof T]-?: Equal<{ [Q in P]: T[P] }, { -readonly [Q in P]: T[P] }, P, never>;
}[keyof T];

export type IMmutableKeys<T extends object> = {
   [P in keyof T]-?: Equals<{ [Q in P]: T[P] }, { -readonly [Q in P]: T[P] }, never, P>;
}[keyof T];

interface IWithFuncKeys {
   a: string;
   b?: number;
   readonly c: boolean[];
   d?: () => void;
}

type b = MutableKeys<IWithFuncKeys>; // &quot;a&quot; | &quot;b&quot; | &quot;d&quot;
type a = IMmutableKeys<IWithFuncKeys>; // &quot;c&quot;`, `21879002278708450000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">/**
 * @desc 一个辅助类型，判断 X 和 Y 是否类型相同，
 * @returns 是则返回 A，否则返回 B
 */</span>
<span class="token keyword">type</span> Equal<span class="token operator">&lt;</span><span class="token constant">X</span><span class="token punctuation">,</span> <span class="token constant">Y</span><span class="token punctuation">,</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token constant">X</span><span class="token punctuation">,</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token builtin">never</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">X</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">extends</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Y</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">2</span> <span class="token operator">?</span> <span class="token constant">A</span> <span class="token punctuation">:</span> <span class="token constant">B</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> MutableKeys<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">object</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token punctuation">:</span> Equal<span class="token operator">&lt;</span><span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">Q</span> <span class="token keyword">in</span> <span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token operator">-</span><span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">Q</span> <span class="token keyword">in</span> <span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token constant">P</span><span class="token punctuation">,</span> <span class="token builtin">never</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> IMmutableKeys<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">object</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token punctuation">:</span> Equals<span class="token operator">&lt;</span><span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">Q</span> <span class="token keyword">in</span> <span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token operator">-</span><span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">Q</span> <span class="token keyword">in</span> <span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token builtin">never</span><span class="token punctuation">,</span> <span class="token constant">P</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">IWithFuncKeys</span> <span class="token punctuation">{</span>
   a<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
   b<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   <span class="token keyword">readonly</span> c<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   d<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> b <span class="token operator">=</span> MutableKeys<span class="token operator">&lt;</span>IWithFuncKeys<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// "a" | "b" | "d"</span>
<span class="token keyword">type</span> a <span class="token operator">=</span> IMmutableKeys<span class="token operator">&lt;</span>IWithFuncKeys<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// "c"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="基于值类型的-pick-与-omit"><a href="#%E5%9F%BA%E4%BA%8E%E5%80%BC%E7%B1%BB%E5%9E%8B%E7%9A%84-pick-%E4%B8%8E-omit" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>基于值类型的 Pick 与 Omit</h2>
<div
              class="gatsby-code-button-container"
              data-toaster-id="25894668501996420000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`export type PickByValueType<T, ValueType> = Pick<
   T,
   { [Key in keyof T]-?: T[Key] extends ValueType ? Key : never }[keyof T]
>;

export type OmitByValueType<T, ValueType> = Pick<
   T,
   { [Key in keyof T]-?: T[Key] extends ValueType ? never : Key }[keyof T]
>;`, `25894668501996420000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">export</span> <span class="token keyword">type</span> PickByValueType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> ValueType<span class="token operator">></span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span>
   <span class="token constant">T</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span> <span class="token punctuation">[</span>Key <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span>Key<span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">ValueType</span> <span class="token operator">?</span> Key <span class="token punctuation">:</span> <span class="token builtin">never</span> <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span>
<span class="token operator">></span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> OmitByValueType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> ValueType<span class="token operator">></span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span>
   <span class="token constant">T</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span> <span class="token punctuation">[</span>Key <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span>Key<span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">ValueType</span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token punctuation">:</span> Key <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span>
<span class="token operator">></span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h1 id="实战"><a href="#%E5%AE%9E%E6%88%98" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实战</h1>
<h2 id="参数简化"><a href="#%E5%8F%82%E6%95%B0%E7%AE%80%E5%8C%96" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>参数简化</h2>
<p>通过一个简单的功能把</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="96985363043931050000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`distribute({
   type: 'LOGIN',
   email: string
});`, `96985363043931050000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token function">distribute</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'LOGIN'</span><span class="token punctuation">,</span>
   email<span class="token punctuation">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>
<p>这样的函数调用方式给简化为：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="10609120515382452000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`distribute('LOGIN', {
   email: string
});`, `10609120515382452000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token function">distribute</span><span class="token punctuation">(</span><span class="token string">'LOGIN'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
   email<span class="token punctuation">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<h3 id="分布条件类型的真实用例"><a href="#%E5%88%86%E5%B8%83%E6%9D%A1%E4%BB%B6%E7%B1%BB%E5%9E%8B%E7%9A%84%E7%9C%9F%E5%AE%9E%E7%94%A8%E4%BE%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>分布条件类型的真实用例</h3>
<p>举一个类似 redux 中的 dispatch 的例子。</p>
<p>首先，我们有一个联合类型 Action，用来表示所有可以被 dispatch 接受的参数类型：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="7590828029620189000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Action =
   | {
        type: 'INIT';
     }
   | {
        type: 'SYNC';
     }
   | {
        type: 'LOG_IN';
        emailAddress: string;
     }
   | {
        type: 'LOG_IN_SUCCESS';
        accessToken: string;
     };`, `7590828029620189000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Action <span class="token operator">=</span>
   <span class="token operator">|</span> <span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'INIT'</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token operator">|</span> <span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'SYNC'</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token operator">|</span> <span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'LOG_IN'</span><span class="token punctuation">;</span>
        emailAddress<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token operator">|</span> <span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'LOG_IN_SUCCESS'</span><span class="token punctuation">;</span>
        accessToken<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>然后我们定义这个 dispatch 方法：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="78475321047166140000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`declare function dispatch(action: Action): void;

// ok
dispatch({
   type: 'INIT'
});

// ok
dispatch({
   type: 'LOG_IN',
   emailAddress: 'david.sheldrick@artsy.net'
});

// ok
dispatch({
   type: 'LOG_IN_SUCCESS',
   accessToken: '038fh239h923908h'
});`, `78475321047166140000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token parameter">action<span class="token punctuation">:</span> Action</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token comment">// ok</span>
<span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'INIT'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ok</span>
<span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'LOG_IN'</span><span class="token punctuation">,</span>
   emailAddress<span class="token punctuation">:</span> <span class="token string">'david.sheldrick@artsy.net'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ok</span>
<span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'LOG_IN_SUCCESS'</span><span class="token punctuation">,</span>
   accessToken<span class="token punctuation">:</span> <span class="token string">'038fh239h923908h'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>这个 API 是类型安全的，当 TS 识别到 type 为 LOG_IN 的时候，它会要求你在参数中传入 emailAddress 这个参数，这样才能完全满足联合类型中的其中一项。</p>
<p>等等，我们好像可以让这个 api 变得更简单一点：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="35431727956653502000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`dispatch('LOG_IN_SUCCESS', {
   accessToken: '038fh239h923908h'
});`, `35431727956653502000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'LOG_IN_SUCCESS'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
   accessToken<span class="token punctuation">:</span> <span class="token string">'038fh239h923908h'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<h3 id="参数简化实现"><a href="#%E5%8F%82%E6%95%B0%E7%AE%80%E5%8C%96%E5%AE%9E%E7%8E%B0" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>参数简化实现</h3>
<p>首先，利用方括号选择出 Action 中的所有 type，这个技巧很有用。</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="48110286574876900000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type ActionType = Action['type'];
// => &quot;INIT&quot; | &quot;SYNC&quot; | &quot;LOG_IN&quot; | &quot;LOG_IN_SUCCESS&quot;`, `48110286574876900000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> ActionType <span class="token operator">=</span> Action<span class="token punctuation">[</span><span class="token string">'type'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// => "INIT" | "SYNC" | "LOG_IN" | "LOG_IN_SUCCESS"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>但是第二个参数的类型取决于第一个参数，我们可以使用类型变量来对该依赖关系建模。</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="42290993831969040000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`declare function dispatch<T extends ActionType>(type: T, args: ExtractActionParameters<Action, T>): void;`, `42290993831969040000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">function</span> dispatch<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">ActionType</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> ExtractActionParameters<span class="token operator">&lt;</span>Action<span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>注意，这里就用到了 extends 语法，规定了我们的入参 type 必须是 ActionType 中一部分。</p>
<p>注意这里的第二个参数 args 用 <code class="language-text">ExtractActionParameters&lt;Action, T&gt;</code> 这个类型来把 type 和 args 做了关联</p>
<p>来看看 ExtractActionParameters 是如何实现的：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="62359016256828735000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type ExtractActionParameters<A, T> = A extends { type: T } ? A : never;`, `62359016256828735000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> ExtractActionParameters<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token punctuation">}</span> <span class="token operator">?</span> <span class="token constant">A</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>在这次实战中，我们第一次运用到了条件类型，<code class="language-text">ExtractActionParameters&lt;Action, T&gt;</code> 会按照我们上文提到的分布条件类型，把 Action 中的 4 项依次去和 <code class="language-text">{ type: T }</code> 进行比对，找出符合的那一项。</p>
<p>来看看如何使用它：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="56699804800962970000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Test = ExtractActionParameters<Action, 'LOG_IN'>;
// => { type: &quot;LOG_IN&quot;, emailAddress: string }`, `56699804800962970000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Test <span class="token operator">=</span> ExtractActionParameters<span class="token operator">&lt;</span>Action<span class="token punctuation">,</span> <span class="token string">'LOG_IN'</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token comment">// => { type: "LOG_IN", emailAddress: string }</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>这样就筛选出了 type 匹配的一项。</p>
<p>接下来我们要把 type 去掉，第一个参数已经是 type 了，因此我们不想再额外声明 type 了。</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="17632064295159933000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`// 把类型中key为&quot;type&quot;去掉
type ExcludeTypeField<A> = { [K in Exclude<keyof A, 'type'>]: A[K] };`, `17632064295159933000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// 把类型中key为"type"去掉</span>
<span class="token keyword">type</span> ExcludeTypeField<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> Exclude<span class="token operator">&lt;</span><span class="token keyword">keyof</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token string">'type'</span><span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">A</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>这里利用了 keyof 语法，并且利用内置类型 Exclude 把 type 这个 key 去掉，因此只会留下额外的参数。</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="19490844413942776000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Test = ExcludeTypeField<{ type: 'LOG_IN'; emailAddress: string }>;
// { emailAddress: string }`, `19490844413942776000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Test <span class="token operator">=</span> ExcludeTypeField<span class="token operator">&lt;</span><span class="token punctuation">{</span> <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'LOG_IN'</span><span class="token punctuation">;</span> emailAddress<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token comment">// { emailAddress: string }</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>然后用它来剔除参数中的 type</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="6735921596105898000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`// 把参数对象中的type去掉
type ExtractActionParametersWithoutType<A, T> = ExcludeTypeField<ExtractActionParameters<A, T>>;`, `6735921596105898000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// 把参数对象中的type去掉</span>
<span class="token keyword">type</span> ExtractActionParametersWithoutType<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> ExcludeTypeField<span class="token operator">&lt;</span>ExtractActionParameters<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<div
              class="gatsby-code-button-container"
              data-toaster-id="36369031575334797000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`declare function dispatch<T extends ActionType>(type: T, args: ExtractActionParametersWithoutType<Action, T>): void;`, `36369031575334797000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">function</span> dispatch<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">ActionType</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> ExtractActionParametersWithoutType<span class="token operator">&lt;</span>Action<span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>到此为止，我们就可以实现上文中提到的参数简化功能：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="30953716672852804000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`// ok
dispatch({
   type: 'LOG_IN',
   emailAddress: 'david.sheldrick@artsy.net'
});`, `30953716672852804000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// ok</span>
<span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'LOG_IN'</span><span class="token punctuation">,</span>
   emailAddress<span class="token punctuation">:</span> <span class="token string">'david.sheldrick@artsy.net'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3 id="利用重载进一步优化"><a href="#%E5%88%A9%E7%94%A8%E9%87%8D%E8%BD%BD%E8%BF%9B%E4%B8%80%E6%AD%A5%E4%BC%98%E5%8C%96" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>利用重载进一步优化</h3>
<p>到了这一步为止，虽然带参数的 Action 可以完美支持了，但是对于 “INIT” 这种不需要传参的 Action，我们依然要写下面这样代码：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="81034062700418800000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`dispatch('INIT', {});`, `81034062700418800000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'INIT'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>这肯定是不能接受的！所以我们要利用 TypeScript 的函数重载功能。</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="20343270087490617000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`// 简单参数类型
function dispatch<T extends SimpleActionType>(type: T): void;

// 复杂参数类型
function dispatch<T extends ComplexActionType>(type: T, args: ExtractActionParametersWithoutType<Action, T>): void;

// 实现
function dispatch(arg: any, payload?: any) {}`, `20343270087490617000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// 简单参数类型</span>
<span class="token keyword">function</span> dispatch<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">SimpleActionType</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token comment">// 复杂参数类型</span>
<span class="token keyword">function</span> dispatch<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">ComplexActionType</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> ExtractActionParametersWithoutType<span class="token operator">&lt;</span>Action<span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token comment">// 实现</span>
<span class="token keyword">function</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token parameter">arg<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> payload<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>那么关键点就在于 SimpleActionType 和 ComplexActionType 要如何实现了</p>
<p>SimpleActionType 顾名思义就是除了 type 以外不需要额外参数的 Action 类型</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="53402988138223080000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type SimpleAction = ExtractSimpleAction<Action>;`, `53402988138223080000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> SimpleAction <span class="token operator">=</span> ExtractSimpleAction<span class="token operator">&lt;</span>Action<span class="token operator">></span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>我们如何定义这个 ExtractSimpleAction 条件类型？如果我们从这个 Action 中删除 type 字段，并且结果是一个空的接口，那么这就是一个 SimpleAction，所以我们可能会凭直觉写出这样的代码：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="42044506467621990000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type ExtractSimpleAction<A> = ExcludeTypeField<A> extends {} ? A : never;`, `42044506467621990000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> ExtractSimpleAction<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span> <span class="token operator">=</span> ExcludeTypeField<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span> <span class="token keyword">extends</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">?</span> <span class="token constant">A</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>但这样是行不通的，几乎所有的类型都可以 <code class="language-text">extends {}</code>，因为 <code class="language-text">{}</code> 太宽泛了。</p>
<p>我们应该反过来写：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="31196413578351833000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type ExtractSimpleAction<A> = {} extends ExcludeTypeField<A> ? A : never;`, `31196413578351833000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> ExtractSimpleAction<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">extends</span> <span class="token class-name">ExcludeTypeField</span><span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span> <span class="token operator">?</span> <span class="token constant">A</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>现在如果 <code class="language-text">ExcludeTypeField &lt;A&gt;</code> 为空，则 extends 表达式为 true，否则为 false。</p>
<p>但这仍然行不通！因为分布条件类型仅在 extends 关键字的前面是类型变量时发生。</p>
<p>分布条件类型仅发生在如下场景：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="99387864962892450000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Blah<Var> = Var extends Whatever ? A : B;`, `99387864962892450000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Blah<span class="token operator">&lt;</span>Var<span class="token operator">></span> <span class="token operator">=</span> Var <span class="token keyword">extends</span> <span class="token class-name">Whatever</span> <span class="token operator">?</span> <span class="token constant">A</span> <span class="token punctuation">:</span> <span class="token constant">B</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>而不是：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="62985206486875420000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Blah<Var> = Foo<Var> extends Whatever ? A : B;
type Blah<Var> = Whatever extends Var ? A : B;`, `62985206486875420000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Blah<span class="token operator">&lt;</span>Var<span class="token operator">></span> <span class="token operator">=</span> Foo<span class="token operator">&lt;</span>Var<span class="token operator">></span> <span class="token keyword">extends</span> <span class="token class-name">Whatever</span> <span class="token operator">?</span> <span class="token constant">A</span> <span class="token punctuation">:</span> <span class="token constant">B</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> Blah<span class="token operator">&lt;</span>Var<span class="token operator">></span> <span class="token operator">=</span> Whatever <span class="token keyword">extends</span> <span class="token class-name">Var</span> <span class="token operator">?</span> <span class="token constant">A</span> <span class="token punctuation">:</span> <span class="token constant">B</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>但是我们可以通过一些小技巧绕过这个限制：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="75954224081492200000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type ExtractSimpleAction<A> = A extends any ? ({} extends ExcludeTypeField<A> ? A : never) : never;`, `75954224081492200000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> ExtractSimpleAction<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token keyword">extends</span> <span class="token class-name">any</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">extends</span> <span class="token class-name">ExcludeTypeField</span><span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span> <span class="token operator">?</span> <span class="token constant">A</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p><code class="language-text">A extends any</code> 是一定成立的，这只是用来绕过 ts 对于分布条件类型的限制，没错啊，我们的 A 确实是在 extends 的前面了，就是骗你 TS，这里是分布条件类型。</p>
<p>而我们真正想要做的条件判断被放在了中间，因此 Action 联合类型中的每一项又能够分布的去匹配了。</p>
<p>那么我们就可以简单的筛选出所有不需要额外参数的 type</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="41351756179316950000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type SimpleAction = ExtractSimpleAction<Action>;
type SimpleActionType = SimpleAction['type'];`, `41351756179316950000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> SimpleAction <span class="token operator">=</span> ExtractSimpleAction<span class="token operator">&lt;</span>Action<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token keyword">type</span> SimpleActionType <span class="token operator">=</span> SimpleAction<span class="token punctuation">[</span><span class="token string">'type'</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>再利用 Exclude 取反，找到复杂类型：</p>
<p>type ComplexActionType = Exclude&#x3C;ActionType, SimpleActionType></p>
<p>到此为止，我们所需要的功能就完美实现了：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="12163706855486400000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`// 简单参数类型
function dispatch<T extends SimpleActionType>(type: T): void;
// 复杂参数类型
function dispatch<T extends ComplexActionType>(type: T, args: ExtractActionParameters<Action, T>): void;
// 实现
function dispatch(arg: any, payload?: any) {}

// ok
dispatch('SYNC');

// ok
dispatch({
   type: 'LOG_IN',
   emailAddress: 'david.sheldrick@artsy.net'
});`, `12163706855486400000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token comment">// 简单参数类型</span>
<span class="token keyword">function</span> dispatch<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">SimpleActionType</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token comment">// 复杂参数类型</span>
<span class="token keyword">function</span> dispatch<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">ComplexActionType</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> ExtractActionParameters<span class="token operator">&lt;</span>Action<span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token comment">// 实现</span>
<span class="token keyword">function</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token parameter">arg<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> payload<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// ok</span>
<span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'SYNC'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ok</span>
<span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'LOG_IN'</span><span class="token punctuation">,</span>
   emailAddress<span class="token punctuation">:</span> <span class="token string">'david.sheldrick@artsy.net'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3 id="完整代码"><a href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>完整代码</h3>
<div
              class="gatsby-code-button-container"
              data-toaster-id="26302631738626770000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Action =
   | {
        type: 'INIT';
     }
   | {
        type: 'SYNC';
     }
   | {
        type: 'LOG_IN';
        emailAddress: string;
     }
   | {
        type: 'LOG_IN_SUCCESS';
        accessToken: string;
     };

// 用类型查询查出 Action 中所有 type 的联合类型
type ActionType = Action['type'];

// 把类型中 key 为 type 去掉
type ExcludeTypeField<A> = { [K in Exclude<keyof A, 'type'>]: A[K] };

type ExtractActionParameters<A, T> = A extends { type: T } ? A : never;

// 把参数对象中的 type 去掉
// Extract<A, { type: T } 会挑选出能 extend { type: T } 这个结构的 Action 中的类型
type ExtractActionParametersWithoutType<A, T> = ExcludeTypeField<ExtractActionParameters<A, T>>;

type ExtractSimpleAction<A> = A extends any ? ({} extends ExcludeTypeField<A> ? A : never) : never;

type SimpleActionType = ExtractSimpleAction<Action>['type'];
type ComplexActionType = Exclude<ActionType, SimpleActionType>;

// 简单参数类型
function dispatch<T extends SimpleActionType>(type: T): void;
// 复杂参数类型
function dispatch<T extends ComplexActionType>(type: T, args: ExtractActionParametersWithoutType<Action, T>): void;
// 实现
function dispatch(arg: any, payload?: any) {}

dispatch('SYNC');

dispatch('LOG_IN', {
   emailAddress: 'ssh@qq.com'
});`, `26302631738626770000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Action <span class="token operator">=</span>
   <span class="token operator">|</span> <span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'INIT'</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token operator">|</span> <span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'SYNC'</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token operator">|</span> <span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'LOG_IN'</span><span class="token punctuation">;</span>
        emailAddress<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token operator">|</span> <span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token string">'LOG_IN_SUCCESS'</span><span class="token punctuation">;</span>
        accessToken<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 用类型查询查出 Action 中所有 type 的联合类型</span>
<span class="token keyword">type</span> ActionType <span class="token operator">=</span> Action<span class="token punctuation">[</span><span class="token string">'type'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 把类型中 key 为 type 去掉</span>
<span class="token keyword">type</span> ExcludeTypeField<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> Exclude<span class="token operator">&lt;</span><span class="token keyword">keyof</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token string">'type'</span><span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">A</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> ExtractActionParameters<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token punctuation">}</span> <span class="token operator">?</span> <span class="token constant">A</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>

<span class="token comment">// 把参数对象中的 type 去掉</span>
<span class="token comment">// Extract&lt;A, { type: T } 会挑选出能 extend { type: T } 这个结构的 Action 中的类型</span>
<span class="token keyword">type</span> ExtractActionParametersWithoutType<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> ExcludeTypeField<span class="token operator">&lt;</span>ExtractActionParameters<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">>></span><span class="token punctuation">;</span>

<span class="token keyword">type</span> ExtractSimpleAction<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token keyword">extends</span> <span class="token class-name">any</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">extends</span> <span class="token class-name">ExcludeTypeField</span><span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span> <span class="token operator">?</span> <span class="token constant">A</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> SimpleActionType <span class="token operator">=</span> ExtractSimpleAction<span class="token operator">&lt;</span>Action<span class="token operator">></span><span class="token punctuation">[</span><span class="token string">'type'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> ComplexActionType <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span>ActionType<span class="token punctuation">,</span> SimpleActionType<span class="token operator">></span><span class="token punctuation">;</span>

<span class="token comment">// 简单参数类型</span>
<span class="token keyword">function</span> dispatch<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">SimpleActionType</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token comment">// 复杂参数类型</span>
<span class="token keyword">function</span> dispatch<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">ComplexActionType</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> ExtractActionParametersWithoutType<span class="token operator">&lt;</span>Action<span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token comment">// 实现</span>
<span class="token keyword">function</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token parameter">arg<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> payload<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'SYNC'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'LOG_IN'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
   emailAddress<span class="token punctuation">:</span> <span class="token string">'ssh@qq.com'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="ref-类型从零实现"><a href="#ref-%E7%B1%BB%E5%9E%8B%E4%BB%8E%E9%9B%B6%E5%AE%9E%E7%8E%B0" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ref 类型从零实现</h2>
<div
              class="gatsby-code-button-container"
              data-toaster-id="85681913015370200000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`const count = ref(ref(ref(ref(2))));`, `85681913015370200000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token function">ref</span><span class="token punctuation">(</span><span class="token function">ref</span><span class="token punctuation">(</span><span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>需要支持嵌套后解包，最后只会剩下 { value: number } 这个类型。</p>
<h3 id="泛型的反向推导"><a href="#%E6%B3%9B%E5%9E%8B%E7%9A%84%E5%8F%8D%E5%90%91%E6%8E%A8%E5%AF%BC" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>泛型的反向推导</h3>
<p>泛型的正向用法很多人都知道了。</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="37818703638874940000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Value<T> = T;

type NumberValue = Value<number>;`, `37818703638874940000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Value<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> NumberValue <span class="token operator">=</span> Value<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>这样，NumberValue 解析出的类型就是 number，其实就类似于类型系统里的传参。</p>
<p>那么反向推导呢？</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="85192172669965630000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`function create<T>(val: T): T;

let num: number;

const c = create(num);`, `85192172669965630000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> create<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>val<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> num<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token function">create</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>这里泛型没有传入，居然也能推断出 value 的类型是 number。</p>
<p>因为 <code class="language-text">create&lt;T&gt;</code> 这里的泛型 T 被分配给了传入的参数 <code class="language-text">value: T</code>，然后又用这个 T 直接作为返回的类型，</p>
<p>简单来说，这里的三个 T 被关联起来了，并且在传入 create(2) 的那一刻，这个 T 被统一推断成了 number。</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="9895248625091013000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`function create<2>(value: 2): 2`, `9895248625091013000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">function</span> create<span class="token operator">&lt;</span><span class="token number">2</span><span class="token operator">></span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token number">2</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<h3 id="索引签名"><a href="#%E7%B4%A2%E5%BC%95%E7%AD%BE%E5%90%8D" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>索引签名</h3>
<p>假设我们有一个这样的类型：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="6056406475469100000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Test = {
   foo: number;
   bar: string;
};

type N = Test['foo']; // number`, `6056406475469100000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Test <span class="token operator">=</span> <span class="token punctuation">{</span>
   foo<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   bar<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token constant">N</span> <span class="token operator">=</span> Test<span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// number</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>可以通过类似 JavaScript 中的对象属性查找的语法来找出对应的类型。</p>
<h3 id="条件类型-1"><a href="#%E6%9D%A1%E4%BB%B6%E7%B1%BB%E5%9E%8B-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>条件类型</h3>
<p>假设我们有一个这样的类型：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="85316647458087730000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type IsNumber<T> = T extends number ? 'yes' : 'no';

type A = IsNumber<2>; // yes
type B = isNumber<'3'>; // no`, `85316647458087730000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> IsNumber<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">number</span> <span class="token operator">?</span> <span class="token string">'yes'</span> <span class="token punctuation">:</span> <span class="token string">'no'</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token constant">A</span> <span class="token operator">=</span> IsNumber<span class="token operator">&lt;</span><span class="token number">2</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// yes</span>
<span class="token keyword">type</span> <span class="token constant">B</span> <span class="token operator">=</span> isNumber<span class="token operator">&lt;</span><span class="token string">'3'</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// no</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>
<p>这就是一个典型的条件类型，用 extends 关键字配合三元运算符来判断传入的泛型是否可分配给 extends 后面的类型。</p>
<p>同时也支持多层的三元运算符（后面会用到）：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="74557435091141430000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type TypeName<T> = T extends string ? 'string' : T extends boolean ? 'boolean' : 'object';

type T0 = TypeName<string>; // &quot;string&quot;
type T1 = TypeName<'a'>; // &quot;string&quot;
type T2 = TypeName<true>; // &quot;boolean&quot;`, `74557435091141430000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> TypeName<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span> <span class="token operator">?</span> <span class="token string">'string'</span> <span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">boolean</span> <span class="token operator">?</span> <span class="token string">'boolean'</span> <span class="token punctuation">:</span> <span class="token string">'object'</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token constant">T0</span> <span class="token operator">=</span> TypeName<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// "string"</span>
<span class="token keyword">type</span> <span class="token constant">T1</span> <span class="token operator">=</span> TypeName<span class="token operator">&lt;</span><span class="token string">'a'</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// "string"</span>
<span class="token keyword">type</span> <span class="token constant">T2</span> <span class="token operator">=</span> TypeName<span class="token operator">&lt;</span><span class="token boolean">true</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// "boolean"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h3 id="keyof"><a href="#keyof" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>keyof</h3>
<p>keyof 操作符是 TS 中用来获取对象的 key 值集合的，比如：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="37139505480763170000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Obj = {
   foo: number;
   bar: string;
};

type Keys = keyof Obj; // &quot;foo&quot; | &quot;bar&quot;`, `37139505480763170000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Obj <span class="token operator">=</span> <span class="token punctuation">{</span>
   foo<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   bar<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> Keys <span class="token operator">=</span> <span class="token keyword">keyof</span> Obj<span class="token punctuation">;</span> <span class="token comment">// "foo" | "bar"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>这样就轻松获取到了对象 key 值的联合类型：“foo” | “bar”。</p>
<p>它也可以用在遍历中：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="89948460134729120000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Obj = {
   foo: number;
   bar: string;
};

type Copy = {
   [K in keyof Obj]: Obj[K];
};

// Copy 得到和 Obj 一模一样的类型`, `89948460134729120000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Obj <span class="token operator">=</span> <span class="token punctuation">{</span>
   foo<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
   bar<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> Copy <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> Obj<span class="token punctuation">]</span><span class="token punctuation">:</span> Obj<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Copy 得到和 Obj 一模一样的类型</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>可以看出，遍历的过程中右侧也可以通过索引直接访问到原类型 Obj 中对应 key 的类型。</p>
<h3 id="infer-2"><a href="#infer-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>infer</h3>
<p>这是一个比较难的点，文档中对它的描述是条件类型中的类型推断。</p>
<p>它的出现使得 ReturnType、 Parameters 等一众工具类型的支持都成为可能，是 TypeScript 进阶必须掌握的一个知识点了。</p>
<p>注意前置条件，它一定是出现在条件类型中的。</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="51601576683452960000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Get<T> = T extends infer R ? R : never;`, `51601576683452960000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Get<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">infer</span> <span class="token constant">R</span> <span class="token operator">?</span> <span class="token constant">R</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>注意，infer R 的位置代表了一个未知的类型，可以理解为在条件类型中给了它一个占位符，然后就可以在后面的三元运算符中使用它。</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="83217595026006490000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type T = Get<number>;

// 经过计算
type Get<number> = number extends infer number ? number : never;

// 得到
number;`, `83217595026006490000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> <span class="token constant">T</span> <span class="token operator">=</span> Get<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span><span class="token punctuation">;</span>

<span class="token comment">// 经过计算</span>
<span class="token keyword">type</span> Get<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token builtin">number</span> <span class="token keyword">extends</span> <span class="token class-name">infer</span> <span class="token builtin">number</span> <span class="token operator">?</span> <span class="token builtin">number</span> <span class="token punctuation">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>

<span class="token comment">// 得到</span>
<span class="token builtin">number</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>它的使用非常灵活，它也可以出现在泛型位置：</p>
<div
              class="gatsby-code-button-container"
              data-toaster-id="2561839967885637600"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type Unpack<T> = T extends Array<infer R> ? R : T;`, `2561839967885637600`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> Unpack<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span>infer <span class="token constant">R</span><span class="token operator">></span> <span class="token operator">?</span> <span class="token constant">R</span> <span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<div
              class="gatsby-code-button-container"
              data-toaster-id="33808301623978300000"
              data-toaster-class="gatsby-code-button-toaster"
              data-toaster-text-class="gatsby-code-button-toaster-text"
              data-toaster-text="复制成功"
              data-toaster-duration="3500"
              onClick="copyToClipboard(`type NumArr = Array<number>
type U = Unpack<NumArr>

// 经过计算
type Unpack<Array<number>> = Array<number> extends Array<infer R> ? R : T

// 得到
number`, `33808301623978300000`)"
            >
              <div
                class="gatsby-code-button"
                title="ts"
              >
                <span class="gatsby-code-button-language">ts</span>
                <span class="gatsby-code-button-text-icon">复制代码</span>
              </div>
            </div>
<div class="gatsby-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">type</span> NumArr <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span>
<span class="token keyword">type</span> <span class="token constant">U</span> <span class="token operator">=</span> Unpack<span class="token operator">&lt;</span>NumArr<span class="token operator">></span>

<span class="token comment">// 经过计算</span>
<span class="token keyword">type</span> Unpack<span class="token operator">&lt;</span><span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">>></span> <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span> <span class="token keyword">extends</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span>infer <span class="token constant">R</span><span class="token operator">></span> <span class="token operator">?</span> <span class="token constant">R</span> <span class="token punctuation">:</span> <span class="token constant">T</span>

<span class="token comment">// 得到</span>
<span class="token builtin">number</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>仔细看看，是不是有那么点感觉了，它就是对于 extends 后面未知的某些类型进行一个占位 infer R，后续就可以使用推断出来的 R 这个类型。</p></section><div class="separator" data-reactid="76"></div><footer class="post-footer" data-reactid="77"><section class="share text-center" data-reactid="78"><ul class="share-buttons list-inline" data-reactid="79"><li data-reactid="80"><b data-reactid="81">分享到</b></li><li class="link-twitter" data-reactid="82"><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--twitter share-twitter" data-reactid="83"><span data-reactid="84">Twitter</span></div></li><li class="link-facebook" data-reactid="85"><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--facebook share-facebook" data-reactid="86"><span data-reactid="87">Facebook</span></div></li><li class="link-google-plus" data-reactid="88"><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--googlePlus share-google-plus" data-reactid="89"><span data-reactid="90">Google+</span></div></li><li class="link-reddit" title="TypeScript 入门学习" data-reactid="91"><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--reddit share-reddit" data-reactid="92"><span data-reactid="93">Reddit</span></div></li></ul></section></footer><section class="blog-section" data-reactid="94"><div data-reactid="95"><header class="header" data-reactid="96"><h2 data-reactid="97">评论</h2></header><div id="gitalk-container" data-reactid="98"></div></div></section><section class="blog-section" data-reactid="99"><header class="header" data-reactid="100"><h2 data-reactid="101">阅读上一篇</h2></header><div data-reactid="102"><a class="navigate-link" href="/tweb-learn-note-2021/" data-reactid="103">2021TWeb学习笔记</a><div data-reactid="104">2021-10-25 10:34:12</div><p class="navigate-desc" data-reactid="105">以下是本次参加 Tweb conf 2021 的学习笔记 目录 主会场 Flutter 音视频开发实践 腾讯文档渲染优化之路 远程办公下开发测试协同如何提效 如何创造一门上万人使用的语言 分会场（看过） Node.js &amp; 大前端 Kubernetes 应用的 BFF…</p></div></section><section class="blog-section" data-reactid="106"><header class="header" data-reactid="107"><h2 data-reactid="108">阅读下一篇</h2></header><div data-reactid="109"><a class="navigate-link" href="/frontend-devlopment-environment-setting/" data-reactid="110">前端开发环境配置</a><div data-reactid="111">2021-09-30 13:51:29</div><p class="navigate-desc" data-reactid="112">wsl wsl1 或 2 或类 linux 环境 配置步骤： https://docs.microsoft.com/zh-cn/windows/wsl/setup/environment  和  https://docs.microsoft.com/zh-cn/windows…</p></div></section></article></div><div class="headings" style="width:350px;left:-420px;" data-reactid="113"><div style="position:relative;user-select:auto;width:350px;height:auto;min-width:200px;box-sizing:border-box;flex-shrink:0;" class="index-resizable" data-reactid="114"><div class="index-container" data-reactid="115"><div class="index-title" data-reactid="116">目录</div><div class="index-list catalog" data-reactid="117"><ul>
<li><a href="/typescript-introduce-learn/#%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86">背景知识</a></li>
<li>
<p><a href="/typescript-introduce-learn/#react-%E4%B8%AD%E7%9A%84%E7%94%A8%E6%B3%95">React 中的用法</a></p>
<ul>
<li>
<p><a href="/typescript-introduce-learn/#%E7%BB%84%E4%BB%B6%E5%A3%B0%E6%98%8E">组件声明</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#%E7%B1%BB%E7%BB%84%E4%BB%B6">类组件</a></li>
<li><a href="/typescript-introduce-learn/#%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6">函数组件</a></li>
</ul>
</li>
<li>
<p><a href="/typescript-introduce-learn/#react-%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B">React 内置类型</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#jsxelement">JSX.Element</a></li>
<li><a href="/typescript-introduce-learn/#reactreactelement">React.ReactElement</a></li>
<li><a href="/typescript-introduce-learn/#reactreactnode">React.ReactNode</a></li>
<li><a href="/typescript-introduce-learn/#cssproperties">CSSProperties</a></li>
</ul>
</li>
<li>
<p><a href="/typescript-introduce-learn/#react-hooks">React Hooks</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#usestate">useState</a></li>
<li><a href="/typescript-introduce-learn/#useeffect">useEffect</a></li>
<li><a href="/typescript-introduce-learn/#useref">useRef</a></li>
<li><a href="/typescript-introduce-learn/#usecallback">useCallback</a></li>
<li><a href="/typescript-introduce-learn/#usememo">useMemo</a></li>
<li><a href="/typescript-introduce-learn/#usecontext">useContext</a></li>
<li><a href="/typescript-introduce-learn/#usereducer">useReducer</a></li>
</ul>
</li>
<li>
<p><a href="/typescript-introduce-learn/#%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86">事件处理</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#event-%E4%BA%8B%E4%BB%B6%E7%B1%BB%E5%9E%8B">Event 事件类型</a></li>
<li><a href="/typescript-introduce-learn/#%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B">事件处理函数类型</a></li>
</ul>
</li>
<li>
<p><a href="/typescript-introduce-learn/#html-%E6%A0%87%E7%AD%BE%E7%B1%BB%E5%9E%8B">HTML 标签类型</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#%E5%B8%B8%E8%A7%81%E6%A0%87%E7%AD%BE%E7%B1%BB%E5%9E%8B">常见标签类型</a></li>
<li><a href="/typescript-introduce-learn/#%E6%A0%87%E7%AD%BE%E5%B1%9E%E6%80%A7%E7%B1%BB%E5%9E%8B">标签属性类型</a></li>
</ul>
</li>
<li>
<p><a href="/typescript-introduce-learn/#%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6">高阶组件</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#%E7%B1%BB%E7%BB%84%E4%BB%B6-1">类组件</a></li>
<li><a href="/typescript-introduce-learn/#%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6-1">函数组件</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="/typescript-introduce-learn/#%E5%B7%A5%E5%85%B7%E6%B3%9B%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0">工具泛型的实现</a></p>
<ul>
<li>
<p><a href="/typescript-introduce-learn/#partial">Partial</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86">前置知识</a></li>
<li><a href="/typescript-introduce-learn/#%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90">源码解析</a></li>
<li><a href="/typescript-introduce-learn/#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF">使用场景</a></li>
</ul>
</li>
<li><a href="/typescript-introduce-learn/#required">Required</a></li>
<li><a href="/typescript-introduce-learn/#mutable-%E6%9C%AA%E5%8C%85%E5%90%AB">Mutable (未包含)</a></li>
<li><a href="/typescript-introduce-learn/#readonly">Readonly</a></li>
<li>
<p><a href="/typescript-introduce-learn/#record">Record</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86-1">前置知识</a></li>
<li><a href="/typescript-introduce-learn/#%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90-1">源码解析</a></li>
<li><a href="/typescript-introduce-learn/#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF-1">使用场景</a></li>
</ul>
</li>
<li><a href="/typescript-introduce-learn/#pick">Pick</a></li>
<li>
<p><a href="/typescript-introduce-learn/#exclude">Exclude</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86-2">前置知识</a></li>
<li><a href="/typescript-introduce-learn/#%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90-2">源码解析</a></li>
<li><a href="/typescript-introduce-learn/#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF-2">使用场景</a></li>
</ul>
</li>
<li><a href="/typescript-introduce-learn/#extract">Extract</a></li>
<li><a href="/typescript-introduce-learn/#omit">Omit</a></li>
<li><a href="/typescript-introduce-learn/#returntype">ReturnType</a></li>
<li><a href="/typescript-introduce-learn/#axiosreturntype-%E6%9C%AA%E5%8C%85%E5%90%AB">AxiosReturnType (未包含)</a></li>
</ul>
</li>
<li>
<p><a href="/typescript-introduce-learn/#%E5%B7%A7%E7%94%A8-typescript">巧用 TypeScript</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD">函数重载</a></li>
<li><a href="/typescript-introduce-learn/#%E6%98%A0%E5%B0%84%E7%B1%BB%E5%9E%8B">映射类型</a></li>
<li><a href="/typescript-introduce-learn/#%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80">类型断言</a></li>
<li><a href="/typescript-introduce-learn/#%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B">枚举类型</a></li>
<li><a href="/typescript-introduce-learn/#decorator">Decorator</a></li>
<li>
<p><a href="/typescript-introduce-learn/#reflect-metadata">Reflect Metadata</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#%E8%8E%B7%E5%8F%96%E7%B1%BB%E5%9E%8B%E4%BF%A1%E6%81%AF">获取类型信息</a></li>
<li><a href="/typescript-introduce-learn/#%E8%87%AA%E5%AE%9A%E4%B9%89-metadatakey">自定义 metadataKey</a></li>
<li>
<p><a href="/typescript-introduce-learn/#%E7%94%A8%E4%BE%8B">用例</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%E5%92%8C%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5">控制反转和依赖注入</a></li>
<li><a href="/typescript-introduce-learn/#controller-%E4%B8%8E-get-%E7%9A%84%E5%AE%9E%E7%8E%B0">Controller 与 Get 的实现</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="/typescript-introduce-learn/#%E6%95%B0%E7%BB%84%E4%B8%8E%E5%85%83%E7%BB%84">数组与元组</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#%E4%BD%BF%E7%94%A8">使用</a></li>
</ul>
</li>
<li>
<p><a href="/typescript-introduce-learn/#%E5%AD%97%E9%9D%A2%E9%87%8F%E7%B1%BB%E5%9E%8B">字面量类型</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#%E5%AF%B9%E8%B1%A1%E5%AD%97%E9%9D%A2%E9%87%8F%E7%B1%BB%E5%9E%8B">对象字面量类型</a></li>
</ul>
</li>
<li><a href="/typescript-introduce-learn/#%E7%94%A8-decorator-%E9%99%90%E5%88%B6%E7%B1%BB%E5%9E%8B">用 Decorator 限制类型</a></li>
<li>
<p><a href="/typescript-introduce-learn/#%E6%B3%9B%E5%9E%8B%E7%9A%84%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%96%AD">泛型的类型推断</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#vue-type-%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0">Vue Type 简单实现</a></li>
<li><a href="/typescript-introduce-learn/#%E6%89%81%E5%B9%B3%E6%95%B0%E7%BB%84%E6%9E%84%E5%BB%BA%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84">扁平数组构建树形结构</a></li>
</ul>
</li>
<li>
<p><a href="/typescript-introduce-learn/#infer">infer</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B">内置类型</a></li>
<li><a href="/typescript-introduce-learn/#%E4%B8%80%E4%BA%9B%E7%94%A8%E4%BE%8B">一些用例</a></li>
<li><a href="/typescript-introduce-learn/#leetcode-%E7%9A%84%E4%B8%80%E9%81%93-typescript-%E9%9D%A2%E8%AF%95%E9%A2%98">LeetCode 的一道 TypeScript 面试题</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="/typescript-introduce-learn/#%E7%B1%BB%E5%9E%8B%E7%BC%96%E7%A8%8B">类型编程</a></p>
<ul>
<li>
<p><a href="/typescript-introduce-learn/#%E6%B3%9B%E5%9E%8B">泛型</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#%E5%86%99%E6%B3%95">写法</a></li>
<li><a href="/typescript-introduce-learn/#%E5%87%BD%E6%95%B0%E6%B3%9B%E5%9E%8B%E5%8F%96%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%80%BC">函数泛型取对象的值</a></li>
</ul>
</li>
<li><a href="/typescript-introduce-learn/#%E7%B4%A2%E5%BC%95%E7%B1%BB%E5%9E%8B">索引类型</a></li>
<li><a href="/typescript-introduce-learn/#%E6%98%A0%E5%B0%84%E7%B1%BB%E5%9E%8B-1">映射类型</a></li>
<li>
<p><a href="/typescript-introduce-learn/#%E6%9D%A1%E4%BB%B6%E7%B1%BB%E5%9E%8B">条件类型</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#%E5%86%99%E6%B3%95-1">写法</a></li>
<li><a href="/typescript-introduce-learn/#%E5%88%86%E5%B8%83%E5%BC%8F%E6%9D%A1%E4%BB%B6%E7%B1%BB%E5%9E%8B">分布式条件类型</a></li>
</ul>
</li>
<li><a href="/typescript-introduce-learn/#infer-1">infer</a></li>
<li>
<p><a href="/typescript-introduce-learn/#%E7%B1%BB%E5%9E%8B%E5%AE%88%E5%8D%AB">类型守卫</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#%E5%86%99%E6%B3%95-2">写法</a></li>
<li><a href="/typescript-introduce-learn/#%E5%A6%82%E4%BD%95%E5%B0%86-a--b-%E8%81%94%E5%90%88%E7%B1%BB%E5%9E%8B%E7%BC%A9%E5%B0%8F%E5%88%B0-a">如何将 A | B 联合类型缩小到 A</a></li>
<li><a href="/typescript-introduce-learn/#%E5%AD%97%E9%9D%A2%E9%87%8F%E7%B1%BB%E5%9E%8B%E4%BD%9C%E4%B8%BA%E7%B1%BB%E5%9E%8B%E5%AE%88%E5%8D%AB">字面量类型作为类型守卫</a></li>
</ul>
</li>
<li>
<p><a href="/typescript-introduce-learn/#%E5%B7%A5%E5%85%B7%E7%B1%BB%E5%9E%8B">工具类型</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#%E6%8F%90%E5%8F%96-promise-%E7%9A%84%E7%B1%BB%E5%9E%8B">提取 Promise 的类型</a></li>
<li><a href="/typescript-introduce-learn/#%E9%80%92%E5%BD%92%E7%9A%84%E5%B7%A5%E5%85%B7%E7%B1%BB%E5%9E%8B">递归的工具类型</a></li>
<li>
<p><a href="/typescript-introduce-learn/#%E8%BF%94%E5%9B%9E%E9%94%AE%E5%90%8D%E7%9A%84%E5%B7%A5%E5%85%B7%E7%B1%BB%E5%9E%8B">返回键名的工具类型</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#%E5%8F%AF%E9%80%89%E5%AD%97%E6%AE%B5">可选字段</a></li>
<li><a href="/typescript-introduce-learn/#%E5%8F%AF%E5%8F%98%E3%80%81%E4%B8%8D%E5%8F%AF%E5%8F%98">可变、不可变</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/typescript-introduce-learn/#%E5%9F%BA%E4%BA%8E%E5%80%BC%E7%B1%BB%E5%9E%8B%E7%9A%84-pick-%E4%B8%8E-omit">基于值类型的 Pick 与 Omit</a></li>
</ul>
</li>
<li>
<p><a href="/typescript-introduce-learn/#%E5%AE%9E%E6%88%98">实战</a></p>
<ul>
<li>
<p><a href="/typescript-introduce-learn/#%E5%8F%82%E6%95%B0%E7%AE%80%E5%8C%96">参数简化</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#%E5%88%86%E5%B8%83%E6%9D%A1%E4%BB%B6%E7%B1%BB%E5%9E%8B%E7%9A%84%E7%9C%9F%E5%AE%9E%E7%94%A8%E4%BE%8B">分布条件类型的真实用例</a></li>
<li><a href="/typescript-introduce-learn/#%E5%8F%82%E6%95%B0%E7%AE%80%E5%8C%96%E5%AE%9E%E7%8E%B0">参数简化实现</a></li>
<li><a href="/typescript-introduce-learn/#%E5%88%A9%E7%94%A8%E9%87%8D%E8%BD%BD%E8%BF%9B%E4%B8%80%E6%AD%A5%E4%BC%98%E5%8C%96">利用重载进一步优化</a></li>
<li><a href="/typescript-introduce-learn/#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81">完整代码</a></li>
</ul>
</li>
<li>
<p><a href="/typescript-introduce-learn/#ref-%E7%B1%BB%E5%9E%8B%E4%BB%8E%E9%9B%B6%E5%AE%9E%E7%8E%B0">Ref 类型从零实现</a></p>
<ul>
<li><a href="/typescript-introduce-learn/#%E6%B3%9B%E5%9E%8B%E7%9A%84%E5%8F%8D%E5%90%91%E6%8E%A8%E5%AF%BC">泛型的反向推导</a></li>
<li><a href="/typescript-introduce-learn/#%E7%B4%A2%E5%BC%95%E7%AD%BE%E5%90%8D">索引签名</a></li>
<li><a href="/typescript-introduce-learn/#%E6%9D%A1%E4%BB%B6%E7%B1%BB%E5%9E%8B-1">条件类型</a></li>
<li><a href="/typescript-introduce-learn/#keyof">keyof</a></li>
<li><a href="/typescript-introduce-learn/#infer-2">infer</a></li>
</ul>
</li>
</ul>
</li>
</ul></div></div><div data-reactid="118"><div class="" style="position:absolute;user-select:none;width:10px;height:100%;top:0px;right:-5px;cursor:col-resize;" data-reactid="119"></div></div></div></div><div class="collapse-icon" style="left:-100px;" data-reactid="120"><i class="icon icon-text-document" style="font-size:24px;" data-reactid="121"></i></div></main></div></section><div data-reactid="122"><footer class="footer-social" data-reactid="123"><ul class="social" data-reactid="124"><li data-reactid="125"><a href="tencent://AddContact/?fromId=45&amp;fromSubId=1&amp;subcmd=all&amp;uin=634407147&amp;website=www.oicqzone.com" title="qq" data-reactid="126"><i class="icon-qq" data-reactid="127"></i></a></li><li data-reactid="128"><a rel="noopener noreferrer" target="_blank" href="https://github.com/towavephone" title="github" data-reactid="129"><i class="icon-github" data-reactid="130"></i></a></li><li data-reactid="131"><a title="订阅我" href="/rss.xml" data-reactid="132"><i class="icon-rss" data-reactid="133"></i></a></li><li data-reactid="134"><a href="mailto:634407147@qq.com" title="634407147@qq.com" data-reactid="135"><i class="icon-mail" data-reactid="136"></i></a></li></ul><div class="text-center" data-reactid="137"><!-- react-text: 138 -->Copyright <!-- /react-text --><!-- react-text: 139 -->2023<!-- /react-text --><!-- react-text: 140 --> <!-- /react-text --><a title="女王控" href="/" data-reactid="141">女王控</a><span class="separator" data-reactid="142"> • </span><!-- react-text: 143 --> Design by<!-- /react-text --><!-- react-text: 144 --> <!-- /react-text --><a rel="noopener noreferrer" href="http://www.attheo.do" target="_blank" data-reactid="145">Thanos Theodoridis</a></div></footer></div><div class="totop" data-reactid="146"><i class="icon icon-arrow-up" data-reactid="147"></i><span class="progress" data-reactid="148"><!-- react-text: 149 -->0<!-- /react-text --><!-- react-text: 150 -->%<!-- /react-text --></span><div class="bg" style="height:0%;" data-reactid="151"></div></div></div></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-a412a9ebcef14201b60b.js","99219681209289":"component---node-modules-gatsby-plugin-offline-app-shell-js-5c4c5a0f7af9dc69d6d7.js","107818501498521":"component---src-templates-blog-post-js-bce65c0f16598ce7aa0f.js","50739212244294":"component---src-templates-tags-js-745fac34d9c2957ee313.js","96961042003272":"component---src-templates-page-js-c40b3d2163111b22d595.js","162898551421021":"component---src-pages-404-js-7c37afdedb298cb7570b.js","263791100135453":"component---src-pages-about-js-de0b4869988a9d741904.js","31982145417011":"component---src-pages-drafts-js-1ecc8c74a23c5d2e0e84.js","35783957827783":"component---src-pages-index-js-6632a773a41e7f263e4c.js","142807904292071":"component---src-pages-search-js-5b8b00ade083ae195c3d.js","195850678278728":"component---src-pages-tags-js-cc05870a8fb0bb34f2c9.js","60335399758886":"path----9abe2c42e691328dc88a.js","210333531512890":"path---offline-plugin-app-shell-fallback-a0e39f21c11f6a62c5ab.js","203701660088936":"path---three-js-practice-test-4f92dd79cc4bd5b01825.js","58501103903283":"path---rust-practice-test-a882a66dc7a757569d03.js","220638443428490":"path---amap-big-data-component-optimize-2c5d29917303d6f1a0ac.js","115630285747165":"path---jenkins-build-speed-optimize-69a37df4e1d39c680224.js","35149704389276":"path---cra-project-build-speed-optimize-b340b79bb855ff44932d.js","33933880092638":"path---international-official-website-technical-difficulties-c214a1adcd6d3426b857.js","101603541536935":"path---international-official-website-core-principle-f5588477952c87b6acb3.js","100295463625627":"path---writing-high-quality-python-f77ce694ae005e26e20b.js","76574778026768":"path---python-source-analysis-f8abf99ab53331c5f1c1.js","8691794453951":"path---webgl-zero-based-practice-learn-c4fdb984dab95bbd4b44.js","270901801838301":"path---css-new-world-new-layout-dc712dd502af2c0fee18.js","173005110456428":"path---system-design-practice-learn-cd8cc3f1afd1e52ac25c.js","84949172120994":"path---webgl-fundamental-2-d-fd0cddaa7862fe044f5c.js","197770699541308":"path---webgl-fundamental-textures-88697e81b85bc135034a.js","121583081141730":"path---docker-introduce-learning-6ba840ecd88c60f24b35.js","109536088697124":"path---webgl-fundamental-geometry-375bb9e0fce56158fe77.js","155941694681355":"path---webgl-fundamental-light-d375468b9a955c73c7ad.js","106017059495270":"path---ui-introduce-learning-7e8b27771542262d851e.js","134185067054659":"path---the-non-designer-design-book-2ae73e3520a7c93fef4d.js","160330966344531":"path---webgl-fundamental-3-d-4c14369b6b46b9da8786.js","52941934887167":"path---webgl-fundamental-image-processing-4a84e039743819ff5e66.js","109910142829508":"path---webgl-fundamental-base-concept-bd105e5573a7c377b130.js","108493626109210":"path---python-syntax-overview-da091581729aa3602791.js","120679808259540":"path---python-introduce-learn-16b84b9f97ed0be1003a.js","268972146717778":"path---css-new-world-stronger-visual-performance-1e12dd24341e922f8e03.js","16123551887984":"path---css-new-world-detailed-style-performance-f8bf222e824c00b2a311.js","123663295086535":"path---css-new-world-enhance-existing-css-a4313c1d5882dcebdd6a.js","84843808736774":"path---css-new-world-overview-prepare-94b5e92a679cc28ae465.js","216105761065771":"path---css-world-text-processing-c30ae58fbc2c04b21dfd.js","15038106623975":"path---typescript-practice-test-1b947eda9d6bbeb2e5f9.js","10065538840359":"path---gatsby-plugin-transformation-7b526075bc877b54e1bb.js","235531206161896":"path---gantt-component-optimization-a49d740feb8317ecd2d1.js","160759804588480":"path---code-generation-scaffolding-2d1f90f8f676bee94c46.js","214811264439255":"path---tweb-learn-note-2021-42f0f9f598074ac4aa54.js","111401565204875":"path---typescript-introduce-learn-2154976b77a081470069.js","59422190929833":"path---frontend-devlopment-environment-setting-15a8197969941e3ed597.js","21321503612902":"path---javascript-essence-practice-grammar-bdea6e9be9a490e2991f.js","218274286557873":"path---man-moon-myth-notes-d2a7418bd7620b6e84bf.js","229814768368224":"path---webgl-practice-learn-f654e1d28559f53f5b9e.js","18459593172276":"path---webpack-deep-learn-0e68c5af1cbf17ae017f.js","3419734078442":"path---deep-learn-webpack-source-code-579de0a10ffdd01d2ca4.js","114603082758875":"path---deep-learn-babel-ff16037c450d13550a35.js","57508960429333":"path---frontend-module-summary-8f5a4206265b077384c0.js","197263514781190":"path---browser-render-composite-layers-3588b48cb5bd456e1ed4.js","25861666795928":"path---performance-optimization-rail-137317c6968df5812ef5.js","6420428177151":"path---front-end-performance-optimization-2021-cfc350cbd701f9817a26.js","29664229663391":"path---browser-working-principle-e202d8c5f41dbdfb1f08.js","165731217802763":"path---deep-learn-browser-cache-c3339807e45e7a08f366.js","66692416344048":"path---browser-working-principle-network-852e25c1a7bfe18f46c9.js","73602225439089":"path---browser-working-principle-page-f481142c1db07c4edbf7.js","492532704081":"path---browser-working-principle-cycle-system-5357d754f9cc96e3c71a.js","251976105315209":"path---browser-working-principle-v-8-01415dfe96c1c23b99da.js","206917093457610":"path---browser-working-principle-macro-view-7b878c2f02e05c7efd5a.js","126633788188374":"path---browser-cross-page-message-5679afb33fe1901df078.js","210694630403324":"path---deep-learn-generators-a4ae2a246655e514fbe4.js","78440977445721":"path---js-event-loop-6a80b65a454b5835d2f4.js","233970388780779":"path---v-8-garbage-collection-a256b8c874cbb6fd4cc0.js","23843792806586":"path---qiankun-code-note-b27fc04998feb015b657.js","241269254124122":"path---arcgis-map-component-build-deploy-9fb6a7a61bf101c9d4a4.js","249319820248966":"path---nodejs-interview-introduce-learn-d4f2cff045ef40ddebb3.js","154644243914344":"path---react-technology-notes-realization-f44ffb7ca09905b07008.js","219666366619082":"path---react-technology-notes-framework-0eecac47db6f9dbc7301.js","173308893671871":"path---react-technology-notes-idea-b6a6b36a2e1ff71d4cf3.js","209575525104292":"path---clean-code-js-5fa2e784cf12e5cd5664.js","6709471654091":"path---plug-interceptor-middleware-01fa59d8fbdd44a4dca8.js","132595871305077":"path---async-exception-throw-evolution-8a875a886d76be77977f.js","144742700921027":"path---async-await-simplest-implementation-fb194de95162cb8b83ba.js","138127542190632":"path---sequelize-one-to-many-find-solution-44b870f69026adb1f891.js","198510910721196":"path---nodemon-monitor-link-changes-589bf5d5dab3576e2980.js","27415825092918":"path---promise-implementation-principle-d8227b949c3cc0f52c70.js","264874119113479":"path---vim-shortcut-key-practice-learn-7741ab79149a01f62095.js","227875603435760":"path---webpack-principle-introduction-ccd1bc1eb8a9503d1a72.js","173935164423494":"path---javascript-es-6-note-51a93ee1b590012bc0d4.js","117732534929967":"path---module-federation-principle-research-8e31a47f23766dd58d2d.js","213245857996204":"path---new-window-technology-research-c212e0fa56ed3123c1a7.js","119805349474264":"path---mobile-h-5-startup-way-af418933966ede3a0d42.js","182499067408490":"path---mobile-page-adaptation-853c68ddee501ede4a2d.js","68006741273571":"path---webpack-v-5-new-feature-f30a23e0539f5d1eca5b.js","110988585264394":"path---javascript-subject-note-f7440240c4efb3f39231.js","198141680726347":"path---javascript-deep-learn-note-9227e5024475b4b87edd.js","140488902913988":"path---handle-service-worker-updates-32161f15484c0d47e30a.js","193855178077404":"path---advanced-front-end-knowledge-points-f3d5b3558523ba55b61e.js","154641886463502":"path---middle-front-end-knowledge-points-19eb844a05166e1f9f6d.js","78808260981090":"path---react-fiber-data-struct-f2368ac1e4aa6d68463f.js","187160597537092":"path---git-code-statistics-script-24f40cf6db47d27b3d62.js","265278845270929":"path---micro-front-end-demo-practice-c56fef159d441b32f4ff.js","59754615026819":"path---mobile-adaptation-summary-96515cfacc1ff88266b3.js","38593257236695":"path---tour-of-compiler-if-statements-5763599457e9a3dd8044.js","230536583370633":"path---tour-of-compiler-comparison-operators-173336f5651aace272d3.js","264484976136942":"path---tour-of-compiler-variables-9d463e733ee9bc281d21.js","31039800244851":"path---tour-of-compiler-declarative-statement-456a7411ab81f6edcf38.js","92273702718447":"path---tour-of-compiler-real-compiler-4552e95489daae2f5525.js","226680921848275":"path---tour-of-compiler-operator-precedence-1d6caa4185957ec515e1.js","274483352016785":"path---tour-of-compiler-analysis-introduction-d59cfd662b3e08cf976e.js","170668952363537":"path---tour-of-compiler-lexical-analysis-c169fed30363b06f2f4e.js","82802516877727":"path---summary-of-technology-selection-in-2019-3c405f96cf7ee61df093.js","269915331335885":"path---tips-blank-character-chinese-align-a3e401dfef718bec8c1b.js","49441064980499":"path---js-relative-absolute-path-d6be3b3f349133b78507.js","109110832112880":"path---css-world-flow-destroy-protect-0b861fe0137760f6d81a.js","141992300323963":"path---html-5-canvas-image-compress-upload-8adb127ba06b4001948c.js","82548825117353":"path---canvas-picture-watermark-synthesis-5814f1913d896a4729f5.js","159609538554957":"path---css-focus-within-pseudo-class-selector-369617721212bafa7509.js","101417603278349":"path---svg-canvas-nonzero-evenodd-6ed81c3020c16afb7aef.js","247968284594616":"path---css-js-scroll-smooth-81b3e2917d40069cd936.js","95541628699068":"path---css-world-stacking-rule-735f6fa7a22a248a7ef9.js","46951400172558":"path---text-selected-shared-ba06cff2c8cdaaa3188d.js","110619198058412":"path---simplify-your-css-code-f745206f794c8f9781b7.js","233462761007109":"path---page-visibility-api-introduction-extend-de62457bf9b4d57b8854.js","195172636032870":"path---browser-style-decimal-bd448da3e4f4b681ace1.js","272195067543221":"path---html-body-some-feature-a304474dacab72859dc4.js","163889365749263":"path---checkbox-radio-text-align-3f1c5efeb0cf4cf164b8.js","72541711572225":"path---css-3-animation-requestanimationframe-tween-67b8ee937113b7dc9f5f.js","104847515272882":"path---dom-practice-test-fbfcf97c93ab93f3d7c1.js","151439111480636":"path---js-practice-test-ef08e9738250f33cadf3.js","30374064348324":"path---css-practice-test-06de2696ede174ffc628.js","98631712756975":"path---treated-as-passive-error-handle-789cd5870f75cfeb88f4.js","266574558670767":"path---css-flex-deep-20ba6fec7de03a49c2cd.js","21823713651784":"path---html-5-canvas-video-barrage-1bf1b07e25230999b0ac.js","95626578819758":"path---js-api-pointer-lock-9898c93f58640c40fe1f.js","240315923619403":"path---css-data-report-html-validate-66761ac11accd9e27c78.js","127813417734943":"path---disabled-all-form-elements-9b06cacccc979d72be94.js","188475446395154":"path---crossorigin-canvas-getimagedata-cors-828e1f1e003292a98c44.js","187494725313217":"path---js-text-string-download-as-html-json-file-aae94ee6a84ba23d0dca.js","272511819627113":"path---html-download-attribute-b55c3148004fe1548663.js","248846600346262":"path---js-dom-innertext-textcontent-fc40063bdaa6db197fdc.js","202335988892822":"path---document-readystate-6ce4a3df2b1893701583.js","61022664142917":"path---htmlunknownelement-html-5-custom-elements-a5085418f83237689ae9.js","19734167489592":"path---content-css-var-91dadb4797ed400bd639.js","66989148915586":"path---css-not-pseudo-class-7ca732eb97aa0c312b91.js","141417946962394":"path---iframe-html-5-blob-code-view-90f0e0d4dc0ba26f7c42.js","49300589254192":"path---js-css-supports-detect-fc55f6a2bec4171734c2.js","76438789647706":"path---nodejs-introduce-learn-c5f47b2d7d7f0f20a0db.js","37794390829194":"path---lightweight-website-construction-880c3484265dd7ece8c7.js","134962980590853":"path---building-platform-lightweight-components-59850e47c2848d034469.js","115042040031774":"path---webpack-template-new-project-ea20800a6f99c3590ecb.js","32322750695760":"path---commonjs-summary-extension-4bb9585c14b885a43134.js","16887684178233":"path---react-create-context-practice-learn-bea7b79aaf76cb3f7f94.js","189993371551974":"path---js-basic-of-extend-6f6432dc561667ae7064.js","111070682281443":"path---react-create-ref-practice-learn-15b23aee48c7aecbf65f.js","23621578112341":"path---react-forward-ref-practice-learn-75ad3c0ec46b6263e25e.js","215901486510903":"path---react-component-practice-learn-eba4966882d339c7f743.js","180991392895427":"path---react-purecomponent-practice-learn-86f07efaa7375654dfb9.js","37985464542653":"path---react-lifecycle-practice-learn-83fe0c900b7dba9cbdae.js","178492137542081":"path---webpack-upgrade-about-product-0d790bb29fea35a22c02.js","102543393368289":"path---regex-introduce-learn-6cec2daca3e3f0b2a9fc.js","26795806700048":"path---tree-traversal-depth-copy-25da6b1fa71e740e0c07.js","262384701263052":"path---debounce-throttle-difference-realize-b7914f0fbdbae8e89169.js","141526626617229":"path---css-equal-height-b8f3fe3a78dd8a1c57fa.js","256518113803814":"path---sip-protocol-practice-ef109501fcb1fbd3acc1.js","1482970639750":"path---sip-protocol-introduction-learning-eaf0ad7427501bc93cc2.js","206755618451597":"path---nginx-common-configurations-techniques-dd7355ac30e65bc4a774.js","67481178795841":"path---write-resilient-components-8c3b25a3bb480b00ecfb.js","84017562852647":"path---frontend-debug-skill-c7ac1be0c53e270901ae.js","240569215673226":"path---react-16-new-feature-972f5f09c8f2b43b7efc.js","99361632293659":"path---frontend-module-development-d791ce8098143c926aeb.js","109582715248421":"path---components-pack-as-library-9cd9d7f27caad6fc87c7.js","135746070171372":"path---webpack-config-note-916c4ce075f3536d8ea2.js","26409159992655":"path---ui-auto-test-note-3f243369c5475082922d.js","55192805921463":"path---react-interview-question-843fd103d1e01ec29fa0.js","189837882542944":"path---react-design-pattern-39375d24f2d22afa2946.js","120474358904736":"path---chrome-debug-practice-509f4d391437fcde6e74.js","96783395857140":"path---js-constructor-prototype-proto-810568dd9d6dbfb927df.js","125414828153565":"path---wavesurfer-voice-wave-research-037abc68738d4c27c5f1.js","4677310189427":"path---rich-input-question-03322d2b6950ac54ada8.js","133380808647674":"path---reactplayer-ie-compatibility-b8279987b72a9baefe02.js","189819586673572":"path---you-dont-know-js-asynchronism-and-performance-22c1145234c512ec25f6.js","239009554120018":"path---git-flight-rules-83f5c60396f22c2482ac.js","166593258765218":"path---css-classic-example-7d0af402dbbf79dd19e9.js","298824337312":"path---css-world-inline-element-flow-8ad3569af5adf4e5b818.js","192529106435518":"path---css-world-four-kinds-of-box-2298bc5c4438b831e3b9.js","29858146650202":"path---rxjs-deep-learn-724b4e50348e8d516e90.js","154101502709845":"path---rxjs-introduce-learn-5f71193532390474f611.js","246826653707843":"path---redux-calculating-derived-data-6eaf36b02d06bb25ccc9.js","56688832912952":"path---redux-saga-introduce-learn-5a3bb58921131f448ad4.js","35215107077800":"path---redux-deep-learn-f19db2989047ced7bd95.js","250319174066818":"path---immutable-introduce-learn-c596ff4f4cb35378ea84.js","266856770294758":"path---redux-introduce-learn-533d70a3903d996f7ed4.js","74874845339421":"path---interview-question-analysis-2c0568d46efe6eb94fd7.js","127390024272194":"path---you-dont-know-js-this-4e53cebcab7fd502c968.js","46048776209243":"path---you-dont-know-js-scope-closure-083de1acf2c552c63d14.js","3203333590612":"path---css-world-flow-element-size-12135e2cd3676ccce3c4.js","151576129033544":"path---css-world-overview-term-8c49a7f7aa563fe69fc0.js","130609919784473":"path---react-virtual-dom-6702f19284d2a0d0930d.js","157650046329573":"path---mvvm-principle-ff6b9bafdf02d6c11122.js","181823707396581":"path---design-pattern-behavior-3-030026db179887aa944a.js","77780585648407":"path---design-pattern-behavior-2-866cddecc113e44477a8.js","140068777058045":"path---design-pattern-behavior-1-fada1f413bd0fb46008e.js","140863066927165":"path---design-pattern-structure-2-01130e14dd98f46d8125.js","57683576168785":"path---design-pattern-structure-1-1d959e239f4e221a9725.js","279644622097558":"path---design-pattern-construction-1054ae911bf2a26f32c3.js","233796934417334":"path---front-end-interview-js-7ed36b277b9d846e5c97.js","172338214531871":"path---front-end-interview-css-ba58a9474d682d7c0cff.js","172792547499645":"path---front-end-interview-html-5af38186fd3ba2a811f8.js","153003541832976":"path---code-readability-bb9645dd8fc6f9074d6b.js","238950460306079":"path---code-restructure-81d1d1ec9a95aebe13b1.js","186817101542729":"path---mysql-introduce-52e964971b705539cf5b.js","67868663466541":"path---sql-must-know-55148876c52f0d59e408.js","179123734216878":"path---database-principle-48f6d9cfbad3194bd924.js","197528540878311":"path---object-oriented-thinking-7106d3511aed287900e6.js","255809964947665":"path---database-commonly-used-statements-fa99b9bdbbcb0a11a3fc.js","39260881961776":"path---linux-introduce-c8b73b91c4de6c2aa4e1.js","247575535157272":"path---os-principle-4da634f7a545e89e7906.js","220391400373878":"path---http-reading-notes-1488a5fc8b43be71e6a2.js","152766969759832":"path---mathjax-usage-88247eeb0c33b6061275.js","191048638926708":"path---computer-network-notes-e8db5977b604906de6f7.js","16029065190934":"path---find-java-ca68370f144934661d2d.js","131858814825615":"path---sort-java-29032d6edfb044ebabc6.js","179513461417981":"path---offer-connexity-76139f328a576693a0fb.js","2077809429520":"path---stack-queue-java-09e62ebd9f59922079d2.js","94884530434318":"path---offer-sort-9334eca7a71065b11ee2.js","269098541434364":"path---offer-stack-queue-22d572e6e1d50fecb0b8.js","22537169709993":"path---offer-binary-tree-f0ec0df84585ef2146cf.js","200193712851722":"path---offer-linked-list-3af4089005c6e96f649a.js","94907309432306":"path---offer-find-b3d195e0cffc86ea7663.js","158498598503450":"path---snow-css-8b65ade3318b2d6d7bce.js","209763765154159":"path---front-end-performance-optimization-e6ac364f27317ece2111.js","255113926979057":"path---front-end-interview-18921bf67fbd95800d4e.js","116349555253862":"path---commit-message-d1144eb72a2dfca19f16.js","228154231362593":"path---webpack-code-split-0d682fa6dfde2ea583d5.js","70747314155962":"path---optimize-react-128c8cf3613fddf7643c.js","246937419070161":"path---react-usage-part-3-d75a64deffa4007505e3.js","5694392597594":"path---docker-origin-guonei-fc29f3ad7b5143efb182.js","256465420633148":"path---docker-know-99c4bd6d10df53748de3.js","215705572723171":"path---docker-install-3ae4be59ef3c6a62e309.js","165757041900087":"path---react-usage-part-2-d6bffbffa8434f53444b.js","99572342228114":"path---react-usage-part-1-6a8295087cf57c41f03a.js","124652324222989":"path---windows-port-2cba9a47a083539c5255.js","236695045588082":"path---githook-usage-64f078d6d06ef4868389.js","79993016894138":"path---css-center-50792054f4bb4884c295.js","182899130353333":"path---gitignore-invalid-14ae86743e24eb152453.js","277987419415630":"path---js-design-pattern-8193c59c45ecee9d6a7c.js","280217338959103":"path---tag-前端-05775c589ce8e1b6ac18.js","144619525831214":"path---tag-前端-page-2-cdd91d579cc97006f4c6.js","134768160992730":"path---tag-前端-page-3-8b672049c9d0f9c4a216.js","235700789028774":"path---tag-前端-page-4-f42f99925823c2ead513.js","225704977515667":"path---tag-前端-page-5-5c00dd868c3f0e693cf2.js","271595351081153":"path---tag-前端-page-6-f8e214f2d9dd22ceedd1.js","116526339399102":"path---tag-前端-page-7-9ad3ef8da4ed64d94035.js","167419548736750":"path---tag-前端-page-8-af239675ae2f609802f0.js","144565916427361":"path---tag-前端-page-9-54c3710f902039a01abb.js","69805246205965":"path---tag-前端-page-10-a6e6c7f552639af1bb3a.js","166194159146504":"path---tag-前端-page-11-38a6d821dc093ec3f7a1.js","13136377985470":"path---tag-前端-page-12-9e83237cee26db4d6c23.js","169681553618413":"path---tag-前端-page-13-9427ad512b979808e07b.js","112772301067383":"path---tag-前端-page-14-854cf3934c1a8916a77b.js","255971987764058":"path---tag-前端-page-15-f4e3a15f21e0cf6229ca.js","21818679219157":"path---tag-前端-page-16-9da3f3d8a39e22edb406.js","128402355770693":"path---tag-前端-page-17-93409efdeca00e3693ab.js","226488181208339":"path---tag-前端-page-18-004c651a675f08d1e54f.js","51590185498547":"path---tag-前端-page-19-4c73eed4b982de121d42.js","187255363806570":"path---tag-前端-page-20-294615fb153b93586bd3.js","236915051321587":"path---tag-前端-page-21-6b064cd65c8fc44a9153.js","170231020820745":"path---tag-前端-page-22-a0645155fb7949ac8e88.js","255109872729121":"path---tag-前端-page-23-6e813277baa8fff8ee09.js","101071383335311":"path---tag-前端-page-24-7ecbd56f8b850055ac1f.js","99383999428036":"path---tag-前端-page-25-c30b843654fe9f6f98e1.js","144380153295286":"path---tag-前端-page-26-5d0ab350b6c0340ef13a.js","36422437585920":"path---tag-前端-page-27-3a51eee2c22a8dfd62b2.js","227733324677196":"path---tag-前端-page-28-5017e6c477249652b0c6.js","138783467440054":"path---tag-前端-page-29-13e8c61e983ddfc098cb.js","87586965140422":"path---tag-前端-page-30-689603c64e90e7e9cee4.js","187723193351075":"path---tag-前端-page-31-4d078afa59f6c8043f3f.js","26826946742453":"path---tag-前端-page-32-4db6a16bf935a9cc4575.js","22202411146976":"path---tag-前端-page-33-185ce2ff96a2c5e12538.js","268131242161431":"path---tag-前端-page-34-1f152937920bb5b9ffdb.js","172023369110028":"path---tag-three-js-42260004463e8963bdba.js","85228607460090":"path---tag-webgl-66c479b01a8d4bf51132.js","216054767387161":"path---tag-webgl-page-2-f97cccf2a88aa0f82fad.js","81605620053349":"path---tag-练手测试-d11f31da14ea35ed8343.js","140566045289362":"path---tag-练手测试-page-2-0d5dd364901375d0fba8.js","188115791097782":"path---tag-后端-170aeffea8d61eeca64a.js","175926551659039":"path---tag-后端-page-2-f5cfe7e30fc5ac08e9f9.js","222032430269809":"path---tag-后端-page-3-d5824c4e7b3abaed5a27.js","136250400437373":"path---tag-后端-page-4-4f19667c228f6be4f179.js","149810172769072":"path---tag-后端-page-5-7c3960735ff85ac1cfaf.js","124141153110974":"path---tag-rust-efc0a6c9760a678ecd6f.js","40118790249721":"path---tag-地图-161b5f1fa6bdb763aee5.js","3112546720375":"path---tag-预研-4b19ac60c94c5d489164.js","175904578583099":"path---tag-预研-page-2-daec16cf6ed28154ab12.js","139547808704971":"path---tag-预研-page-3-e2988186e9ee27595b7e.js","65116756252467":"path---tag-预研-page-4-50951c34ef6bfb715b48.js","73561527382206":"path---tag-预研-page-5-06ed5f840bdc17adf3b1.js","121012259749056":"path---tag-预研-page-6-cdd6a1bfec53c2dbd307.js","31486173476733":"path---tag-运维-b42780a1691ea6ac948c.js","189109441818159":"path---tag-jenkins-19350ea877861c6bd0fe.js","214332279260767":"path---tag-webpack-c127ceabe085bfe32025.js","275302807227065":"path---tag-webpack-page-2-9399776a932fc1cf2bc2.js","145427114256091":"path---tag-webpack-page-3-e312d6047c488cc82057.js","46846056092474":"path---tag-docker-b44c9a95edc9aa7e19d3.js","200588481281844":"path---tag-国际官网-dd4866d21ca039e61622.js","245443295320448":"path---tag-python-74c5f98def487f34afef.js","123468018549782":"path---tag-读书笔记-8884e6790d0787b5089c.js","219243303571878":"path---tag-读书笔记-page-2-82859e4b53bcf5f6f4ca.js","177321438342222":"path---tag-读书笔记-page-3-a93e4e04795ac29bfcd8.js","119692668320946":"path---tag-读书笔记-page-4-14517e1162db3ba7152d.js","92917171071317":"path---tag-读书笔记-page-5-9edb1fb0946cded7c70a.js","29302078007607":"path---tag-读书笔记-page-6-6b7df03238691e175fa2.js","7254018893474":"path---tag-读书笔记-page-7-87fc389d16d623421b46.js","101501681965342":"path---tag-读书笔记-page-8-04dcede525ccc2f63196.js","239113593482567":"path---tag-读书笔记-page-9-a674b0a788082464d7de.js","189926708044907":"path---tag-读书笔记-page-10-8f7b018c6809684e0a9a.js","90852120444786":"path---tag-读书笔记-page-11-683842d12f5ff4c66089.js","138931693124743":"path---tag-读书笔记-page-12-f76fd422c1a5c99842b4.js","241798135118440":"path---tag-读书笔记-page-13-02f6e3cef938f833e1e1.js","68385612281013":"path---tag-读书笔记-page-14-5c73590860d5bc740862.js","115565053104130":"path---tag-可视化-858c620f572f90f373d0.js","175267826136441":"path---tag-可视化-page-2-6a980da651e23300af1c.js","158044312981956":"path---tag-css-505f651bbb75c8f473c3.js","36482110888888":"path---tag-css-page-2-5b64c9a96e549314c7dc.js","20735708223292":"path---tag-css-page-3-3a5b44b28b4a63f8a80d.js","66025328700304":"path---tag-css-page-4-cc2497b3b6be63409b4b.js","75036630219270":"path---tag-css-page-5-8a367efecb42ba44ff70.js","126176205604903":"path---tag-css-page-6-2b36479612caeefdfb38.js","212682945028424":"path---tag-css新世界-7f8f2c4249c7c22e76ec.js","138612554712136":"path---tag-系统设计-69a15c6c47e501b0b880.js","27556676020736":"path---tag-ui-5ff3eef8793beace75d9.js","47420523622978":"path---tag-css世界-5d0cd51420b86300d809.js","58378761960698":"path---tag-css世界-page-2-4a4f4a9772408c6806b8.js","246642745296185":"path---tag-typescript-4478a639982349fbff01.js","124409737257471":"path---tag-ts-1c31019c9c07f8c37cbc.js","125526760298268":"path---tag-源码优化-8531f2b5e78bbe9f754f.js","73385903424271":"path---tag-前端工程化-8881726c5d1dc7b1fe85.js","121486913681075":"path---tag-前端大会-f8e4402bfffcde2dc2dd.js","90118835607675":"path---tag-前端分享-baaeb8dc060abdc5efe5.js","221194146956203":"path---tag-开发环境-e1dc0863e1695cc1b04f.js","33668472382135":"path---tag-js-43fd8fa7b1df30c47933.js","247229810038570":"path---tag-js-page-2-e4395a6f9c8c93875bbf.js","106314807094431":"path---tag-js-page-3-31479cc87a5f2bb8592b.js","251448199717119":"path---tag-js-page-4-7daad6ce1e1397b73b22.js","95399022353888":"path---tag-js-page-5-e9d75197384ca0f3a133.js","121601231696452":"path---tag-js-page-6-ba74602fb8e509ad26e1.js","98304590994254":"path---tag-js-page-7-a41f5e29117755ce5788.js","107940279516720":"path---tag-软件工程-05d4c857f7da2a68ce4f.js","28998175336757":"path---tag-人月神话-68ff41601f166cc046b2.js","46883582140183":"path---tag-前端构建工具-bf1036d9c2d66a61868e.js","216092612467307":"path---tag-前端构建工具-page-2-e2600f569a5df9adf82e.js","272722186388534":"path---tag-前端构建工具-page-3-a62dc550ca7425dc5e03.js","64440702364416":"path---tag-babel-f1bd2e693e3b36aba814.js","58912517482029":"path---tag-前端模块化-a12195584b4d7bb98920.js","170390721126745":"path---tag-浏览器-e406984cd442ff5051c6.js","117302061067003":"path---tag-浏览器-page-2-b371f905eb042db71fc9.js","207729938765415":"path---tag-高级前端-07303a731adc4b6bb912.js","50623193433078":"path---tag-高级前端-page-2-6dc6983012899c04f564.js","192616484687150":"path---tag-高级前端-page-3-0a4549d812c9e03c0c7b.js","113162919196161":"path---tag-高级前端-page-4-1d931551d14d866f10c2.js","128685919153162":"path---tag-高级前端-page-5-ba2c2954bfdbb7d1e5f5.js","172281229550470":"path---tag-面试-2d30f2f1c6c4dde4d846.js","223171976435229":"path---tag-面试-page-2-2d790862dd8d875e6501.js","142786436347975":"path---tag-面试-page-3-a50db768de74b008fa30.js","238935357380661":"path---tag-面试-page-4-886ebaa4313eaac4ad62.js","245880621862883":"path---tag-面试-page-5-175f48e62b1a2f51249f.js","246669227103960":"path---tag-面试-page-6-45523d6beeeb94019f66.js","60323078534330":"path---tag-面试-page-7-283dc9e8bc1da1fa93d7.js","33913029254865":"path---tag-面试-page-8-071bca006ca3f5f57dc7.js","85290250346840":"path---tag-前端性能优化-f692561d71559525e3e6.js","159636287766597":"path---tag-事件循环-1645ce7c67282567fc9d.js","13915931333708":"path---tag-垃圾回收-568880f8ededadc3fa60.js","106987270341371":"path---tag-微前端-814b660df968095b5f39.js","148138180873878":"path---tag-arcgis-b0e2dcff4f9b2a6883ab.js","210141546779958":"path---tag-nodejs-fba997f859ee56848060.js","279290322679409":"path---tag-react-c15793799d4e30dcba9c.js","72356264004862":"path---tag-react-page-2-e33724a4dcb677ecef22.js","156365063712372":"path---tag-react-page-3-355521b058b0821b8b1e.js","274294878482829":"path---tag-react-page-4-dd5e638164762eac927b.js","73619400011093":"path---tag-js风格-38306f5b8225effb0120.js","169881772473193":"path---tag-代码风格-b3e6671416d2fe7d309f.js","27213340347409":"path---tag-sequelize-b06a03bcc03effd4c9b5.js","236015796260796":"path---tag-sql-50b98bd44af4b85792f2.js","216964011399890":"path---tag-nodemon-fbabc504adf3a7952b80.js","136558777394075":"path---tag-vim-534a6d9ae5762906e99f.js","112744683526212":"path---tag-跨域通信-f7b2ee7b4260109c8dce.js","161708165456681":"path---tag-移动端-2e3f840feaf811898734.js","67876575737478":"path---tag-h-5-秒开-6ec992076bb52f38f1a8.js","137101871598456":"path---tag-页面适配-518235fd8a31bfb4f199.js","148741462354591":"path---tag-service-worker-c987242df3616a4beddc.js","120830084542416":"path---tag-中级前端-06f86773d939fb22af17.js","264910603292921":"path---tag-react-fiber-e29f8593d1b75d0797ca.js","100106430134091":"path---tag-数据结构-4b2dac598dd22e031237.js","76183262367588":"path---tag-git-70189293bfdcd5eadd78.js","47817495489441":"path---tag-git-代码统计-eecf352ad7db82ad16d5.js","141543887851370":"path---tag-兼容性-060333cc793b797838a2.js","136622922599015":"path---tag-编译原理-20ae2dbdfa1324bf5177.js","135623521460029":"path---tag-编译原理-page-2-2ddb031181be37a5e61a.js","99329431726685":"path---tag-if语句-23517fddfe8701170ef7.js","33678702584530":"path---tag-比较运算符-ea4154968adb34bb1ed2.js","207953707139114":"path---tag-变量-c8bb6d7539eda96a5e40.js","89724312631592":"path---tag-声明语句-aabb7112835765aff08f.js","224756936447063":"path---tag-代码生成-18d1cadf6d8aec107534.js","134624525137057":"path---tag-语法分析-72fb53b905f273b53d9f.js","239036712589926":"path---tag-词法分析-82894539c644c81a8866.js","157828576223872":"path---tag-技术选型-4a1f70836c9d7a502e67.js","168271920233154":"path---tag-总结-1604d0c2ab322a656d38.js","175842416185399":"path---tag-css知识点-d307a2c15975b0d6044e.js","28595561929447":"path---tag-css知识点-page-2-bca1df3d5ffc604036de.js","10948302720247":"path---tag-css知识点-page-3-4f191856e2c29cc77c5b.js","15127192101541":"path---tag-js知识点-cf9b0c3302d79688a640.js","237370589647213":"path---tag-js知识点-page-2-e6827284a9964089220c.js","118988535768012":"path---tag-js知识点-page-3-00a075aa5bbc821cb3a4.js","207793193350173":"path---tag-dom-5daca599be67e6e8b540.js","250389947503448":"path---tag-dom知识点-8d2786acecd7e56cdb9f.js","269946260161815":"path---tag-轻量级网站-5b7e18f9f77c8cacd7d4.js","109081405058155":"path---tag-组件轻量化-f4c922698d145ab528f0.js","53943148813198":"path---tag-commonjs-7acb0214f66289f5066d.js","39355436030835":"path---tag-createcontext-295a410dd6d0fd5eb067.js","219059167858027":"path---tag-继承-d0cf3d14a1c2ad94aa35.js","25557126236255":"path---tag-createref-1c7a2c575739a208f19f.js","222411628126134":"path---tag-forwardref-473f8f5cc9fd23d256e8.js","138909214601654":"path---tag-purecomponent-ec7b8c2043f3a9aa016c.js","248049963584624":"path---tag-生命周期-a79ea4900ffd7139bf0f.js","129965793551538":"path---tag-正则表达式-1a9ebf11107aaa3c871a.js","199104359207265":"path---tag-深度拷贝-0c0da12799edc8db30e5.js","156877434152751":"path---tag-树的遍历-6a6faccda0d5a3e94e05.js","25860037774440":"path---tag-防抖-af775a9357412060eb53.js","115363311855183":"path---tag-节流-c936a10256da3a9a864b.js","217003866274046":"path---tag-等高布局-ca935a3ac63e2887aab8.js","229546239521472":"path---tag-sip-68a752fe33d10240fe78.js","216136966659717":"path---tag-webrtc-966ac83e0fc96318afdd.js","143446159783939":"path---tag-nginx-492898338631b4c9dafb.js","63016845154026":"path---tag-组件-90e3f216071e07bd5588.js","209771045166328":"path---tag-调试-b9080b4f88d3a559c785.js","47274048537731":"path---tag-测试-17ff96ffa6a6e1712019.js","221365960632546":"path---tag-ui自动化测试-134d49c19d409e13eb02.js","6126622387049":"path---tag-设计模式-4aa3837e71d8912eb040.js","141678249858998":"path---tag-设计模式-page-2-986d26ab175d3c372c54.js","227646423861100":"path---tag-原型链-ecfda99cfe339fae4cb5.js","270844286153164":"path---tag-wavesurfer-61f1b62b89e809bd1e2f.js","267774730432137":"path---tag-声音波形图-4ab87e60da16a665b8ec.js","208664617786477":"path---tag-富文本框-a9f57ab7454508213733.js","10646094735096":"path---tag-contenteditable-78833c065b3034082693.js","62655446722822":"path---tag-reactplayer-b9387ed5c49ca5b10eb4.js","56987201576482":"path---tag-ie兼容性-3b63e9470854648155dc.js","77409178505926":"path---tag-你不知道的js-05477645c4bff049f011.js","42304193969392":"path---tag-git-飞行规则-43b94d2fb22f11b018b0.js","67875956743494":"path---tag-css实践-4118755a077530e60cbf.js","268682248610272":"path---tag-rxjs-30ce237f0e8d61e282f9.js","89311683856469":"path---tag-redux-a019f0532dfc31fbbba7.js","180159039882109":"path---tag-redux-saga-367c3bddda83de961ba9.js","16127437772087":"path---tag-immutable-01f7a231add92c5c6dd5.js","27737245621530":"path---tag-虚拟dom-6736b1c26123210aa35d.js","86858602159029":"path---tag-mvvm-95cd223396e0a2672cd1.js","181344580895377":"path---tag-html-1ff5c36518c4f75d7fad.js","113336163118905":"path---tag-编码实践-3de09597c9e7eeb9ff9a.js","213495445956996":"path---tag-代码可读性-bf7fca23e1180002f597.js","68023419151070":"path---tag-代码重构-21404218550f5440d9ff.js","76391135627889":"path---tag-数据库-e3b71eea03787a9cedf1.js","62578285138703":"path---tag-面向对象-8aee0a08c421a2df6876.js","39089212571995":"path---tag-操作系统-9ca7d8eca6992470de03.js","206938361286353":"path---tag-linux-210c10516add6324976e.js","264705075801869":"path---tag-计算机网络-0f6f55c863f71f94f816.js","182651556077521":"path---tag-markdown-e0ac576d8cab52c65232.js","69359442682475":"path---tag-mathjax-1d98671d2573b07794a5.js","262424194971224":"path---tag-算法-026f3db6ad910ec1244e.js","93223738411919":"path---tag-算法-page-2-12ee037e768b77f0d1e4.js","101664424200443":"path---tag-git规范化-0e810694486b42f09922.js","2910128324144":"path---tag-react-性能-b848ced23b45982c911e.js","85535873151340":"path---tag-docker源-01db79993e6c33e108f0.js","87860903228536":"path---tag-docker初级入门-cc3ff33a7f43df45febe.js","123528777417731":"path---tag-docker安装-f53ab3f6acaeb917847e.js","136964432507671":"path---tag-windows-c2dace9c6b18ab84f1e4.js","32755072520275":"path---tag-githook-ef05656fd77dd45f9313.js","75895805060978":"path---tag-居中-bf710b7205a14c3553c0.js","220717035913248":"path---tag-gitignore-945f44cb30d5f4498950.js","274038599397233":"path---page-1-b6716c58b3ec4b799385.js","135728916539164":"path---page-2-f28ad4bf4278b540c44d.js","217820771614769":"path---page-3-fe57551288bc7cb2369b.js","192681129940542":"path---page-4-8d89555cd7969bd553e1.js","10891958300999":"path---page-5-cd4baa843ef315dc4aec.js","195745506856481":"path---page-6-776a15745964ed5e2cb2.js","16783939301590":"path---page-7-e986a4b5e5546f22145b.js","244335847057972":"path---page-8-e50a2ea1dba998a6df82.js","194163173290519":"path---page-9-e62ffe711f1c8b4272af.js","118850167530626":"path---page-10-0d7f835eb7d43c11371a.js","152218003751186":"path---page-11-4867875af6f21384a86b.js","166622523189001":"path---page-12-328fe0427f54cac56233.js","224497949994338":"path---page-13-7d9540a35cf6e4307d0b.js","2878687696391":"path---page-14-dd9d607672debf30931a.js","215981401426538":"path---page-15-31b9be03071241102a48.js","161875067699755":"path---page-16-2eec7a5eb8ca4876f63a.js","3465889432845":"path---page-17-b2245b9ce1493acad391.js","33450389461711":"path---page-18-be2e946038abf7163848.js","41156843682903":"path---page-19-b81c4f58be6eae91bcf1.js","88544223563419":"path---page-20-aa741cf0784c43807611.js","9469948045756":"path---page-21-970eb899700a6a96d71a.js","156031618981499":"path---page-22-824d5d7afd255d9dbaf9.js","245630869752575":"path---page-23-35a5fdb2063d8baaec33.js","63652884590058":"path---page-24-28b0e929afab7da14e88.js","117448474024632":"path---page-25-1b829480fa922c9799f7.js","72835731821973":"path---page-26-90964af9a163cb371df7.js","227544857169625":"path---page-27-042bae31a4eac8896bd8.js","57534992332446":"path---page-28-f9e4590997baf2b72e14.js","162519313768533":"path---page-29-e841768d97c15eedc2c6.js","3603790633319":"path---page-30-c5060675e155d8f8ca8c.js","204137852806792":"path---page-31-c7ef09fe9b0cb465a323.js","180790688453952":"path---page-32-c6da8cbde78fa4f757d6.js","134076066164666":"path---page-33-6443cef21dff3d17e9f4.js","238834444319282":"path---page-34-05b3835e506724de7760.js","182946348612542":"path---page-35-29355474d17399a5d533.js","242319353231456":"path---page-36-e433d071549c32432db7.js","122055260935994":"path---page-37-77018684cfe3eb9a698b.js","281023364537823":"path---page-38-7d422302d15e5dc3a626.js","133537789884340":"path---page-39-001a91e43cf8cb7aba4b.js","72594345334886":"path---page-40-20f7370fac9b92c3f0bc.js","276344957987541":"path---page-41-f8ea56be0315a012f513.js","161768810835943":"path---page-42-836466ec1ed0760ccea2.js","175326625929195":"path---page-43-9985320643ba77b145e9.js","152466146691305":"path---page-44-aad888932c9db96b52fa.js","154201598235581":"path---page-45-ed6d36e55e491c7641c2.js","134804503997918":"path---page-46-b02c847cfd609159f7ad.js","99143200809257":"path---page-47-e5c755b47eb619b76f90.js","64400731137931":"path---english-words-review-8b520641593f2292e017.js","225024145073865":"path---blog-summary-9c838236105bdc335a6e.js","170029867082379":"path---ui-learn-note-4b1f1184363221ba1269.js","274217125210696":"path---personal-resume-2022-print-befec78cbbf490fea66a.js","198866120675102":"path---learning-route-2021-38a1b2b074661e5c241a.js","263661915760249":"path---interview-algorithm-b1f9a8a1d1345bb18c3b.js","155049361902267":"path---personal-resume-2021-print-5769891c4686fe59a4c9.js","54638178968342":"path---js-interview-source-code-c0fddabb72404a7ae395.js","132157361455169":"path---written-examination-record-e43458529589a0dcf264.js","87301782745465":"path---multi-dimension-analysis-structure-analyzing-28254183ee6bd183b3ab.js","130849465771344":"path---personal-resume-2021-1b6514c895c9b0a57bf0.js","240149536883285":"path---interview-record-979f9145eb5487077bda.js","99230332435911":"path---reverse-interview-159d9ae81533820de242.js","21721269591276":"path---interview-record-summary-c76e17bfe570bf13c921.js","22486905293576":"path---personal-resume-2020-c0fb0aea90bd133ff9d3.js","197297040802783":"path---weekly-summary-2018-f4d1fecd122c8e23bfab.js","144342403179678":"path---hello-world-c7c8962a0bc183402fbb.js","236643250588249":"path---personal-resume-258a88f27889fbd0e8ea.js","56240726505197":"path---drafts-page-1-67dfc23def7ccdb23b01.js","139912377317252":"path---drafts-page-2-3b0bf7f7c65c1c40fd09.js","53950094676651":"path---drafts-page-3-080c2139c1b8f2fada7e.js","166788874713454":"path---drafts-page-4-d019a700c9f8900ba3e4.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","273950069227526":"path---about-b5874c74fd98d3a1807e.js","252549247087927":"path---drafts-2ebfa07fe4e801f3b496.js","142629428675168":"path---index-85da95697e5d73be5cf4.js","254572558124955":"path---search-eee4433dea71c059a1d7.js","55702396619907":"path---tags-17d144253326ae9643e8.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-9f803d04457066733240.js"}/*]]>*/</script><script>/*<![CDATA[*/["/commons-dfbd6b1b914582b06b95.js","/app-a412a9ebcef14201b60b.js","/path---typescript-introduce-learn-2154976b77a081470069.js","/component---src-templates-blog-post-js-bce65c0f16598ce7aa0f.js","/component---src-layouts-index-js-9f803d04457066733240.js"].forEach(function(s){document.write('<script src="'+s+'" defer></'+'script>')})/*]]>*/</script><script src="/js/smooth-scroll.min.js"></script><script src="/js/lazyload.min.js"></script></body></html>